{"version":3,"file":"js/app.4ba2f9a0.js","mappings":"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","sources":["webpack://robot_comm_model/./src/components/Home.vue","webpack://robot_comm_model/./src/components/Home.vue?08c6","webpack://robot_comm_model/./src/components/Convoy_Seven.vue","webpack://robot_comm_model/./src/PosData.js","webpack://robot_comm_model/./src/components/Convoy_Seven.vue?9406","webpack://robot_comm_model/./src/components/Bumblebee.vue","webpack://robot_comm_model/./src/components/Bumblebee.vue?9fae","webpack://robot_comm_model/./src/components/SteelCable.vue","webpack://robot_comm_model/./src/PosDataGh.js","webpack://robot_comm_model/./src/components/SteelCable.vue?3eb8","webpack://robot_comm_model/./src/components/Bluetooth.vue","webpack://robot_comm_model/./src/components/Bluetooth.vue?222a","webpack://robot_comm_model/./src/components/BluetoothBumblebee.vue","webpack://robot_comm_model/./src/components/BluetoothBumblebee.vue?c304","webpack://robot_comm_model/./src/components/BluetoothSteelCable.vue","webpack://robot_comm_model/./src/components/BluetoothSteelCable.vue?e0bc","webpack://robot_comm_model/./src/components/BluetoothBazz.vue","webpack://robot_comm_model/./src/components/BluetoothBazz.vue?ffa2","webpack://robot_comm_model/./src/components/TestFactory.vue","webpack://robot_comm_model/./src/factory/SelectRobotFactory.js","webpack://robot_comm_model/./src/factory/RobotAbsFactory.js","webpack://robot_comm_model/./src/factory/InfoEnum.js","webpack://robot_comm_model/./src/factory/OptimusPrime30Robot.js","webpack://robot_comm_model/./src/factory/OptimusPrime40Robot.js","webpack://robot_comm_model/./src/factory/SelectRobotElect.js","webpack://robot_comm_model/./src/factory/OP_ActionFrame.js","webpack://robot_comm_model/./src/components/TestFactory.vue?07d0","webpack://robot_comm_model/./src/router.js","webpack://robot_comm_model/./src/App.vue","webpack://robot_comm_model/./src/App.vue?7ccd","webpack://robot_comm_model/./src/main.js","webpack://robot_comm_model/webpack/bootstrap","webpack://robot_comm_model/webpack/runtime/chunk loaded","webpack://robot_comm_model/webpack/runtime/compat get default export","webpack://robot_comm_model/webpack/runtime/define property getters","webpack://robot_comm_model/webpack/runtime/global","webpack://robot_comm_model/webpack/runtime/hasOwnProperty shorthand","webpack://robot_comm_model/webpack/runtime/make namespace object","webpack://robot_comm_model/webpack/runtime/jsonp chunk loading","webpack://robot_comm_model/webpack/startup"],"sourcesContent":["<template>\r\n  <div>\r\n    <h3>\r\n      机器人通信Dome(通信方式不要按照我这种来，最好采用通讯池的方式，接收和发送都在通讯池中处理)\r\n    </h3>\r\n    <p>通讯格式为:帧头、数据长度、指令、数据、校验位</p>\r\n    <el-button type=\"primary\" v-on:click=\"GO_Convoy_Seven()\">变七</el-button>\r\n    <el-button type=\"primary\" v-on:click=\"GO_Bumblebee()\">大黄蜂</el-button>\r\n    <el-button type=\"primary\" v-on:click=\"GO_SteelCable()\">钢索</el-button>\r\n    <p></p>\r\n    <el-button type=\"primary\" v-on:click=\"GO_Bluetooth()\"\r\n      >变七蓝牙测试</el-button\r\n    >\r\n    <el-button type=\"primary\" v-on:click=\"GO_BluetoothBumblebee()\"\r\n      >大黄蜂蓝牙测试</el-button\r\n    >\r\n    <el-button type=\"primary\" @click=\"GO_BluetoothSteelCable\">\r\n      钢索蓝牙测试\r\n    </el-button>\r\n    <el-button type=\"primary\" @click=\"Go_BluetoothBazz\">\r\n      巴斯光年蓝牙测试\r\n    </el-button>\r\n    <p></p>\r\n    <el-button type=\"primary\" @click=\"Go_facTest\"> 抽象接口测试 </el-button>\r\n  </div>\r\n</template>\r\n<script>\r\n//import { TextEncoder } from 'text-encoding';\r\nimport iconv from \"iconv-lite\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      msg: \"aaa\",\r\n      ports: [],\r\n      abc: [],\r\n    };\r\n  },\r\n  methods: {\r\n    async requestSerialPort() {\r\n      try {\r\n        //\r\n        const port = await navigator.serial.requestPort();\r\n        console.log(port);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    },\r\n    async getSerialPorts() {\r\n      try {\r\n        this.ports = await navigator.serial.getPorts();\r\n        console.log(this.ports);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    },\r\n    GO_Convoy_Seven() {\r\n      this.$router.replace(\"/Convoy_Seven\");\r\n    },\r\n    GO_Bumblebee() {\r\n      this.$router.replace(\"/Bumblebee\");\r\n    },\r\n    async GO_SteelCable() {\r\n      this.$router.replace(\"/SteelCable\");\r\n      //const device = await navigator.usb.requestDevice({filters:[{}]});\r\n      //console.log(device);\r\n    },\r\n    async GO_Bluetooth() {\r\n      this.$router.replace(\"/Bluetooth\");\r\n      //const device = await navigator.usb.requestDevice({filters:[{}]});\r\n      //console.log(device);\r\n    },\r\n    async GO_BluetoothBumblebee() {\r\n      this.$router.replace(\"/BluetoothBumblebee\");\r\n      //const device = await navigator.usb.requestDevice({filters:[{}]});\r\n      //console.log(device);\r\n    },\r\n    async GO_BluetoothSteelCable() {\r\n      this.$router.replace(\"/BluetoothSteelCable\");\r\n    },\r\n    async Go_BluetoothBazz() {\r\n      this.$router.replace(\"/BluetoothBazz\");\r\n    },\r\n    async Go_facTest() {\r\n      this.$router.replace(\"/TestFactory\");\r\n    },\r\n    async f() {\r\n      //测试延迟功能\r\n      // console.log(0)\r\n      //     let promise = new Promise((resolve, reject) => {\r\n      //       setTimeout(() => resolve(), 50)\r\n      //     });\r\n      // let result = await promise;\r\n      //console.log(new  Uint8Array(\"aaaa\"));\r\n      //console.log(1)\r\n      //var a = new TextEncoder('gb2312');\r\n      // console.log( Array.from(a.encode(\"测试发生的的父亲为人妇\")))\r\n      //console.log(Array.from(iconv.encode('测试发生的的父亲为人妇',\"gb2312\")))\r\n      // var nameByte = Array.from(iconv.encode('VolleyAction/2.sh','gb2312'));\r\n      // console.log(nameByte)\r\n      // var data\r\n      // =[255,255,3,26,50,79,255,255,6,26,200,206,206,241,117,255,255,\r\n      // 6,26,180,171,198,230,43,255,255,6,26,177,163,187,164,211,255,\r\n      // 255,6,26,193,166,193,191,7,255,255,6,26,188,211,211,205,79,\r\n      // 255,255,6,26,205,197,182,211,59,255,255,8,26,180,243,187,198,\r\n      // 183,228,229,255,255,6,26,202,167,176,220,29,255,255,6,26,213,\r\n      // 247,179,204,107,255,255,6,26,177,168,184,230,23,255,255,6,26,\r\n      // 197,243,211,209,124,255,255,6,26,187,217,187,181,36,255,255,\r\n      // 10,26,211,192,178,187,183,197,198,250,96,255,255,6,26,193,162,\r\n      // 179,161,215,255,255,10,26,196,220,193,191,180,249,190,161,80,255,\r\n      // 255,6,26,215,212,211,201,103,255,255,10,26,179,172,212,189,202,211,\r\n      // 190,245,100,255,255,10,26,201,193,181,231,191,236,180,242,155,255,\r\n      // 255,9,26,203,171,206,196,188,254,49,22,255,255,4,26,119,50,199,255,255,\r\n      // 4,250,79,75,152,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\r\n      // 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\r\n      // var data = [0, 1, 2, 3, 4, 9, 6, 7, 8, 10];\r\n      // for (let i = 0; i < data.length; i++) {\r\n      //   if (i == 5) {\r\n      //     data.splice(i, 5);\r\n      //     break;\r\n      //   }\r\n      // }\r\n      // var nameByte = Array.from(iconv.encode(\"VolleyAction/1\", \"utf8\"));\r\n      // var nameByte1 = Array.from(iconv.encode(\"VolleyAction/1\", \"gb2312\"));\r\n      // console.log(nameByte);\r\n      // console.log(nameByte1);\r\n      // console.log(data);\r\n    },\r\n  },\r\n  mounted() {\r\n    //this.requestSerialPort();\r\n    //this.getSerialPorts();\r\n    this.f();\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Home.vue?vue&type=template&id=f300c550\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!--变七机器人通讯结构-->\r\n<template>\r\n    <h3 >变七机器人通讯结构</h3>\r\n    <p>连接方式         : 串口</p>\r\n    <p>配置参数baudRate : 115200</p>\r\n    <p>配置参数parity   : 0</p>\r\n    <p>配置参数dataBits : 8</p>\r\n    <p>配置参数stopBits : 1</p>\r\n    <el-button type=\"primary\" v-on:click=\"requestSerialPort()\">连接</el-button> \r\n     <label> 连接成功后，发送[0xFF, 0xFF, 0x02, 0xF5, 0xF7] 指令0xF5是进入PC编程模式 0xF7是(指令+数据)和%256的结果\r\n         <br> 发送后接收数据直到接收[0xFF,0xFF,0x04\t0xF4,0x4F 0x4B,0x93] 当中的数据需要进行处理</label>\r\n    <p></p>\r\n    <el-button type=\"primary\" v-on:click=\"closePose()\">关闭</el-button><label>关闭需要发送指令 [0xFF, 0xFF, 0x02, 0xF6, 0xF8] 然后断开端口</label>\r\n    <p></p>\r\n    <el-button type=\"primary\" v-on:click=\"timeSendingPosition()\">时时发送位置</el-button> \r\n    <label>例如:左肩旋转: </label>\r\n    <el-input v-model=\"ArmInput\" style=\"width: 50px;\"/><label>控制舵机移动[0xFF,0xFF,数据长度,指令(0x01),数据(位置+速度),sum和]指定左肩的下标控制</label>\r\n    <p></p>\r\n    <el-button type=\"primary\" v-on:click=\"humanoidInitial()\" >人形初始位置保存</el-button>\r\n    <label>初始位置在人形的时候就已经读取过，具体是那个看代码，保存指令为[0xFF,0xFF,数据长度,指令(0x03) 数据,sum和] 更改方式也是指定的某个轴的下标</label>\r\n    <p></p>\r\n    <el-button type=\"primary\" v-on:click=\"squatStart()\">下蹲初始位置</el-button>\r\n    <label>初始位置在人形的时候就已经读取过，具体是那个看代码，保存指令为[0xFF,0xFF,数据长度,指令(0x0F) 数据,sum和] 更改方式也是指定的某个轴的下标</label>\r\n    <p></p>\r\n    <input type=\"file\" @change=\"actionDownload\" /> 下载功能\r\n    <p></p>\r\n    <label>下载是将pc上的数据载入到机器人当中，这里用一个.shr机器人保存再本地的文件开始,下载的指令顺序是:删除(0x15),创建(0x14),修改(0x17),下载(0x02)</label>\r\n    <p></p>\r\n    <label>这个地方有个bug就是文件名是数字且这个数字小于10的情况下发送到机器人的数据会多一个具体原因不明(感觉是机器人内部处理的问题，用纯PC的软件不会)</label>\r\n    <p></p>\r\n    <h4>上传功能</h4>\r\n    <label>上传功能首先需要读取一下机器人内部的上传动作文件名</label>\r\n    <p></p>\r\n    <el-button type=\"primary\" v-on:click=\"getActionName()\">读取</el-button>\r\n     <el-select v-model=\"selectedOption\">\r\n        <el-option\r\n          v-for=\"option in vOpentions\"\r\n          :key=\"option\"\r\n          :label=\"option\"\r\n          :value=\"option\"\r\n        >\r\n        </el-option>\r\n     </el-select> \r\n    <label>以绝对路径读取文件夹指令为[0xFF,0xFF,数据长度,指令(0x1A) 数据,sum和]</label>\r\n    <p></p>\r\n    <el-button type=\"primary\" v-on:click=\"getAction()\"> 上传</el-button>\r\n    <label>上传，先选择要上传的文件，然后发送指令[0xFF,0xFF,数据长度,指令(0x16),0x3B,(固定数据) 数据(文件名称数据),sum和]</label>\r\n\r\n\r\n\r\n</template>\r\n<script>\r\nimport    { CreatePosData } from \"/src/PosData.js\";\r\nimport iconv from 'iconv-lite';\r\n\r\n  export default{\r\n\r\n\r\n    data(){\r\n      return{\r\n        port:{},\r\n        isLink:false,\r\n        initData:[],//存放4个基础位置\r\n        ArmInput:0,\r\n        dataArr: [],\r\n        selectedOption:\"\",\r\n        vOpentions:[]\r\n      }\r\n    },\r\n    methods:{\r\n        async requestSerialPort()//连接\r\n        {\r\n          try\r\n          {\r\n            const port = await navigator.serial.requestPort();\r\n            if(port!=null)\r\n            {\r\n                await  port.open({baudRate:115200,\r\n                  parity:\"none\",\r\n                  dataBits:8,\r\n                  stopBits:1,\r\n                  bufferSize: 4096,\r\n                })\r\n                this.port = port;\r\n                //console.log(port);\r\n                //console.log(this.port);\r\n                const data = new Uint8Array([0xFF,0xFF,0X02,0xF5,0xF7]); //发送的指令，这里是简写，最好是自己计算下sum和\r\n                const writer = port.writable.getWriter();\r\n                // console.log(writer)\r\n                await writer.write(data);\r\n                await writer.releaseLock();\r\n                const reader  = await port.readable.getReader(); \r\n                this.isLink = false;       \r\n                var dataValue =[];    \r\n                while(true)\r\n                {\r\n                  if(this.isLink==true)\r\n                    {\r\n                      // //4个基础位置,有时候会少一个，不知道是什么原因，这个版本中一定要获取到所有初始数据，那怕不用\r\n                      // console.log(this.initData[0]);//初始位置\r\n                      // console.log(this.initData[1]);\r\n                      // console.log(this.initData[2]);\r\n                      // console.log(this.initData[3]);\r\n                      reader.releaseLock();\r\n                      break;\r\n                    }\r\n                    const{value, done} = await  reader.read();\r\n                    if(done)\r\n                    {\r\n                        reader.releaseLock()\r\n                        break;\r\n                    }\r\n                   \r\n                 \r\n                  // console.log(value)\r\n                  // dataValue.concat(value)\r\n                  // dataValue= dataValue.concat(value)\r\n               \r\n                  for(let i =0 ;i<value.length;i++)\r\n                  {\r\n                    dataValue[dataValue.length] =value[i]\r\n                  }\r\n                  // console.log(dataValue)\r\n                  // console.log(dataValue.length)\r\n                  for(let i=0;i<dataValue.length;i++)\r\n                  {\r\n                   \r\n                    //帧头和指令的判断\r\n                    if(dataValue[i]==0xFF && dataValue[i+1]==0xFF)\r\n                    {\r\n                      var len   = dataValue[i + 2];//长度 \r\n                      var order = dataValue[i + 3];//指令\r\n                     \r\n                      if (len == 0x04 && order == 245 && dataValue[i + 4] == 0x4f && dataValue[i + 5] == 0x4B)\r\n                      {\r\n                        if (dataValue[i + 6] == (len + order + 0x4f + 0x4B) % 256)\r\n                        {\r\n                        \r\n                          this.isLink=true;\r\n                          break;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                let flag=0;\r\n                for(let i=0;i<dataValue.length;i++)\r\n                {\r\n                  if(dataValue[i]==0xFF && dataValue[i+1]==0xFF)\r\n                  {\r\n                    var len   = dataValue[i + 2];//长度 \r\n                    var order = dataValue[i + 3];//指令\r\n                    if(len == 50 && order ==245)\r\n                      {\r\n                        var dataArray = [];\r\n                        for(let j =0 ;j<48;j++)\r\n                        {\r\n                          dataArray[j]= dataValue[i+j+4];\r\n                        }\r\n                        i+=48 + 1 + 3;\r\n                        this.initData[flag]=dataArray;\r\n                        flag++;\r\n                      }\r\n                  }\r\n                }\r\n                 //console.log(this.initData[0]);//初始位置\r\n                 //console.log(this.initData[1]);\r\n                 //console.log(this.initData[2]);\r\n                 // console.log(this.initData[3]);\r\n\r\n            }\r\n          }\r\n          catch(err){\r\n             console.error(err);\r\n          }\r\n        },\r\n        async closePose()//关闭\r\n        {\r\n            try{\r\n              //console.log(this.port)\r\n              const data = new Uint8Array([0xFF, 0xFF, 0x02, 0xF6, 0xF8]); //发送的指令，这里是简写，最好是自己计算下sum和\r\n              const writer = this.port.writable.getWriter();\r\n              await writer.write(data);\r\n              //发送发送指令后机器人会主动关闭\r\n              // await writer.close();\r\n              // await this.port.close();\r\n              this.isLink=false;\r\n\r\n            }catch(err){\r\n              console.error(err);\r\n            }\r\n        },\r\n        async timeSendingPosition(){//实时位置         \r\n          try{\r\n                if( this.isLink==true)\r\n                {\r\n                  var data= this.initData[0];\r\n                  // console.log(data)\r\n                  data[12]+= parseInt( this.ArmInput);\r\n                  data[data.length]=0x19;\r\n                  var sendData =[];\r\n                  sendData[0] = 0xFF;\r\n                  sendData[1] = 0xFF;\r\n                  sendData[2] = 0x33;//长度\r\n                  sendData[3] = 0x01;//指令\r\n                  var sum= 0x33+0x01;\r\n                  for(let i =0;i<data.length;i++)\r\n                  {\r\n                    sendData[4+i] = data[i];\r\n                    sum+=data[i];\r\n                  }\r\n                 sum = sum%256;\r\n                 \r\n                sendData[sendData.length]=sum;\r\n                // console.log(sendData)\r\n                 var dataUt = new Uint8Array(sendData);\r\n                 const writer = this.port.writable.getWriter();\r\n                await writer.write(dataUt);\r\n                await writer.releaseLock();\r\n                }\r\n          }catch(err)\r\n          {\r\n            console.error(err);\r\n          }\r\n        },\r\n        async humanoidInitial()//人形初始位置\r\n        {\r\n            try\r\n            {\r\n              if(this.isLink==true)\r\n              {\r\n                var data= this.initData[0];//可更改\r\n              \r\n                var sendData =[];\r\n                sendData[0] = 0xFF;\r\n                sendData[1] = 0xFF;\r\n                sendData[2] = 0x32;//长度\r\n                sendData[3] = 0x03;//指令\r\n                var sum = 0x32+0x03;\r\n                for(let i =0;i<data.length;i++)\r\n                {\r\n                    sendData[4+i] = data[i];\r\n                    sum+=data[i];\r\n                }\r\n                 sum = sum%256;\r\n                 sendData[sendData.length]=sum;\r\n                 console.log(sendData)\r\n                 var dataUt = new Uint8Array(sendData);\r\n                 const writer = this.port.writable.getWriter();\r\n                 await writer.write(dataUt);\r\n                 await writer.releaseLock();\r\n              }\r\n            }\r\n            catch(err)\r\n            {\r\n              console.error(err);\r\n            }\r\n          },\r\n        async squatStart() //下蹲初始\r\n        {\r\n          try\r\n            {\r\n              if(this.isLink==true)\r\n              {\r\n                var data= this.initData[2];//可更改\r\n                var sendData =[];\r\n                sendData[0] = 0xFF;\r\n                sendData[1] = 0xFF;\r\n                sendData[2] = 0x32;//长度\r\n                sendData[3] = 0x0F;//指令\r\n                var sum = 0x32+0x0F;\r\n                for(let i =0;i<data.length;i++)\r\n                {\r\n                    sendData[4+i] = data[i];\r\n                    sum+=data[i];\r\n                }\r\n                 sum = sum%256;\r\n                 sendData[sendData.length]=sum;\r\n                 console.log(sendData)\r\n                 var dataUt = new Uint8Array(sendData);\r\n                 const writer = this.port.writable.getWriter();\r\n                 await writer.write(dataUt);\r\n                 await writer.releaseLock();\r\n                 \r\n              }\r\n            }\r\n            catch(err)\r\n            {\r\n              console.error(err);\r\n            }\r\n\r\n        },\r\n        async actionDownload(event)//动作下载\r\n        {\r\n            //该处有问题，动作文件名是数字且小于10的情况下动作文件会多一个，以测发送的数据集合正常\r\n            //该处为处理文件流的方式下载数据，如果是采用编译器的方式，数据处理流和这个类似\r\n            try{\r\n              const file = event.target.files[0]\r\n              const reader = new FileReader()\r\n              reader.readAsText(file, \"UTF-8\")\r\n              //reader.readAsText(file, \"gb2312\")\r\n              reader.onload = async (evt) =>\r\n               {\r\n              const fileString = evt.target.result\r\n              const count = fileString.trim().split('\\n').length\r\n            \r\n              this.dataArr = []\r\n              for (let index = 0; index < count; index++)\r\n              {\r\n                const fileline = fileString.split(\"\\r\\n\")[index].split(\",\")[0]\r\n                // console.log(fileline)\r\n                //const filelineNumber = (fileline.split(/\\s+/)).map(Number)\r\n                const filelineNumber = (fileline.split(/\\s+/)).map(match => isNaN(match) ? match : match==\"\"?\" \": Number(match));\r\n                this.dataArr.push(filelineNumber)\r\n                //this.dataArr.push(fileline)\r\n              }\r\n              //这种\"253  253  254  \"是不需要处理的行\r\n              //var sss =\"253  253  254  \"\r\n              //console.log(this.dataArr)\r\n              //console.log(isNaN('')?\"1\":\"2\")\r\n             \r\n               if(this.isLink==true)\r\n              {\r\n                  var nameArr = [];\r\n                  var dataAction=[]\r\n                  var dataArr =this.dataArr;\r\n                  var len = dataArr.length;\r\n                  for(let i=0;i<len;i++)\r\n                  {\r\n                    var _is_Action = false; //用于判断当前行是否为动作行\r\n                     if(dataArr[i][0]==' ') //判断当前行为动作数据行\r\n                     {\r\n                      // console.log(i);\r\n                        _is_Action=true;\r\n                     }\r\n                     if(dataArr[i][0] == 253 && dataArr[i][1]==253 && dataArr[i][2] == 254 && dataArr[i][3]!=\" \")//名称\r\n                     {\r\n                       nameArr.push(dataArr[i][3]);\r\n                     }\r\n                     if(_is_Action==true)//最后得处理成那个文件名下的那个动作\r\n                     {\r\n                       dataAction.push(dataArr[i])\r\n                     }\r\n                 }\r\n                 //先转化成PosData这个数据是pc用来在界面上展示动作按钮的数据,如果web编译器需要这个功能处理.shr文件的方式按照这个来\r\n                 var last_loop_byte = 0;\r\n                 len = dataAction.length;\r\n                 var posDataArr=[];\r\n                 for(let i=0; i<len; i++)\r\n                 {\r\n                    //方向处理\r\n                    var _n1 = dataAction[i][5];\r\n                    var _n2 = dataAction[i][6];\r\n                    var _n3 = dataAction[i][7];\r\n                    var _n4 = dataAction[i][8];\r\n                    var _n5 = dataAction[i][9];\r\n                    var _n6 = dataAction[i][10];\r\n                    for(let j=0; j<8; j++)\r\n                    {\r\n                      let _Zero = _n1 & Math.pow(2, 7 - j);\r\n                      if(_Zero!= 0)\r\n                      {\r\n                        dataAction[i][j+11] *= -1;\r\n                      }\r\n                    }\r\n                    for(let j=0; j<8; j++)\r\n                    {\r\n                      let _Zero = _n2 & Math.pow(2, 7 - j);\r\n                      if(_Zero!= 0)\r\n                      {\r\n                        dataAction[i][j+19] *= -1;\r\n                      }\r\n                    }\r\n                    for(let j=0; j<8; j++)\r\n                    {\r\n                      let _Zero = _n3 & Math.pow(2, 7 - j);\r\n                      if(_Zero!= 0)\r\n                      {\r\n                        dataAction[i][j+27] *= -1;\r\n                      }\r\n                    }\r\n                    for(let j=0; j<8; j++)\r\n                    {\r\n                      let _Zero = _n4 & Math.pow(2, 7 - j);\r\n                      if(_Zero!= 0)\r\n                      {\r\n                        dataAction[i][j+35] *= -1;\r\n                      }\r\n                    }\r\n                    for(let j=0; j<8; j++)\r\n                    {\r\n                      let _Zero = _n5 & Math.pow(2, 7 - j);\r\n                      if(_Zero!= 0)\r\n                      {\r\n                        dataAction[i][j+43] *= -1;\r\n                      }\r\n                    }\r\n                    for(let j=0; j<8; j++)\r\n                    {\r\n                      let _Zero = _n6 & Math.pow(2, 7 - j);\r\n                      if(_Zero!= 0)\r\n                      {\r\n                        dataAction[i][j+51] *= -1;\r\n                      }\r\n                    }\r\n                    var Loop_Time=0;\r\n                    var Is_Loop_Start=false;\r\n                    var Is_Loop_End=false;\r\n                    //用于判断是不是循环\r\n                    if(dataAction[i][4]!=0 &&dataAction[i][4]>128)\r\n                    {\r\n                      Loop_Time = dataAction[i][4]-128;\r\n                    }\r\n                    else if(dataAction[i][4]!=0 &&dataAction[i][4]<128)\r\n                    {\r\n                      Loop_Time = dataAction[i][4];\r\n                      Is_Loop_Start=false;\r\n                      Is_Loop_End = true;\r\n                    }\r\n                    else if(dataAction[i][4]==0)\r\n                    {\r\n                     Is_Loop_Start=false;\r\n                     Is_Loop_End=false;\r\n                    }\r\n                    var Pos = [];\r\n                    var number = dataAction[i][3];\r\n                    for(let j=0; j<48 ;j++)\r\n                    {\r\n                       Pos[j] = dataAction[i][j+11]\r\n                    }\r\n                    var Speed  =  dataAction[i][59];//速度\r\n                    var Delay  =  dataAction[i][60];//延迟\r\n                    var Music_State = 0;//音乐\r\n                    let Music_Number= -1;\r\n                    let Music_Chosen= -1;\r\n                    if((dataAction[i][61]!=251 && dataAction[i][62]!=251 ) &&(dataAction[i][61]!=252 && dataAction[i][62]!=252 ))\r\n                    {\r\n                        Music_Chosen = dataAction[i][61]*256+dataAction[i][62];\r\n                        Music_State = 2;\r\n                    }\r\n                    else if(dataAction[i][61] == 251 && dataAction[i][62] ==251)\r\n                    {\r\n                        Music_State = 4;\r\n                    }\r\n                    else if(dataAction[i][61] == 252 && dataAction[i][62] ==252)\r\n                    {\r\n                      Music_State = 3;\r\n                    }\r\n                    Music_Number=Music_Chosen;\r\n                    if(dataAction[i][4]!=0)\r\n                    {\r\n                        if(last_loop_byte == 0 )\r\n                        {\r\n                          Is_Loop_Start= true;\r\n                        }\r\n                        else\r\n                        {\r\n                          Is_Loop_Start=false;\r\n                        }\r\n                        if(dataAction[i][4]<128)\r\n                        {\r\n                          Is_Loop_End=true;\r\n                          Loop_Time= dataAction[i][4];\r\n                        }\r\n                        else\r\n                        {\r\n                          Is_Loop_End=false;\r\n                          Loop_Time= dataAction[i][4]-128;\r\n                        }\r\n                    }\r\n                    if(dataAction[i][4]>128)\r\n                    {\r\n                      last_loop_byte=dataAction[i][4];\r\n                    }\r\n                    else\r\n                    {\r\n                      last_loop_byte=0;\r\n                    }                 \r\n                    var posData={\r\n                      number:number,\r\n                      Name:1,\r\n                      Pos:Pos,\r\n                      Speed:Speed,\r\n                      Delay:Delay,\r\n                      Loop_Time:Loop_Time,\r\n                      Is_Loop_Start:Is_Loop_Start,\r\n                      Is_Loop_End:Is_Loop_End,\r\n                      Music_State:Music_State,\r\n                      Music_Number:Music_Number\r\n\r\n                    }\r\n                    //console.log(posData)\r\n                    posDataArr.push(CreatePosData(posData));     \r\n                 }\r\n                \r\n                 //再把PosData数据转化为下载的数据发送到机器人当中\r\n                 len = posDataArr.length;\r\n                 let currentNumber = 0;\r\n                 var Loop_Time=-1;\r\n                 var Is_In_Loop =false;\r\n                 var currentData=[[]]\r\n\r\n                 var flagNumber= posDataArr[0].number;\r\n              \r\n                 currentData[0]=[]\r\n                 for(let i=0 ; i<len ;i++)\r\n                 {\r\n                  //  if(len == 1)\r\n                  //   {\r\n                  //     currentData[0]=[]\r\n                  //     currentNumber=posDataArr[i].number\r\n                  //   }\r\n                  //   else\r\n                  //   {\r\n                  //     if(currentNumber!=posDataArr[i].number)\r\n                  //     {\r\n                  //       currentNumber =currentNumber+1;\r\n                  //       //console.log(currentNumber)\r\n                  //       currentData[currentNumber] =[]\r\n                  //    }\r\n                  //   } \r\n                    if(flagNumber!=posDataArr[i].number)\r\n                    {\r\n                      flagNumber= posDataArr[i].number;\r\n                      currentNumber++;\r\n                      currentData[currentNumber]=[]\r\n                    }\r\n                 \r\n                    var currentPos = [];\r\n                    currentPos.push(0xFF);\r\n                    currentPos.push(0xFF);\r\n                    currentPos.push(0x3D);\r\n                    currentPos.push(0x02);//指令\r\n\r\n                    //处理循环\r\n                    if(!Is_In_Loop)\r\n                    {\r\n                      currentPos[4] =0\r\n                    }\r\n                    \r\n                    if(Is_In_Loop && !posDataArr[i].Is_Loop_Start && !posDataArr[i].Is_Loop_End)\r\n                    {\r\n                      currentPos[4] = Loop_Time +128;\r\n                    }\r\n                    if(posDataArr[i].Is_Loop_End)\r\n                    {\r\n                      Is_In_Loop=false;\r\n                      currentPos[4] = Loop_Time;\r\n                      Loop_Time=0;\r\n                    }\r\n                    if(posDataArr[i].Is_Loop_Start)\r\n                    {\r\n                      Is_In_Loop=true;\r\n                      Loop_Time = posDataArr[i].Loop_Time;\r\n                      currentPos[4] = Loop_Time+128;\r\n                    }\r\n                    \r\n                    var _int_temp1 = 0;\r\n                    var _int_temp2 = 0;\r\n                    var _int_temp3 = 0;\r\n                    var _int_temp4 = 0;\r\n                    var _int_temp5 = 0;\r\n                    var _int_temp6 = 0;\r\n                  \r\n                    for(let k = 0 ; k< 48 ;k++)\r\n                    {\r\n                   \r\n                        if(k < 8)\r\n                        {\r\n                            if(posDataArr[i].Pos[k]<0)\r\n                            {\r\n                              _int_temp1 += parseInt(Math.pow(2,7-k));\r\n                              posDataArr[i].Pos[k]= posDataArr[i].Pos[k] * -1;\r\n                            }\r\n                        }\r\n                       \r\n                        if(k>= 8 && k<16)\r\n                        {\r\n                          if(posDataArr[i].Pos[k]<0)\r\n                          {\r\n                            _int_temp2+= parseInt(Math.pow(2,15-k));\r\n                            posDataArr[i].Pos[k]= posDataArr[i].Pos[k] * -1;\r\n                          }\r\n                        }\r\n                     \r\n                        if(k>=16 && k<24)\r\n                        {\r\n                          if(posDataArr[i].Pos[k]<0)\r\n                          {\r\n                            _int_temp3+= parseInt(Math.pow(2,23-k));\r\n                            posDataArr[i].Pos[k]= posDataArr[i].Pos[k] * -1;\r\n                          }\r\n                        }\r\n                     \r\n                        if(k>=24 && k<32)\r\n                        {\r\n                          if(posDataArr[i].Pos[k]<0)\r\n                          {\r\n                            _int_temp4+= parseInt(Math.pow(2,31-k));\r\n                            posDataArr[i].Pos[k]= posDataArr[i].Pos[k] * -1;\r\n                          }\r\n                        }\r\n                      \r\n                        if(k>=32 && k<40)\r\n                        {\r\n                          if(posDataArr[i].Pos[k]<0)\r\n                          {\r\n                            _int_temp5+= parseInt(Math.pow(2,39-k));\r\n                            posDataArr[i].Pos[k]= posDataArr[i].Pos[k] * -1;\r\n                          }\r\n                        }\r\n                     \r\n                        if(k>=40 && k<48)\r\n                        {\r\n                          if(posDataArr[i].Pos[k]<0)\r\n                          {\r\n                            _int_temp6+= parseInt(Math.pow(2,47-k));\r\n                            posDataArr[i].Pos[k]= posDataArr[i].Pos[k] * -1;\r\n                          }\r\n                        }\r\n                    }\r\n               \r\n                    currentPos[5] = _int_temp1;\r\n                    currentPos[6] = _int_temp2;\r\n                    currentPos[7] = _int_temp3;\r\n                    currentPos[8] = _int_temp4;\r\n                    currentPos[9] = _int_temp5;\r\n                    currentPos[10] = _int_temp6;\r\n                    for(let k=0; k<48;k++)\r\n                    {\r\n                      currentPos[k+11]= posDataArr[i].Pos[k]\r\n                    }\r\n                    \r\n                   \r\n                    currentPos[59] = posDataArr[i].Speed;\r\n                    currentPos[60] = posDataArr[i].Delay;\r\n                    switch(posDataArr[i].Music_State)\r\n                    {\r\n                        case 1:\r\n                          currentPos[61] = parseInt(posDataArr[i].Music_Number / 256);\r\n                          currentPos[62] = parseInt(posDataArr[i].Music_Number % 256);\r\n                        break;\r\n                        case 2:\r\n                          currentPos[61] = parseInt(posDataArr[i].Music_Number / 256);\r\n                          currentPos[62] = parseInt(posDataArr[i].Music_Number % 256);\r\n                        break;\r\n                        case 3:\r\n                          currentPos[61] = 252;\r\n                          currentPos[62] = 252;\r\n                        break;\r\n                        case 4:\r\n                          currentPos[61] = 251;\r\n                          currentPos[62] = 251;\r\n                        break;\r\n                    }\r\n                    var sum =0;\r\n                    //计算sum和\r\n                  \r\n                    for(let k =2; k<63;k++)\r\n                    {\r\n                      sum+=  currentPos[k];\r\n                    }\r\n                    sum = sum%256;\r\n                    currentPos[63]= sum;\r\n                   \r\n                    currentData[currentNumber].push(currentPos)\r\n                 }\r\n                console.log(currentData)\r\n                 //向机器人发送指令上传文件\r\n                len = nameArr.length \r\n               \r\n               for(let i=0;i<len; i++)\r\n                //for(let i=0;i<1; i++)\r\n                {\r\n                \r\n                    //每次循环需要延迟，因为机器人不可能接收的那么快\r\n                    let promise = new Promise((resolve, reject) => {\r\n                                   setTimeout(() => resolve(), 50)\r\n                                    });\r\n                     await  promise;\r\n                     var selectedName = nameArr[i];\r\n                     console.log(selectedName);\r\n                     var typeName = selectedName.substring(0,4);//用于判断文件夹名\r\n                     var actionName = selectedName.substring(4);//文件名\r\n                     if(typeName == \"地面::\")\r\n                     {\r\n                        typeName = \"GroundAction/\";\r\n                     }\r\n                     else if(typeName == \"凌空::\")\r\n                     {\r\n                        typeName = \"VolleyAction/\";\r\n                     }\r\n                     //删除\r\n                     actionName=typeName + actionName;\r\n                     //console.log(actionName);\r\n                     //var nameByte = Array.from(iconv.encode(actionName,'gb2312'));//用iconv与C# 解析出来的结果一致\r\n                     var nameByte = Array.from(iconv.encode(actionName,'utf8'));//用iconv与C# 解析出来的结果一致\r\n                     var length = nameByte.length;\r\n                     var senLength = length + 2;\r\n                     var createCMD = [];\r\n                     createCMD[0] = 0xFF;\r\n                     createCMD[1] = 0xFF;\r\n                     createCMD[2] = senLength;//计算出来的长度\r\n                     createCMD[3] = 0x15;//指令删除\r\n                     var sum = senLength+0x15;//这个是用来计算sum和最好单独写出来一个公用方法\r\n                     for(let j = 0; j<length ;j++)\r\n                     {\r\n                        createCMD.push(nameByte[j])\r\n                        sum = sum+nameByte[j];\r\n                     }\r\n                     sum = sum % 256;\r\n                     createCMD.push(sum);\r\n                     //console.log(createCMD)\r\n                     var dataUt = new Uint8Array(createCMD);\r\n                     const  writer  = this.port.writable.getWriter();\r\n                     await writer.write(dataUt);\r\n                     const reader = await this.port.readable.getReader();\r\n                     var dataValue =[];    \r\n                     var redResult =false;\r\n                     while(!redResult)\r\n                     {\r\n                        const{value,done}  = await reader.read();\r\n                        if(done)\r\n                        {\r\n                            reader.releaseLock();\r\n                            break;\r\n                        }  \r\n                        for(let i = 0 ; i< value.length;i++)\r\n                        {\r\n                          dataValue[dataValue.length] =value[i];\r\n                        }\r\n                         // console.log(dataValue);\r\n                        for(let i = 0 ; i< dataValue.length;i++)\r\n                        {\r\n                          if(dataValue[i] == 0xFF && dataValue[i+1] ==0xFF)\r\n                          { \r\n                            var order = dataValue[i + 3];//指令\r\n                            if (order== 0x15 && dataValue[i + 4] == 0x4f && dataValue[i + 5] == 0x4B)\r\n                            {\r\n                          \r\n                             redResult=true;\r\n                            }\r\n                        }\r\n                       }\r\n                        \r\n                     }\r\n                     //console.log(\"创建\");\r\n                     let promise1 = new Promise((resolve, reject) => {\r\n                                   setTimeout(() => resolve(), 50)\r\n                                    });\r\n                     await  promise1;\r\n                     //创建\r\n                     createCMD[3] = 0x14;//创建指令\r\n                     createCMD[createCMD.length-1] =  createCMD[createCMD.length-1]-1;\r\n                     dataUt = new Uint8Array(createCMD);\r\n                     await writer.write(dataUt);\r\n                     dataValue =[];    \r\n                     redResult =false;\r\n                     while(!redResult)\r\n                     {\r\n                        const{value,done}  = await reader.read();\r\n                        if(done)\r\n                        {\r\n                            reader.releaseLock();\r\n                            break;\r\n                        }  \r\n                        for(let i = 0 ; i< value.length;i++)\r\n                        {\r\n                          dataValue[dataValue.length] =value[i];\r\n                        }\r\n                        for(let i = 0 ; i< dataValue.length;i++)\r\n                        {\r\n                          if(dataValue[i] == 0xFF && dataValue[i+1] ==0xFF)\r\n                          { \r\n                            var order = dataValue[i + 3];//指令\r\n                            if (order== 0x14 && dataValue[i + 4] == 0x4f && dataValue[i + 5] == 0x4B)\r\n                            {\r\n                               //console.log(dataValue);\r\n                              redResult=true;\r\n                           }\r\n                        }\r\n\r\n                        }\r\n                        \r\n                     }\r\n                    let promise2 = new Promise((resolve, reject) => {\r\n                                   setTimeout(() => resolve(), 50)\r\n                                    });\r\n                     await  promise2;\r\n                   \r\n                    //修改\r\n                     createCMD = [];\r\n                     sum=0;\r\n                     actionName=actionName+\".sh\";\r\n                     console.log(actionName);\r\n                     nameByte = Array.from(iconv.encode(actionName,'gb2312'));\r\n                     //nameByte = Array.from(iconv.encode(actionName,'utf8'));\r\n                     length = nameByte.length;\r\n                     senLength = length + 2;\r\n                     createCMD[0] = 0xFF;\r\n                     createCMD[1] = 0xFF;\r\n                     createCMD[2] = senLength;\r\n                     createCMD[3] = 0x17;//修改\r\n                     sum = senLength+0x17;\r\n                     for(let j = 0; j<length ;j++)\r\n                     {\r\n                        createCMD.push(nameByte[j])\r\n                        sum = sum+nameByte[j];\r\n                    \r\n                     }\r\n                     sum = sum % 256;\r\n                     createCMD.push(sum);\r\n                     dataUt = new Uint8Array(createCMD);\r\n                     await writer.write(dataUt);\r\n                     dataValue =[];    \r\n                     redResult =false;\r\n                     while(!redResult)\r\n                     {\r\n                        const{value,done}  = await reader.read();\r\n                        if(done)\r\n                        {\r\n                            reader.releaseLock();\r\n                            break;\r\n                        }  \r\n                        for(let i = 0 ; i< value.length;i++)\r\n                        {\r\n                          dataValue[dataValue.length] =value[i];\r\n                        }\r\n                        for(let i = 0 ; i< dataValue.length;i++)\r\n                        {\r\n                          if(dataValue[i] == 0xFF && dataValue[i+1] ==0xFF)\r\n                          { \r\n                             var order = dataValue[i + 3];//指令\r\n                            if (order== 0x17 && dataValue[i + 4] == 0x4f && dataValue[i + 5] == 0x4B)\r\n                            {\r\n                            //console.log(dataValue);\r\n                             redResult=true;\r\n                            }\r\n                          }\r\n                        }  \r\n                     }\r\n\r\n                    let promise3 = new Promise((resolve, reject) => {\r\n                                   setTimeout(() => resolve(), 50)\r\n                                    });\r\n                     await  promise3;\r\n                     console.log(currentData[i])\r\n                     //上传数据\r\n                     for(let j = 0 ; j< currentData[i].length;j++)\r\n                     {\r\n                      let promises = new Promise((resolve, reject) => {\r\n                                   setTimeout(() => resolve(), 150)\r\n                                    });\r\n                     await  promises;\r\n                       var  dataSen = new Uint8Array(currentData[i][j]);\r\n                        await writer.write(dataSen);\r\n                        dataValue =[];    \r\n                        redResult =false;\r\n                        while(!redResult)\r\n                       {\r\n                         const{value,done}  = await reader.read();\r\n                          if(done)\r\n                          {\r\n                              reader.releaseLock();\r\n                              break;\r\n                           }  \r\n                        for(let i = 0 ; i< value.length;i++)\r\n                        {\r\n                          dataValue[dataValue.length] =value[i];\r\n                        }\r\n                        for(let i = 0 ; i< dataValue.length;i++)\r\n                        {\r\n                          if(dataValue[i] == 0xFF && dataValue[i+1] ==0xFF)\r\n                          { \r\n                            var order = dataValue[i + 3];//指令\r\n                            if (order== 0x02 && dataValue[i + 4] == 0x4f && dataValue[i + 5] == 0x4B)\r\n                            {\r\n                              console.log(i+\" \"+dataValue);\r\n                              redResult=true;\r\n                            }\r\n                          }\r\n                        }\r\n                     }\r\n                        \r\n                     }\r\n                     //关闭流\r\n                     await writer.releaseLock();\r\n                     await reader.releaseLock();\r\n                     //console.log(\"结束\");\r\n                    }\r\n              }\r\n             }\r\n             \r\n     \r\n            }\r\n            catch(err)\r\n            {\r\n             console.error(err);\r\n            }\r\n        },\r\n        async getActionName()//获取动作文件名\r\n        {\r\n            try{\r\n              if(this.isLink==true)\r\n              {\r\n                 var nameByte = Array.from(iconv.encode(\"GroundAction\",'gb2312'));\r\n                 var length = nameByte.length;\r\n                 var sendLength  = length+2;\r\n                 var sendByte = [];\r\n                 sendByte[0] = 0xFF;\r\n                 sendByte[1] = 0xFF;\r\n                 sendByte[2] = sendLength;\r\n                 sendByte[3] = 0x1A;\r\n                 var sum = sendLength + 0x1A;\r\n                 for(let i =  0; i< length; i++)\r\n                 {\r\n                   sendByte.push(nameByte[i]);\r\n                   sum+=nameByte[i];\r\n                 }\r\n                 sum = sum%256;\r\n                 sendByte.push(sum);\r\n                 var dataUt = new Uint8Array(sendByte);\r\n                 const write = this.port.writable.getWriter();\r\n                 await write.write(dataUt);\r\n                 const reader = await this.port.readable.getReader();\r\n                 var dataValue=[];\r\n                 var redResult =false;\r\n                 while(!redResult)\r\n                 {\r\n                    const{value,done} = await reader.read();\r\n                    if(done)\r\n                    {\r\n                        reader.releaseLock();\r\n                        break;\r\n                    }\r\n                    for(let i=0;i<value.length;i++)\r\n                    {\r\n                      dataValue[dataValue.length] = value[i];\r\n                    }\r\n                    for(let i=0; i<dataValue.length;i++)\r\n                    {\r\n                        if(dataValue[i]== 0xFF && dataValue[i+1] ==0xFF)\r\n                        {\r\n                              //该处需要进行特殊处理\r\n                             if(dataValue[i+2]==0x04&& dataValue[i+3]==0xFA&& dataValue[i+4]==0x4F&& dataValue[i+5]==0x4B && dataValue[i+6]==0x98)\r\n                             {\r\n                                redResult=true;\r\n                                dataValue.slice(i,6)\r\n                                break;\r\n                             }\r\n                            //  else if(dataValue[i+2]!=0x04 && dataValue[i+3]==0xFA)\r\n                            //  {\r\n                            //     var byteLength = dataValue[i+2];\r\n                            //     var byteSum = dataValue[i+byteLength];\r\n                            //     var dataSum = dataValue[i+2]+ dataValue[i+3];\r\n                            //     for(let j= 0 ;j<byteLength-1;j++)\r\n                            //     {\r\n                            //       dataSum += dataValue[i+4+j];\r\n                            //     }\r\n                            //     dataSum =dataSum%256;\r\n                            //  }                                                        \r\n                        }\r\n                    }\r\n                  }\r\n\r\n                  var dataList =[];\r\n                  //处理动作文件\r\n                  for(let i=0;i<dataValue.length;i++)\r\n                  {\r\n                      if(dataValue[i]==0xFF&&dataValue[i+1]==0xFF&&dataValue[i+2]!=0xFF&&dataValue[i+3]==0x1A )\r\n                      {\r\n                          //获取长度\r\n                          var dataCount = dataValue[i+2];\r\n                          var dataInfo =[];\r\n                          for(let j = 0; j<dataCount-2;j++)\r\n                          {\r\n                            dataInfo.push(dataValue[i+4+j]);\r\n                          }\r\n                          i=i+2+dataCount;\r\n                           //转汉字，但是需要增加前缀\r\n                          var strData =\"地面::\"+ iconv.decode((dataInfo),'gb2312');\r\n                          dataList.push(strData);\r\n                          //console.log(strData); \r\n                      }\r\n                  }\r\n\r\n                  //处理凌空的文件夹\r\n                  nameByte = Array.from(iconv.encode(\"VolleyAction\",'gb2312'));\r\n                  length = nameByte.length;\r\n                  sendLength = length +2; \r\n                  sendByte = [];\r\n                  sendByte[0] = 0xFF;\r\n                  sendByte[1] = 0xFF;\r\n                  sendByte[2] = sendLength;\r\n                  sendByte[3] = 0x1A;\r\n                  sum = sendLength + 0x1A;\r\n                  for(let i= 0;i<length;i++)\r\n                  {\r\n                      sendByte.push(nameByte[i]);\r\n                      sum+=nameByte[i];\r\n                  }\r\n                  sum =sum%256;\r\n                  sendByte.push(sum);\r\n                  dataUt = new Uint8Array(sendByte);\r\n                  await write.write(dataUt);\r\n                  dataValue=[];\r\n                  redResult = false;\r\n                  while(!redResult)\r\n                  {\r\n                     const{value,done} = await reader.read();\r\n                     if(done)\r\n                     {\r\n                        reader.releaseLock();\r\n                        break;\r\n                     }\r\n                     for(let i=0; i<value.length;i++)\r\n                     {\r\n                        dataValue[dataValue.length] =value[i];\r\n                     }\r\n                     for(let i=0;i<dataValue.length;i++)\r\n                     {\r\n                        if(dataValue[i]== 0xFF && dataValue[i+1]==0xFF)\r\n                        {\r\n                          if(dataValue[i+2]==0x04&& dataValue[i+3]==0xFA&& dataValue[i+4]==0x4F&& dataValue[i+5]==0x4B && dataValue[i+6]==0x98)\r\n                          {\r\n                            redResult=true;\r\n                            dataValue.slice(i,6)\r\n                            break;\r\n                          }\r\n                        }\r\n                      }\r\n                  }\r\n\r\n                  for(let i=0;i<dataValue.length;i++)\r\n                  {\r\n                    if(dataValue[i]==0xFF&&dataValue[i+1]==0xFF&&dataValue[i+2]!=0xFF&&dataValue[i+3]==0x1A )\r\n                    {\r\n                      var dataCount = dataValue[i+2];\r\n                      var dataInfo =[];\r\n                      for(let j = 0; j<dataCount-2;j++)\r\n                      {\r\n                        dataInfo.push(dataValue[i+4+j]);\r\n                      }\r\n                      i=i+2+dataCount;\r\n                      var strData =\"凌空::\"+ iconv.decode((dataInfo),'gb2312');\r\n                      dataList.push(strData);\r\n                      //console.log(strData);\r\n                    }\r\n                  }\r\n                  await write.releaseLock();\r\n                  await reader.releaseLock();\r\n                  this.vOpentions=dataList//\r\n\r\n              }\r\n            }\r\n            catch(err)\r\n            {\r\n              console.error(err);\r\n            }\r\n        },\r\n        async getAction()\r\n        {\r\n          try{\r\n              if(this.isLink==true&&this.selectedOption!=\"\")\r\n              {\r\n                var typeName =this.selectedOption.substring(0,4);//用于判断文件夹名\r\n                var actionName = this.selectedOption.substring(4);//文件名\r\n                if(typeName == \"地面::\")\r\n                  {\r\n                    typeName = \"GroundAction/\";\r\n                  }\r\n                  else if(typeName == \"凌空::\")\r\n                  {\r\n                     typeName = \"VolleyAction/\";\r\n                  }\r\n                 actionName=typeName + actionName;\r\n                 var nameByte = Array.from(iconv.encode(actionName,'gb2312'));\r\n                 var length = nameByte.length;\r\n                 var senLength = length + 3;\r\n                 var createCMD = [];\r\n                 createCMD[0] = 0xFF;\r\n                 createCMD[1] = 0xFF;\r\n                 createCMD[2] = senLength;//计算出来的长度\r\n                 createCMD[3] = 0x16;\r\n                 createCMD[4] = 0x3B;\r\n                 var sum = senLength+0x16+0x3B;\r\n                 for(let j = 0; j<length ;j++)\r\n                 {\r\n                   createCMD.push(nameByte[j])\r\n                   sum = sum+nameByte[j];\r\n                 } \r\n                 sum = sum % 256;\r\n                 createCMD.push(sum);\r\n                 var dataUt = new Uint8Array(createCMD);\r\n                 const  writer  = this.port.writable.getWriter();\r\n                 await writer.write(dataUt);\r\n                 const reader = await this.port.readable.getReader();\r\n                 var dataValue =[];    \r\n                 var redResult =false;\r\n                 while(!redResult)\r\n                 {\r\n                    const{value,done} = await reader.read();\r\n                    if(done)\r\n                    {\r\n                        reader.releaseLock();\r\n                        break;\r\n                    }\r\n                    for(let i=0;i<value.length;i++)\r\n                    {\r\n                      dataValue[dataValue.length] = value[i];\r\n                    }\r\n                    for(let i=0; i<dataValue.length;i++)\r\n                    {\r\n                      if(dataValue[i]== 0xFF && dataValue[i+1] ==0xFF)\r\n                      {\r\n                        if(dataValue[i+2]==0x04&& dataValue[i+3]==0xFA&& dataValue[i+4]==0x4F&& dataValue[i+5]==0x4B && dataValue[i+6]==0x98)\r\n                        {\r\n                           redResult=true;\r\n                           dataValue.slice(i,6)\r\n                           break;\r\n                        }\r\n                      }\r\n                    }\r\n                 }\r\n                 var dataList =[];\r\n                 for(let i=0;i<dataValue.length;i++)\r\n                 {\r\n                  if(dataValue[i]==0xFF&&dataValue[i+1]==0xFF&&dataValue[i+2]!=0xFF&&dataValue[i+3]==0x16 )\r\n                  {\r\n                    var dataCount = dataValue[i+2];\r\n                    var dataInfo =[];\r\n                    for(let j = 0; j<dataCount-2;j++)\r\n                    {\r\n                        dataInfo.push(dataValue[i+4+j]);\r\n                       \r\n                    }\r\n                    i=i+2+dataCount;\r\n                    console.log(dataInfo);\r\n                  }\r\n\r\n                 }\r\n                  await writer.releaseLock();\r\n                  await reader.releaseLock();\r\n              }\r\n\r\n          }\r\n          catch(err)\r\n          {\r\n            console.error(err);\r\n          }\r\n        }\r\n    }\r\n  }\r\n\r\n</script>","//用于上传下载的数据处理类\r\nexport default class PosData {\r\n  constructor({\r\n    number,\r\n    Name,\r\n    Pos,\r\n    Speed,\r\n    Delay,\r\n    Loop_Time,\r\n    Is_Loop_Start,\r\n    Is_Loop_End,\r\n    Music_State,\r\n    Music_Number,\r\n  }) {\r\n    (this.number = number), //点位编号，对应的是那个动作下的点\r\n      (this.Name = Name), //无作用\r\n      (this.Pos = Pos), //点位信息的集合\r\n      (this.Speed = Speed), //速度\r\n      (this.Delay = Delay), //延迟\r\n      (this.Loop_Time = Loop_Time), //循环次数\r\n      (this.Is_Loop_Start = Is_Loop_Start), //是否是循环的开始\r\n      (this.Is_Loop_End = Is_Loop_End), //是否是循环的结束\r\n      (this.Music_State = Music_State), //0代表未选择，1代表指导音乐，2代表自定义音乐，3代表继续，4代表停止\r\n      (this.Music_Number = Music_Number); //音乐的文件夹以及选择的那个音乐 那个文件夹是这个数/256 那个文件是这个数%256\r\n  }\r\n}\r\n\r\nexport function CreatePosData(posDataInit) {\r\n  //console.log(posDataInit)\r\n  return new PosData({\r\n    number: posDataInit.number,\r\n    Name: posDataInit.Name,\r\n    Pos: posDataInit.Pos,\r\n    Speed: posDataInit.Speed,\r\n    Delay: posDataInit.Delay,\r\n    Loop_Time: posDataInit.Loop_Time,\r\n    Is_Loop_Start: posDataInit.Is_Loop_Start,\r\n    Is_Loop_End: posDataInit.Is_Loop_End,\r\n    Music_State: posDataInit.Music_State,\r\n    Music_Number: posDataInit.Music_Number,\r\n  });\r\n}\r\n","import { render } from \"./Convoy_Seven.vue?vue&type=template&id=446ae486\"\nimport script from \"./Convoy_Seven.vue?vue&type=script&lang=js\"\nexport * from \"./Convoy_Seven.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","`\r\n<!--大黄蜂机器人通讯结构-->\r\n<template>\r\n  <h3>大黄蜂机器人通讯结构</h3>\r\n  <p>连接方式 : 串口</p>\r\n  <p>配置参数baudRate : 115200</p>\r\n  <p>配置参数parity : 0</p>\r\n  <p>配置参数dataBits : 8</p>\r\n  <p>配置参数stopBits : 1</p>\r\n  <p>配置参数bufferSize : 4096</p>\r\n  <el-button type=\"primary\" v-on:click=\"requestSerialPort()\">连接</el-button>\r\n  <label>\r\n    连接成功后，发送[0xFF, 0xFF, 0x02, 0xF5, 0xF7] 指令0xF5是进入PC编程模式\r\n    0xF7是(指令+数据)和%256的结果 <br />\r\n    发送后接收数据直到接收[0xFF,0xFF,0x04 0xF4,0x4F 0x4B,0x93]\r\n    当中的数据需要进行处理</label\r\n  >\r\n  <p></p>\r\n  <input type=\"file\" @change=\"actionDownload\" />\r\n  <p></p>\r\n  <label\r\n    >下载是将pc上的数据载入到机器人当中，这里用一个.shr机器人保存再本地的文件开始,下载的指令顺序是:删除(0x07),创建(0X06),下载(0x02)</label\r\n  >\r\n  <p></p>\r\n</template>\r\n<script>\r\nimport { CreatePosData } from \"/src/PosData.js\";\r\nimport iconv from \"iconv-lite\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      port: {}, //通讯接口\r\n      isLink: false, //是否连接\r\n      initData: [], //存放4个初始位置\r\n      dataArr: [],\r\n    };\r\n  },\r\n  methods: {\r\n    async requestSerialPort() {\r\n      //连接\r\n      try {\r\n        const port = await navigator.serial.requestPort();\r\n        if (port != null) {\r\n          //await port.open({baudRate:115200,parity:\"none\",dataBits:8,stopBits:1,flowControl: \"none\"})\r\n          await port.open({\r\n            baudRate: 115200,\r\n            dataBits: 8,\r\n            stopBits: 1,\r\n            bufferSize: 4096,\r\n          });\r\n\r\n          this.port = port;\r\n          const data = new Uint8Array([0xff, 0xff, 0x02, 0xf5, 0xf7]);\r\n          const writer = port.writable.getWriter();\r\n          await writer.write(data);\r\n          await writer.releaseLock();\r\n          //this.isLink= true;\r\n          const reader = await port.readable.getReader();\r\n          this.isLink = false;\r\n          var dataValue = [];\r\n\r\n          while (true) {\r\n            if (this.isLink == true) {\r\n              reader.releaseLock();\r\n              break;\r\n            }\r\n            const { value, done } = await reader.read();\r\n            if (done) {\r\n              reader.releaseLock();\r\n              break;\r\n            }\r\n            for (let i = 0; i < value.length; i++) {\r\n              dataValue[dataValue.length] = value[i];\r\n            }\r\n            for (let i = 0; i < dataValue.length; i++) {\r\n              //帧头和指令判断\r\n              if (dataValue[i] == 0xff && dataValue[i + 1] == 0xff) {\r\n                var len = dataValue[i + 2]; //长度\r\n                var order = dataValue[i + 3]; //指令\r\n                if (\r\n                  len == 0x04 &&\r\n                  order == 245 &&\r\n                  dataValue[i + 4] == 0x4f &&\r\n                  dataValue[i + 5] == 0x4b\r\n                ) {\r\n                  if (dataValue[i + 6] == (len + order + 0x4f + 0x4b) % 256) {\r\n                    this.isLink = true;\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n          let flag = 0;\r\n          for (let i = 0; i < dataValue.length; i++) {\r\n            if (dataValue[i] == 0xff && dataValue[i + 1] == 0xff) {\r\n              var len = dataValue[i + 2]; //长度\r\n              var order = dataValue[i + 3]; //指令\r\n              if (len == 50 && order == 245) {\r\n                var dataArray = [];\r\n                for (let j = 0; j < 48; j++) {\r\n                  dataArray[j] = dataValue[i + j + 4];\r\n                }\r\n                i += 48 + 1 + 3;\r\n                this.initData[flag] = dataArray;\r\n                flag++;\r\n              }\r\n            }\r\n          }\r\n          console.log(this.initData);\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    },\r\n    async actionDownload(event) {\r\n      try {\r\n        const file = event.target.files[0];\r\n        const reader = new FileReader();\r\n        reader.readAsText(file, \"UTF-8\");\r\n        reader.onload = async (evt) => {\r\n          const fileString = evt.target.result;\r\n\r\n          const count = fileString.trim().split(\"\\n\").length;\r\n          this.dataArr = [];\r\n          for (let index = 0; index < count; index++) {\r\n            const fileline = fileString.split(\"\\r\\n\")[index].split(\",\")[0];\r\n            const filelineNumber = fileline\r\n              .split(/\\s+/)\r\n              .map((match) =>\r\n                isNaN(match) ? match : match == \"\" ? \" \" : Number(match)\r\n              );\r\n            this.dataArr.push(filelineNumber);\r\n          }\r\n          if (this.isLink == true) {\r\n            var nameArr = [];\r\n            var dataAction = [];\r\n            var dataArr = this.dataArr;\r\n            var len = dataArr.length;\r\n            for (let i = 0; i < len; i++) {\r\n              var _is_Action = false;\r\n              if (dataArr[i][0] == \" \") {\r\n                _is_Action = true;\r\n              }\r\n              if (\r\n                dataArr[i][0] == 253 &&\r\n                dataArr[i][1] == 253 &&\r\n                dataArr[i][2] == 254 &&\r\n                dataArr[i][3] != \" \"\r\n              ) {\r\n                nameArr.push(dataArr[i][3]);\r\n              }\r\n              if (_is_Action == true) {\r\n                dataAction.push(dataArr[i]);\r\n              }\r\n            }\r\n            var last_loop_byte = 0;\r\n            len = dataAction.length;\r\n            var posDataArr = [];\r\n            //console.log(dataAction);\r\n            for (let i = 0; i < len; i++) {\r\n              var _n1 = dataAction[i][5];\r\n              var _n2 = dataAction[i][6];\r\n              var _n3 = dataAction[i][7];\r\n              var _n4 = dataAction[i][8];\r\n              var _n5 = dataAction[i][9];\r\n              var _n6 = dataAction[i][10];\r\n              for (let j = 0; j < 8; j++) {\r\n                let _Zero = _n1 & Math.pow(2, 7 - j);\r\n                if (_Zero != 0) {\r\n                  dataAction[i][j + 11] *= -1;\r\n                }\r\n              }\r\n              for (let j = 0; j < 8; j++) {\r\n                let _Zero = _n2 & Math.pow(2, 7 - j);\r\n                if (_Zero != 0) {\r\n                  dataAction[i][j + 19] *= -1;\r\n                }\r\n              }\r\n              for (let j = 0; j < 8; j++) {\r\n                let _Zero = _n3 & Math.pow(2, 7 - j);\r\n                if (_Zero != 0) {\r\n                  dataAction[i][j + 27] *= -1;\r\n                }\r\n              }\r\n              for (let j = 0; j < 8; j++) {\r\n                let _Zero = _n4 & Math.pow(2, 7 - j);\r\n                if (_Zero != 0) {\r\n                  dataAction[i][j + 35] *= -1;\r\n                }\r\n              }\r\n              for (let j = 0; j < 8; j++) {\r\n                let _Zero = _n5 & Math.pow(2, 7 - j);\r\n                if (_Zero != 0) {\r\n                  dataAction[i][j + 43] *= -1;\r\n                }\r\n              }\r\n              for (let j = 0; j < 8; j++) {\r\n                let _Zero = _n6 & Math.pow(2, 7 - j);\r\n                if (_Zero != 0) {\r\n                  dataAction[i][51] *= -1;\r\n                }\r\n              }\r\n              var Loop_Time = 0;\r\n              var Is_Loop_Start = false;\r\n              var Is_Loop_End = false;\r\n              if (dataAction[i][4] != 0 && dataAction[i][4] > 128) {\r\n                Loop_Time = dataAction[i][4] - 128;\r\n              } else if (dataAction[i][4] != 0 && dataAction[i][4] > 128) {\r\n                Loop_Time = dataAction[i][4];\r\n                Is_Loop_Start = false;\r\n                Is_Loop_End = true;\r\n              } else if (dataAction[i][4] == 0) {\r\n                Is_Loop_Start = false;\r\n                Is_Loop_End = false;\r\n              }\r\n              var Pos = [];\r\n              var number = dataAction[i][3];\r\n              for (let j = 0; j < 48; j++) {\r\n                Pos[j] = dataAction[i][j + 11];\r\n              }\r\n              var Speed = dataAction[i][59];\r\n              var Delay = dataAction[i][60];\r\n              var Music_State = 0;\r\n              var Music_Number = -1;\r\n              var Music_Chosen = -1;\r\n              if (\r\n                dataAction[i][61] != 251 &&\r\n                dataAction[i][62] != 251 &&\r\n                dataAction[i][61] != 252 &&\r\n                dataAction[i][62] != 252\r\n              ) {\r\n                Music_Chosen = dataAction[i][61] * 256 + dataAction[i][62];\r\n                Music_State = 2;\r\n              } else if (dataAction[i][61] == 251 && dataAction[i][62] == 251) {\r\n                Music_State = 4;\r\n              } else if (dataAction[i][61] == 252 && dataAction[i][62] == 252) {\r\n                Music_State = 3;\r\n              }\r\n              Music_Number = Music_Chosen;\r\n              if (dataAction[i][4] != 0) {\r\n                if (last_loop_byte == 0) {\r\n                  Is_Loop_Start = true;\r\n                } else {\r\n                  Is_Loop_Start = false;\r\n                }\r\n                if (dataAction[i][4] < 128) {\r\n                  Is_Loop_End = true;\r\n                  Loop_Time = dataAction[i][4];\r\n                } else {\r\n                  Is_Loop_End = false;\r\n                  Loop_Time = dataAction[i][4] - 128;\r\n                }\r\n              }\r\n              if (dataAction[i][4] > 128) {\r\n                last_loop_byte = dataAction[i][4];\r\n              } else {\r\n                last_loop_byte = 0;\r\n              }\r\n              var posData = {\r\n                number: number,\r\n                Name: 1,\r\n                Pos: Pos,\r\n                Speed: Speed,\r\n                Delay: Delay,\r\n                Loop_Time: Loop_Time,\r\n                Is_Loop_Start: Is_Loop_Start,\r\n                Is_Loop_End: Is_Loop_End,\r\n                Music_State: Music_State,\r\n                Music_Number: Music_Number,\r\n              };\r\n              posDataArr.push(CreatePosData(posData));\r\n            }\r\n            console.log(posDataArr);\r\n            if (this.isLink == false) {\r\n              return;\r\n            }\r\n\r\n            len = posDataArr.length;\r\n            let currentnumber = 0;\r\n            var Loop_Time = -1;\r\n            var Is_In_Loop = false;\r\n            var currentData = [[]];\r\n            var flagNumber = posDataArr[0].number;\r\n            currentData[0] = [];\r\n            for (let i = 0; i < len; i++) {\r\n              if (flagNumber != posDataArr[i].number) {\r\n                flagNumber = posDataArr[i].number;\r\n                currentnumber++;\r\n                currentData[currentnumber] = [];\r\n              }\r\n              var currentPos = [];\r\n              currentPos.push(0xff);\r\n              currentPos.push(0xff);\r\n              currentPos.push(0x3d);\r\n              currentPos.push(0x02);\r\n              if (!Is_In_Loop) {\r\n                currentPos[4] = 0;\r\n              }\r\n              if (\r\n                Is_In_Loop &&\r\n                !posDataArr[i].Is_Loop_Start &&\r\n                !posDataArr[i].Is_Loop_End\r\n              ) {\r\n                currentPos[4] = Loop_Time + 128;\r\n              }\r\n              if (posDataArr[i].Is_Loop_End) {\r\n                Is_In_Loop = false;\r\n                currentPos[4] = Loop_Time;\r\n                Loop_Time = 0;\r\n              }\r\n              if (posDataArr[i].Is_Loop_Start) {\r\n                Is_In_Loop = true;\r\n                Loop_Time = posDataArr[i].Loop_Time;\r\n                currentPos[4] = Loop_Time + 128;\r\n              }\r\n              var _int_temp1 = 0;\r\n              var _int_temp2 = 0;\r\n              var _int_temp3 = 0;\r\n              var _int_temp4 = 0;\r\n              var _int_temp5 = 0;\r\n              var _int_temp6 = 0;\r\n\r\n              for (let k = 0; k < 48; k++) {\r\n                if (k < 8) {\r\n                  if (posDataArr[i].Pos[k] < 0) {\r\n                    _int_temp1 += parseInt(Math.pow(2, 7 - k));\r\n                    posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                  }\r\n                }\r\n                if (k >= 8 && k < 16) {\r\n                  if (posDataArr[i].Pos[k] < 0) {\r\n                    _int_temp2 += parseInt(Math.pow(2, 15 - k));\r\n                    posDataArr[i].Pos[k] = posDataArr[i].pos[k] * -1;\r\n                  }\r\n                }\r\n\r\n                if (k >= 16 && k < 24) {\r\n                  if (posDataArr[i].Pos[k] < 0) {\r\n                    _int_temp3 += parseInt(Math.pow(2, 23 - k));\r\n                    posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                  }\r\n                }\r\n                if (k >= 24 && k < 32) {\r\n                  if (posDataArr[i].Pos[k] < 0) {\r\n                    _int_temp4 += parseInt(Math.pow(2, 31 - k));\r\n                    posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                  }\r\n                }\r\n                if (k >= 32 && k < 40) {\r\n                  if (posDataArr[i].Pos[k] < 0) {\r\n                    _int_temp5 += parseInt(Math.pow(2, 39 - k));\r\n                    posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                  }\r\n                }\r\n                if (k >= 40 && k < 48) {\r\n                  if (posDataArr[i].Pos[k] < 0) {\r\n                    _int_temp6 += parseInt(Math.pow(2, 47 - k));\r\n                    posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                  }\r\n                }\r\n              }\r\n              currentPos[5] = _int_temp1;\r\n              currentPos[6] = _int_temp2;\r\n              currentPos[7] = _int_temp3;\r\n              currentPos[8] = _int_temp4;\r\n              currentPos[9] = _int_temp5;\r\n              currentPos[10] = _int_temp6;\r\n              for (let k = 0; k < 48; k++) {\r\n                currentPos[k + 11] = posDataArr[i].Pos[k];\r\n              }\r\n\r\n              currentPos[59] = posDataArr[i].Speed;\r\n              currentPos[60] = posDataArr[i].Delay;\r\n              switch (posDataArr[i].Music_State) {\r\n                case 1:\r\n                  currentPos[61] = parseInt(posDataArr[i].Music_Number / 256);\r\n                  currentPos[62] = parseInt(posDataArr[i].Music_Number % 256);\r\n                  break;\r\n                case 2:\r\n                  currentPos[61] = parseInt(posDataArr[i].Music_Number / 256);\r\n                  currentPos[62] = parseInt(posDataArr[i].Music_Number % 256);\r\n                  break;\r\n                case 3:\r\n                  currentPos[61] = 252;\r\n                  currentPos[62] = 252;\r\n                  break;\r\n                case 4:\r\n                  currentPos[61] = 251;\r\n                  currentPos[62] = 251;\r\n                  break;\r\n              }\r\n              var sum = 0;\r\n              for (let k = 2; k < 63; k++) {\r\n                sum += currentPos[k];\r\n              }\r\n              sum = sum % 256;\r\n              currentPos[63] = sum;\r\n              currentData[currentnumber].push(currentPos);\r\n            }\r\n            len = nameArr.length;\r\n            console.log(currentData);\r\n            for (let i = 0; i < len; i++) {\r\n              let promise = new Promise((resolve, reject) => {\r\n                setTimeout(() => resolve(), 50);\r\n              });\r\n              await promise;\r\n              var selectedName = nameArr[i];\r\n              var nameByte = Array.from(iconv.encode(selectedName, \"utf8\"));\r\n              var length = nameByte.length;\r\n              var senLength = length + 2;\r\n              var createCMD = [];\r\n              var sum = 0;\r\n              createCMD[0] = 0xff;\r\n              createCMD[1] = 0xff;\r\n              createCMD[2] = senLength;\r\n              createCMD[3] = 0x07; //删除\r\n              sum = senLength + 0x07;\r\n              for (let j = 0; j < length; j++) {\r\n                createCMD.push(nameByte[j]);\r\n                sum = sum + nameByte[j];\r\n              }\r\n              sum = sum % 256;\r\n              createCMD.push(sum);\r\n              var dataut = new Uint8Array(createCMD);\r\n              const writer = this.port.writable.getWriter();\r\n              await writer.write(dataut);\r\n              const reader = await this.port.readable.getReader();\r\n              var dataValue = [];\r\n              var redResult = false;\r\n\r\n              let promise1 = new Promise((resolve, reject) => {\r\n                setTimeout(() => resolve(), 50);\r\n              });\r\n              await promise1;\r\n              createCMD[3] = 0x06; //创建指令\r\n              createCMD[createCMD.length - 1] =\r\n                createCMD[createCMD.length - 1] - 1;\r\n              dataut = new Uint8Array(createCMD);\r\n              await writer.write(dataut);\r\n              dataValue = [];\r\n              redResult = false;\r\n\r\n              let promise2 = new Promise((resolve, reject) => {\r\n                setTimeout(() => resolve(), 50);\r\n              });\r\n              await promise2;\r\n\r\n              //上传数据\r\n              for (let j = 0; j < currentData[i].length; j++) {\r\n                let promises = new Promise((resolve, reject) => {\r\n                  setTimeout(() => resolve(), 50);\r\n                });\r\n                await promises;\r\n                const dataSen = new Uint8Array(currentData[i][j]);\r\n                console.log(dataSen);\r\n                await writer.write(dataSen);\r\n                dataValue = [];\r\n                redResult = false;\r\n              }\r\n              await writer.releaseLock();\r\n              await reader.releaseLock();\r\n            }\r\n            console.log(\"上传完成\");\r\n          }\r\n        };\r\n      } catch (err) {}\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Bumblebee.vue?vue&type=template&id=f3af43a2\"\nimport script from \"./Bumblebee.vue?vue&type=script&lang=js\"\nexport * from \"./Bumblebee.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <h3>钢索机器人通讯结构</h3>\r\n  <p>连接方式 ： HID(usb口的一种方式)</p>\r\n  <p>匹配VendorID ： 0x0483</p>\r\n  <p>匹配ProductID ： 0x5750</p>\r\n  <el-button type=\"primary\" v-on:click=\"requestSerialPort()\">连接</el-button>\r\n  <label\r\n    >连接成功后发送[0xFF, 0x02, 0xF5, 0xF7]读取数据直到获取到[4F\r\n    4B](OK)后接收结束</label\r\n  >\r\n  <p></p>\r\n  <el-button type=\"primary\" v-on:click=\"closeMessage()\">关闭</el-button>\r\n  <label>关闭需要发送指令 [ 0xFF, 0x02, 0xF6, 0xF8] 然后断开HID</label>\r\n  <p></p>\r\n  <el-button v-on:click=\"timeSendingPosition()\">时时发送位置</el-button>\r\n  <label>例如左胯:</label>\r\n  <el-input v-model=\"ArmInput\" style=\"width: 50px\"></el-input>\r\n  <label\r\n    >控制舵机移动[0xFF,数据长度,指令(0x01),数据(位置+速度),sum和]指定左肩的下标控制</label\r\n  >\r\n  <p></p>\r\n  <input type=\"file\" @change=\"actionDownload\" /> 下载功能\r\n  <p></p>\r\n  <h4>上传功能</h4>\r\n  <label>读取机器人内部的动作文件名</label>\r\n  <p></p>\r\n  <el-button type=\"primary\" v-on:click=\"getActionName()\">读取</el-button>\r\n</template>\r\n<script>\r\nimport { CreatePosDataDh } from \"/src/PosDataGh.js\";\r\nimport iconv from \"iconv-lite\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      initData: [], //存放4个初始位置\r\n      isInitData: false, //是否接收完成\r\n      endpointNumber: 2, //这个是要通讯的口\r\n      isLink: false, //是否连接\r\n      hidDevice: [], //通讯用\r\n      dataArr: [],\r\n      ArmInput: 0,\r\n      isRedActionLoong: false,\r\n      isRedActionRobot: false,\r\n      actionList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    async requestSerialPort() {\r\n      //连接\r\n      try {\r\n        await navigator.hid\r\n          .requestDevice({ filters: [{ vendorId: 0x0483, productId: 0x5750 }] }) //条件筛选\r\n          .then(async (device) => {\r\n            await device[0].open(); //打开\r\n            this.hidDevice = device[0];\r\n            device[0].addEventListener(\"inputreport\", this.receivingProcess);\r\n            this.initData = [];\r\n            this.isInitData = false;\r\n            var data = new Uint8Array([0xff, 0x02, 0xf5, 0xf7]); //深坑那个0 在这里是通道的id\r\n            await device[0].sendReport(0, data);\r\n          })\r\n          .catch((error) => {\r\n            console.error(error);\r\n          });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async closeMessage() {\r\n      //退出pc编译器\r\n      if (this.isLink == true) {\r\n        var data = new Uint8Array([0xff, 0x02, 0xf6, 0xf8]);\r\n        await this.hidDevice.sendReport(0, data);\r\n      }\r\n      //this.hidDevice.close();\r\n    },\r\n    async actionDownload(\r\n      event //动作下载\r\n    ) {\r\n      var file = event.target.files[0];\r\n      var reader = new FileReader();\r\n      reader.readAsText(file, \"UTF-8\");\r\n      reader.onload = async (evt) => {\r\n        const fileString = evt.target.result;\r\n        const count = fileString.trim().split(\"\\n\").length;\r\n        this.dataArr = [];\r\n        for (let index = 0; index < count; index++) {\r\n          const fileline = fileString.split(\"\\r\\n\")[index].split(\",\")[0];\r\n          const filelineNumber = fileline\r\n            .split(/\\s+/)\r\n            .map((match) =>\r\n              isNaN(match) ? match : match == \"\" ? \" \" : Number(match)\r\n            );\r\n          this.dataArr.push(filelineNumber);\r\n        }\r\n        // if(this.isLink == true)\r\n        {\r\n          //该处动作多了一个龙型人型判断\r\n          var nameArr = [];\r\n          var dataAction = [];\r\n          var dataArr = this.dataArr;\r\n          var len = dataArr.length;\r\n          for (let i = 0; i < len; i++) {\r\n            var _is_Action = false;\r\n            if (dataArr[i][0] == \" \") {\r\n              _is_Action = true;\r\n            }\r\n            if (\r\n              dataArr[i][0] == 253 &&\r\n              dataArr[i][1] == 253 &&\r\n              dataArr[i][2] == 254 &&\r\n              dataArr[i][3] != \" \"\r\n            ) {\r\n              //名称\r\n              nameArr.push(dataArr[i][3]);\r\n            }\r\n            if (_is_Action == true) {\r\n              dataAction.push(dataArr[i]);\r\n            }\r\n          }\r\n\r\n          var last_loop_byte = 0;\r\n          len = dataAction.length;\r\n          var posDataArr = [];\r\n          for (let i = 0; i < len; i++) {\r\n            var _n1 = dataAction[i][5];\r\n            var _n2 = dataAction[i][6];\r\n            var _n3 = dataAction[i][7];\r\n            var _n4 = dataAction[i][8];\r\n            var _n5 = dataAction[i][9];\r\n            var _n6 = dataAction[i][10];\r\n            for (let j = 0; j < 8; j++) {\r\n              let _Zero = _n1 & Math.pow(2, 7 - j);\r\n              if (_Zero != 0) {\r\n                dataAction[i][j + 11] *= -1;\r\n              }\r\n            }\r\n            for (let j = 0; j < 8; j++) {\r\n              let _Zero = _n2 & Math.pow(2, 7 - j);\r\n              if (_Zero != 0) {\r\n                dataAction[i][j + 19] *= -1;\r\n              }\r\n            }\r\n            for (let j = 0; j < 8; j++) {\r\n              let _Zero = _n3 & Math.pow(2, 7 - j);\r\n              if (_Zero != 0) {\r\n                dataAction[i][j + 27] *= -1;\r\n              }\r\n            }\r\n            for (let j = 0; j < 8; j++) {\r\n              let _Zero = _n4 & Math.pow(2, 7 - j);\r\n              if (_Zero != 0) {\r\n                dataAction[i][j + 35] *= -1;\r\n              }\r\n            }\r\n            for (let j = 0; j < 8; j++) {\r\n              let _Zero = _n5 & Math.pow(2, 7 - j);\r\n              if (_Zero != 0) {\r\n                dataAction[i][j + 43] *= -1;\r\n              }\r\n            }\r\n            for (let j = 0; j < 8; j++) {\r\n              let _Zero = _n6 & Math.pow(2, 7 - j);\r\n              if (_Zero != 0) {\r\n                dataAction[i][j + 51] *= -1;\r\n              }\r\n            }\r\n            var Loop_Time = 0;\r\n            var Is_Loop_Start = false;\r\n            var Is_Loop_End = false;\r\n            //用于判断是不是循环\r\n            if (dataAction[i][4] != 0 && dataAction[i][4] > 128) {\r\n              Loop_Time = dataAction[i][4] - 128;\r\n            } else if (dataAction[i][4] != 0 && dataAction[i][4] < 128) {\r\n              Loop_Time = dataAction[i][4];\r\n              Is_Loop_Start = false;\r\n              Is_Loop_End = true;\r\n            } else if (dataAction[i][4] == 0) {\r\n              Is_Loop_Start = false;\r\n              Is_Loop_End = false;\r\n            }\r\n            var Pos = [];\r\n            var number = dataAction[i][3];\r\n            for (let j = 0; j < 48; j++) {\r\n              Pos[j] = dataAction[i][j + 11];\r\n            }\r\n            var Speed = dataAction[i][59]; //速度\r\n            var Delay = dataAction[i][60]; //延迟\r\n            var Music_State = 0;\r\n            var Music_Number = -1;\r\n            var Music_Chosen = -1;\r\n            var Is_Cur_Form = 0;\r\n            //这里钢索与其他的不同之处//数据解析 前后都有空格\r\n            //  console.log(dataAction[i].length);\r\n            //  console.log(dataAction[i]);\r\n            var dActionLen = dataAction[i].length - 2; //去掉前后空格\r\n            if (dActionLen == 63) {\r\n              if (\r\n                dataAction[i][61] != 251 &&\r\n                dataAction[i][62] != 251 &&\r\n                dataAction[i][61] != 252 &&\r\n                dataAction[i][62] != 252\r\n              ) {\r\n                Music_Chosen = dataAction[i][61] * 256 + dataAction[i][62];\r\n                Music_State = 2;\r\n              } else if (dataAction[i][61] == 251 && dataAction[i][62] == 251) {\r\n                Music_State = 4;\r\n              } else if (dataAction[i][61] == 252 && dataAction[i][62] == 252) {\r\n                Music_State = 3;\r\n              }\r\n              Music_Number = Music_Chosen;\r\n            } else if (dActionLen == 61) {\r\n              Music_Chosen = 0;\r\n              Music_State = 2;\r\n            }\r\n            // console.log(dataAction[i]);\r\n            // console.log(dataAction[i][dataAction.length-2]);\r\n            Is_Cur_Form = dataAction[i][dataAction[i].length - 2];\r\n            Music_Number = Music_Chosen;\r\n            if (dataAction[i][4] != 0) {\r\n              if (last_loop_byte == 0) {\r\n                Is_Loop_Start = true;\r\n              } else {\r\n                Is_Loop_Start = false;\r\n              }\r\n              if (dataAction[i][4] < 128) {\r\n                Is_Loop_End = true;\r\n                Loop_Time = dataAction[i][4];\r\n              } else {\r\n                Is_Loop_End = false;\r\n                Loop_Time = dataAction[i][4] - 128;\r\n              }\r\n            }\r\n            if (dataAction[i][4] > 128) {\r\n              last_loop_byte = dataAction[i][4];\r\n            } else {\r\n              last_loop_byte = 0;\r\n            }\r\n\r\n            var posDataDhInit = {\r\n              number: number,\r\n              Name: 1,\r\n              Pos: Pos,\r\n              Speed: Speed,\r\n              Delay: Delay,\r\n              Loop_Time: Loop_Time,\r\n              Is_Loop_Start: Is_Loop_Start,\r\n              Is_Loop_End: Is_Loop_End,\r\n              Music_State: Music_State,\r\n              Music_Number: Music_Number,\r\n              Is_Cur_Form: Is_Cur_Form,\r\n            };\r\n\r\n            posDataArr.push(CreatePosDataDh(posDataDhInit));\r\n          }\r\n          //console.log(posDataArr);\r\n          len = posDataArr.length;\r\n          let currentNumber = 0;\r\n          var Loop_Time = -1;\r\n          var Is_In_Loop = false;\r\n          var currentData = [[]];\r\n          var flagNumber = posDataArr[0].number;\r\n          currentData[0] = [];\r\n          for (let i = 0; i < len; i++) {\r\n            if (flagNumber != posDataArr[i].number) {\r\n              flagNumber = posDataArr[i].number;\r\n              currentNumber++;\r\n              currentData[currentNumber] = [];\r\n            }\r\n            var currentPos = [];\r\n            currentPos.push(0xff);\r\n            currentPos.push(0x3e);\r\n            currentPos.push(0x02);\r\n            if (!Is_In_Loop) {\r\n              currentPos[3] = 0;\r\n            }\r\n            if (\r\n              Is_In_Loop &&\r\n              !posDataArr[i].Is_Loop_Start &&\r\n              !posDataArr[i].Is_Loop_End\r\n            ) {\r\n              currentPos[3] = Loop_Time + 128;\r\n            }\r\n            if (posDataArr[i].Is_Loop_End) {\r\n              Is_In_Loop = false;\r\n              currentPos[3] = Loop_Time;\r\n              Loop_Time = 0;\r\n            }\r\n            if (posDataArr[i].Is_Loop_Start) {\r\n              Is_In_Loop = true;\r\n              Loop_Time = posDataArr[i].Loop_Time;\r\n              currentPos[3] = Loop_Time + 128;\r\n            }\r\n\r\n            var _int_temp1 = 0;\r\n            var _int_temp2 = 0;\r\n            var _int_temp3 = 0;\r\n            var _int_temp4 = 0;\r\n            var _int_temp5 = 0;\r\n            var _int_temp6 = 0;\r\n            for (let k = 0; k < 48; k++) {\r\n              if (k < 8) {\r\n                if (posDataArr[i].Pos[k] < 0) {\r\n                  _int_temp1 += parseInt(Math.pow(2, 7 - k));\r\n                  posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                }\r\n              }\r\n\r\n              if (k >= 8 && k < 16) {\r\n                if (posDataArr[i].Pos[k] < 0) {\r\n                  _int_temp2 += parseInt(Math.pow(2, 15 - k));\r\n                  posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                }\r\n              }\r\n\r\n              if (k >= 16 && k < 24) {\r\n                if (posDataArr[i].Pos[k] < 0) {\r\n                  _int_temp3 += parseInt(Math.pow(2, 23 - k));\r\n                  posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                }\r\n              }\r\n\r\n              if (k >= 24 && k < 32) {\r\n                if (posDataArr[i].Pos[k] < 0) {\r\n                  _int_temp4 += parseInt(Math.pow(2, 31 - k));\r\n                  posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                }\r\n              }\r\n              if (k >= 32 && k < 40) {\r\n                if (posDataArr[i].Pos[k] < 0) {\r\n                  _int_temp5 += parseInt(Math.pow(2, 39 - k));\r\n                  posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                }\r\n              }\r\n\r\n              if (k >= 40 && k < 48) {\r\n                if (posDataArr[i].Pos[k] < 0) {\r\n                  _int_temp6 += parseInt(Math.pow(2, 47 - k));\r\n                  posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                }\r\n              }\r\n            }\r\n\r\n            currentPos[4] = _int_temp1;\r\n            currentPos[5] = _int_temp2;\r\n            currentPos[6] = _int_temp3;\r\n            currentPos[7] = _int_temp4;\r\n            currentPos[8] = _int_temp5;\r\n            currentPos[9] = _int_temp6;\r\n            for (let k = 0; k < 48; k++) {\r\n              currentPos[k + 10] = posDataArr[i].Pos[k];\r\n            }\r\n            currentPos[58] = posDataArr[i].Speed;\r\n            currentPos[59] = posDataArr[i].Delay;\r\n            switch (posDataArr[i].Music_State) {\r\n              case 1:\r\n                currentPos[60] = parseInt(posDataArr[i].Music_Number / 256);\r\n                currentPos[61] = parseInt(posDataArr[i].Music_Number % 256);\r\n                break;\r\n              case 2:\r\n                currentPos[60] = parseInt(posDataArr[i].Music_Number / 256);\r\n                currentPos[61] = parseInt(posDataArr[i].Music_Number % 256);\r\n                break;\r\n              case 3:\r\n                currentPos[60] = 252;\r\n                currentPos[61] = 252;\r\n                break;\r\n              case 4:\r\n                currentPos[60] = 251;\r\n                currentPos[61] = 251;\r\n                break;\r\n            }\r\n            currentPos[62] = posDataArr[i].Is_Cur_Form;\r\n            var sum = 0;\r\n            var currentLen = currentPos.length;\r\n            //console.log(currentLen);\r\n            for (let k = 1; k < currentLen; k++) {\r\n              sum += currentPos[k];\r\n            }\r\n            sum = sum % 256;\r\n            currentPos[63] = sum;\r\n            currentData[currentNumber].push(currentPos);\r\n          }\r\n          console.log(currentData);\r\n          len = nameArr.length;\r\n          for (let i = 0; i < len; i++) {\r\n            let promise = new Promise((resolve, reject) => {\r\n              setTimeout(() => resolve(), 50);\r\n            });\r\n            await promise;\r\n            var selectedName = nameArr[i];\r\n            var typeName = selectedName.substring(0, 3);\r\n            var actionName = selectedName.substring(3);\r\n            if (typeName == \"人型:\") {\r\n              typeName = \"RobotAction/\";\r\n            } else if (typeName == \"龙型:\") {\r\n              typeName = \"Action/\";\r\n            }\r\n            actionName = typeName + actionName + \".sh\";\r\n            //console.log(actionName);\r\n            var nameByte = Array.from(iconv.encode(actionName, \"utf8\"));\r\n            var length = nameByte.length;\r\n            var senlength = length + 2;\r\n            //删除\r\n            var createCMD = [];\r\n\r\n            createCMD[0] = 0xff;\r\n            createCMD[1] = senlength;\r\n            createCMD[2] = 0x15;\r\n            var sum = senlength + 0x15;\r\n            for (let j = 0; j < length; j++) {\r\n              createCMD.push(nameByte[j]);\r\n              sum = sum + nameByte[j];\r\n            }\r\n            sum = sum % 256;\r\n            createCMD.push(sum);\r\n            var dataUt = new Uint8Array(createCMD);\r\n            await this.hidDevice.sendReport(0, dataUt);\r\n            // console.log(dataUt);\r\n            //这里需要延迟，钢索的是有返回消息的，但是根据流程，可以不处理\r\n            let promise1 = new Promise((resolve, reject) => {\r\n              setTimeout(() => resolve(), 50);\r\n            });\r\n            await promise1;\r\n\r\n            //创建\r\n            createCMD[2] = 0x14; //创建指令\r\n            createCMD[createCMD.length - 1] =\r\n              createCMD[createCMD.length - 1] - 1;\r\n            dataUt = new Uint8Array(createCMD);\r\n            await this.hidDevice.sendReport(0, dataUt);\r\n            let promise2 = new Promise((resolve, reject) => {\r\n              setTimeout(() => resolve(), 50);\r\n            });\r\n            await promise2;\r\n            //发送数据\r\n            for (let j = 0; j < currentData[i].length; j++) {\r\n              let promises = new Promise((resolve, reject) => {\r\n                setTimeout(() => resolve(), 50);\r\n              });\r\n              await promises;\r\n              var dataSen = new Uint8Array(currentData[i][j]);\r\n\r\n              console.log(dataSen);\r\n              await this.hidDevice.sendReport(0, dataSen);\r\n            }\r\n          }\r\n        }\r\n      };\r\n    },\r\n    async timeSendingPosition() {\r\n      //时时发送位置\r\n      try {\r\n        if (this.isLink == true) {\r\n          var data = [];\r\n          for (let i = 0; i < this.initData[0].length; i++) {\r\n            data.push(this.initData[0][i]);\r\n          }\r\n          // console.log(data);\r\n          data[0] += parseInt(this.ArmInput);\r\n          data.push(0x23);\r\n          var sendData = [];\r\n          sendData[0] = 0xff;\r\n          //sendData[1] = 0xff;\r\n          sendData[1] = 0x33;\r\n          sendData[2] = 0x01;\r\n          var sum = 0x33 + 0x01;\r\n          for (let i = 0; i < data.length; i++) {\r\n            sendData[3 + i] = data[i];\r\n            sum += data[i];\r\n          }\r\n          sum = sum % 256;\r\n          sendData[sendData.length] = sum;\r\n          var dataUt = new Uint8Array(sendData);\r\n          console.log(dataUt);\r\n          await this.hidDevice.sendReport(0, dataUt);\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    },\r\n    async getActionName() {\r\n      //获取动作文件名\r\n      try {\r\n        if (this.isLink == true) {\r\n          var sendByte = [];\r\n          sendByte[0] = 0xff;\r\n          sendByte[1] = 0x02;\r\n          sendByte[2] = 0x0e;\r\n          sendByte[3] = 0x10;\r\n          this.isRedActionLoong = true;\r\n          await this.hidDevice.sendReport(0, sendByte);\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    },\r\n    async receivingProcess(\r\n      event //接收消息线程池\r\n    ) {\r\n      try {\r\n        const { data } = event;\r\n        const dataU8 = new Uint8Array(data.buffer);\r\n        console.log(dataU8);\r\n        var len = dataU8.length;\r\n        for (let i = 0; i < len; i++) {\r\n          if (dataU8[i] == 0xff && dataU8[i + 1] == 0xff) {\r\n            //获取指令，长度，计算sum和\r\n            var dataLen = dataU8[i + 2]; //长度\r\n            var order = dataU8[i + 3]; //指令\r\n            if (dataLen == 0x32 && order == 0xf5) {\r\n              // 连接pc编译器\r\n              var dataAction = [];\r\n              for (let j = 0; j < 48; j++) {\r\n                dataAction[j] = dataU8[i + j + 4];\r\n              }\r\n              this.initData.push(dataAction);\r\n            } else if (\r\n              dataLen == 0x04 &&\r\n              order == 0xf5 &&\r\n              dataU8[i + 4] == 0x4f &&\r\n              dataU8[i + 5] == 0x4b\r\n            ) {\r\n              //连接pc编译器发送成功后的处理\r\n              this.isLink = true;\r\n              this.isInitData = true;\r\n              console.log(\"isInitData = \" + this.isInitData);\r\n            } else if (\r\n              dataLen == 0x04 &&\r\n              order == 0xf6 &&\r\n              dataU8[i + 4] == 0x4f &&\r\n              dataU8[i + 5] == 0x4b\r\n            ) {\r\n              //断开机器人\r\n              this.isLink = false;\r\n              this.hidDevice.close();\r\n            } else if (order == 0x0e) {\r\n              //需要计算根据数据长度读和sum和进行校验\r\n              var dataSum = order + dataLen;\r\n              var nameContent = [];\r\n              for (let j = 0; len < dataLen - 1; j++) {\r\n                dataSum += dataU8[4 + j];\r\n                nameContent.push(dataU8[4 + j]);\r\n              }\r\n              if (dataSum % 256 == dataU8[4 + dataSum]) {\r\n                actionList.push(\"龙型:\" + iconv.decode(nameContent, \"gb2312\"));\r\n              }\r\n            } else if (\r\n              dataLen == 0x04 &&\r\n              order == 0xfa &&\r\n              dataU8[i + 4] == 0x4f &&\r\n              dataU8[i + 5] == 0x4b &&\r\n              dataU8[i + 6] == 0x98 &&\r\n              this.isRedActionLoong == true\r\n            ) {\r\n              //说明第一个文件读取结束了\r\n              this.isRedActionLoong == false;\r\n              var namebyte = conv.encode(\"RobotAction\", \"gb2312\");\r\n              //开始发送第二个指令\r\n              var sendByte = [];\r\n              sendByte[0] = 0xff;\r\n              sendByte[1] = 0x02;\r\n              sendByte[2] = 0x0e;\r\n              sendByte[3] = 0x10;\r\n              this.isRedActionLoong = true;\r\n              await this.hidDevice.sendReport(0, sendByte);\r\n            }\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","//钢索特制PosData\r\nexport default class PosDataGh{\r\n    constructor({number,Name,Pos,Speed,Delay,Loop_Time,Is_Loop_Start,Is_Loop_End,Music_State,Music_Number,Is_Cur_Form})\r\n    {\r\n        this.number = number,//点位编号，对应的是那个动作下的点\r\n        this.Name = Name,//无作用\r\n        this.Pos = Pos,//点位信息的集合\r\n        this.Speed = Speed,//速度\r\n        this.Delay = Delay,//延迟\r\n        this.Loop_Time = Loop_Time,//循环次数\r\n        this.Is_Loop_Start = Is_Loop_Start,//是否是循环的开始\r\n        this.Is_Loop_End = Is_Loop_End,//是否是循环的结束\r\n        this.Music_State=Music_State,//0代表未选择，1代表指导音乐，2代表自定义音乐，3代表继续，4代表停止\r\n        this.Music_Number= Music_Number,//音乐的文件夹以及选择的那个音乐 那个文件夹是这个数/256 那个文件是这个数%256\r\n        this.Is_Cur_Form = Is_Cur_Form//当前动作帧的动作类型0表示人 1表示龙\r\n    }\r\n}\r\n\r\n\r\nexport function CreatePosDataDh(posDataDhInit)\r\n{\r\n    return new PosDataGh({\r\n        number : posDataDhInit.number,\r\n        Name : posDataDhInit.Name,\r\n        Pos : posDataDhInit.Pos,\r\n        Speed : posDataDhInit.Speed,\r\n        Delay : posDataDhInit.Delay,\r\n        Loop_Time:posDataDhInit.Loop_Time,\r\n        Is_Loop_Start : posDataDhInit.Is_Loop_Start,\r\n        Is_Loop_End : posDataDhInit.Is_Loop_End,\r\n        Music_State:posDataDhInit.Music_State,\r\n        Music_Number:posDataDhInit.Music_Number,\r\n        Is_Cur_Form:posDataDhInit.Is_Cur_Form\r\n\r\n    })\r\n}\r\n","import { render } from \"./SteelCable.vue?vue&type=template&id=56a43262\"\nimport script from \"./SteelCable.vue?vue&type=script&lang=js\"\nexport * from \"./SteelCable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <el-button @click=\"connectToDevice\">连接蓝牙设备</el-button>\r\n  <p></p>\r\n  <el-button @click=\"Advance\">进入小剧场</el-button>\r\n  <!-- <el-button type=\"primary\" @click=\"getUUID\">获取UUID</el-button>\r\n  <el-button type=\"success\" @click=\"sendDataToDevice\">发送数据</el-button> -->\r\n</template>\r\n\r\n<script setup name=\"bluetooth-test\">\r\nimport { ref, reactive } from \"vue\";\r\n\r\nlet device;\r\nlet server;\r\nvar isLink = false;\r\nvar characteristic = [];\r\nvar Crc16_Table = [\r\n  0x0000, 0xc0c1, 0xc181, 0x0140, 0xc301, 0x03c0, 0x0280, 0xc241, 0xc601,\r\n  0x06c0, 0x0780, 0xc741, 0x0500, 0xc5c1, 0xc481, 0x0440, 0xcc01, 0x0cc0,\r\n  0x0d80, 0xcd41, 0x0f00, 0xcfc1, 0xce81, 0x0e40, 0x0a00, 0xcac1, 0xcb81,\r\n  0x0b40, 0xc901, 0x09c0, 0x0880, 0xc841, 0xd801, 0x18c0, 0x1980, 0xd941,\r\n  0x1b00, 0xdbc1, 0xda81, 0x1a40, 0x1e00, 0xdec1, 0xdf81, 0x1f40, 0xdd01,\r\n  0x1dc0, 0x1c80, 0xdc41, 0x1400, 0xd4c1, 0xd581, 0x1540, 0xd701, 0x17c0,\r\n  0x1680, 0xd641, 0xd201, 0x12c0, 0x1380, 0xd341, 0x1100, 0xd1c1, 0xd081,\r\n  0x1040, 0xf001, 0x30c0, 0x3180, 0xf141, 0x3300, 0xf3c1, 0xf281, 0x3240,\r\n  0x3600, 0xf6c1, 0xf781, 0x3740, 0xf501, 0x35c0, 0x3480, 0xf441, 0x3c00,\r\n  0xfcc1, 0xfd81, 0x3d40, 0xff01, 0x3fc0, 0x3e80, 0xfe41, 0xfa01, 0x3ac0,\r\n  0x3b80, 0xfb41, 0x3900, 0xf9c1, 0xf881, 0x3840, 0x2800, 0xe8c1, 0xe981,\r\n  0x2940, 0xeb01, 0x2bc0, 0x2a80, 0xea41, 0xee01, 0x2ec0, 0x2f80, 0xef41,\r\n  0x2d00, 0xedc1, 0xec81, 0x2c40, 0xe401, 0x24c0, 0x2580, 0xe541, 0x2700,\r\n  0xe7c1, 0xe681, 0x2640, 0x2200, 0xe2c1, 0xe381, 0x2340, 0xe101, 0x21c0,\r\n  0x2080, 0xe041, 0xa001, 0x60c0, 0x6180, 0xa141, 0x6300, 0xa3c1, 0xa281,\r\n  0x6240, 0x6600, 0xa6c1, 0xa781, 0x6740, 0xa501, 0x65c0, 0x6480, 0xa441,\r\n  0x6c00, 0xacc1, 0xad81, 0x6d40, 0xaf01, 0x6fc0, 0x6e80, 0xae41, 0xaa01,\r\n  0x6ac0, 0x6b80, 0xab41, 0x6900, 0xa9c1, 0xa881, 0x6840, 0x7800, 0xb8c1,\r\n  0xb981, 0x7940, 0xbb01, 0x7bc0, 0x7a80, 0xba41, 0xbe01, 0x7ec0, 0x7f80,\r\n  0xbf41, 0x7d00, 0xbdc1, 0xbc81, 0x7c40, 0xb401, 0x74c0, 0x7580, 0xb541,\r\n  0x7700, 0xb7c1, 0xb681, 0x7640, 0x7200, 0xb2c1, 0xb381, 0x7340, 0xb101,\r\n  0x71c0, 0x7080, 0xb041, 0x5000, 0x90c1, 0x9181, 0x5140, 0x9301, 0x53c0,\r\n  0x5280, 0x9241, 0x9601, 0x56c0, 0x5780, 0x9741, 0x5500, 0x95c1, 0x9481,\r\n  0x5440, 0x9c01, 0x5cc0, 0x5d80, 0x9d41, 0x5f00, 0x9fc1, 0x9e81, 0x5e40,\r\n  0x5a00, 0x9ac1, 0x9b81, 0x5b40, 0x9901, 0x59c0, 0x5880, 0x9841, 0x8801,\r\n  0x48c0, 0x4980, 0x8941, 0x4b00, 0x8bc1, 0x8a81, 0x4a40, 0x4e00, 0x8ec1,\r\n  0x8f81, 0x4f40, 0x8d01, 0x4dc0, 0x4c80, 0x8c41, 0x4400, 0x84c1, 0x8581,\r\n  0x4540, 0x8701, 0x47c0, 0x4680, 0x8641, 0x8201, 0x42c0, 0x4380, 0x8341,\r\n  0x4100, 0x81c1, 0x8081, 0x4040,\r\n]; //crc校验表\r\nasync function sendDataToDevice(device, serviceUUID, characteristicUUID, data) {\r\n  try {\r\n    const characteristic = await service.getCharacteristic(\"0xffc1\");\r\n    console.log(characteristic);\r\n    // 写入数据\r\n    await characteristic.writeValue(data);\r\n\r\n    console.log(\"数据发送成功\");\r\n  } catch (error) {\r\n    console.error(\"发送数据出错:\", error);\r\n  }\r\n}\r\n\r\nasync function connectToDevice() {\r\n  try {\r\n    // 请求蓝牙设备权限\r\n    const options = {\r\n      //acceptAllDevices: true,\r\n      filters: [\r\n        {\r\n          namePrefix: \"QTZM-\",\r\n        },\r\n      ],\r\n      optionalServices: [0xffc0],\r\n    };\r\n    // 连接蓝牙设备\r\n    device = await navigator.bluetooth.requestDevice(options);\r\n    server = await device.gatt.connect();\r\n    await new Promise((resolve) => setTimeout(resolve, 1000)); // 延迟1秒钟\r\n\r\n    // 获取蓝牙特征\r\n    const services = await server.getPrimaryServices(0xffc0);\r\n    console.log(services);\r\n\r\n    characteristic = await services[0].getCharacteristic(0xffc1);\r\n    console.log(characteristic);\r\n\r\n    // 订阅数据\r\n    characteristic.startNotifications();\r\n    // characteristic.addEventListener(\"characteristicvaluechanged\", (e) => {\r\n    //   console.log(e.target.value);\r\n    // });\r\n    characteristic.addEventListener(\r\n      \"characteristicvaluechanged\",\r\n      ReadDataMessage\r\n    );\r\n    isLink = true;\r\n    // 写入数据\r\n    // await characteristic.writeValue(\r\n    //   //   new Uint8Array([85, 170, 0, 5, 19, 242, 144, 156, 53])\r\n    //   new Uint8Array([0x55, 0xaa, 0x00, 0x05, 0x13, 0xe7, 0x5f, 0x5d, 0xba])\r\n    // );\r\n  } catch (error) {\r\n    console.error(\"连接设备出错:\", error);\r\n    isLink = false;\r\n  }\r\n}\r\nasync function getUUID() {\r\n  console.log(server);\r\n\r\n  const services = await server.getPrimaryServices(\"battery_service\");\r\n  console.log(services);\r\n\r\n  /*  for (const service of services) {\r\n    console.log(\"Service UUID:\", service.uuid);\r\n\r\n    const characteristics = await service.getCharacteristics();\r\n    for (const characteristic of characteristics) {\r\n      console.log(\"Characteristic UUID:\", characteristic.uuid);\r\n    }\r\n  } */\r\n}\r\nasync function ReadDataMessage(data) {\r\n  //消息处理池\r\n  console.log(data);\r\n}\r\nasync function SendDataFormatMessage(data) {\r\n  //发送消息格式化处理\r\n  //先计算长度 在计算crc\r\n  var sendData = [];\r\n  var crc = 0xffff;\r\n  var polynomial = 0x8005;\r\n  var crcData = [];\r\n  sendData.push(0x55);\r\n  sendData.push(0xaa);\r\n  var len = data.length + 3;\r\n  sendData.push((len >> 8) & 0xff); //高位\r\n  crcData.push((len >> 8) & 0xff);\r\n  sendData.push(len & 0xff); //低位\r\n  crcData.push(len & 0xff);\r\n  for (let i = 0; i < data.length; i++) {\r\n    sendData.push(data[i]);\r\n    crcData.push(data[i]);\r\n  }\r\n  // for (let byte of crcData) {\r\n  //   crc ^= byte << 8;\r\n  //   for (let i = 0; i < 8; i++) {\r\n  //     if (crc & 0x8000) {\r\n  //       crc = (crc << 1) ^ polynomial;\r\n  //     } else {\r\n  //       crc <<= 1;\r\n  //     }\r\n  //     crc &= 0xffff;\r\n  //   }\r\n  // }\r\n\r\n  for (let byte of crcData) {\r\n    crc = (crc >> 8) ^ Crc16_Table[(crc ^ byte) & 0xff];\r\n  }\r\n  sendData.push((crc >> 8) & 0xff); //高位\r\n  //sendData.push(crc / 256); //高位\r\n  sendData.push(crc & 0xff); //低位\r\n  //sendData.push(crc % 0xff); //低位\r\n  var sum = 0;\r\n  for (let i = 0; i < sendData.length; i++) {\r\n    sum += sendData[i];\r\n  }\r\n  sendData.push(sum & 0xff);\r\n  console.log(new Uint8Array(sendData));\r\n  await characteristic.writeValue(new Uint8Array(sendData));\r\n}\r\nasync function Advance() {\r\n  //进入小剧场\r\n  var data = [0x13, 0xe1];\r\n  SendDataFormatMessage(data);\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import script from \"./Bluetooth.vue?vue&type=script&setup=true&name=bluetooth-test&lang=js\"\nexport * from \"./Bluetooth.vue?vue&type=script&setup=true&name=bluetooth-test&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <el-button @click=\"connectToDevice\">连接蓝牙设备(大黄蜂)</el-button>\r\n  <p></p>\r\n  <!-- <el-button @click=\"Advance\">前进</el-button> -->\r\n  <el-button @click=\"UploadActionFileNames\">上传动作文件名</el-button>\r\n  <el-select v-model=\"selectedOption\">\r\n    <el-option\r\n      v-for=\"option in vOpentions\"\r\n      :key=\"option\"\r\n      :label=\"option\"\r\n      :value=\"option\"\r\n    >\r\n    </el-option>\r\n  </el-select>\r\n  <el-button @click=\"performDance\">播放动作</el-button>\r\n  <p></p>\r\n  <table>\r\n    单独控制:进入编程模式 > 接收进入编程模式完成后 > 发送动作帧 > 退出编程模式\r\n  </table>\r\n  <p></p>\r\n  <el-button @click=\"InProgrammingMode\">进入编程模式</el-button>\r\n  <el-input v-model=\"ArmInput\" style=\"width: 50px\"></el-input>\r\n  <el-button @click=\"ControlJoints\">实时位置</el-button>\r\n  <p></p>\r\n  <input type=\"file\" @change=\"actionDownload\" /> 下载\r\n</template>\r\n<script>\r\nimport { ref, reactive } from \"vue\";\r\nimport iconv from \"iconv-lite\";\r\nimport { CreatePosData } from \"/src/PosData.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      device: [],\r\n      server: [],\r\n      isLink: false,\r\n      characteristic: [],\r\n      Crc16_Table: [\r\n        0x0000, 0xc0c1, 0xc181, 0x0140, 0xc301, 0x03c0, 0x0280, 0xc241, 0xc601,\r\n        0x06c0, 0x0780, 0xc741, 0x0500, 0xc5c1, 0xc481, 0x0440, 0xcc01, 0x0cc0,\r\n        0x0d80, 0xcd41, 0x0f00, 0xcfc1, 0xce81, 0x0e40, 0x0a00, 0xcac1, 0xcb81,\r\n        0x0b40, 0xc901, 0x09c0, 0x0880, 0xc841, 0xd801, 0x18c0, 0x1980, 0xd941,\r\n        0x1b00, 0xdbc1, 0xda81, 0x1a40, 0x1e00, 0xdec1, 0xdf81, 0x1f40, 0xdd01,\r\n        0x1dc0, 0x1c80, 0xdc41, 0x1400, 0xd4c1, 0xd581, 0x1540, 0xd701, 0x17c0,\r\n        0x1680, 0xd641, 0xd201, 0x12c0, 0x1380, 0xd341, 0x1100, 0xd1c1, 0xd081,\r\n        0x1040, 0xf001, 0x30c0, 0x3180, 0xf141, 0x3300, 0xf3c1, 0xf281, 0x3240,\r\n        0x3600, 0xf6c1, 0xf781, 0x3740, 0xf501, 0x35c0, 0x3480, 0xf441, 0x3c00,\r\n        0xfcc1, 0xfd81, 0x3d40, 0xff01, 0x3fc0, 0x3e80, 0xfe41, 0xfa01, 0x3ac0,\r\n        0x3b80, 0xfb41, 0x3900, 0xf9c1, 0xf881, 0x3840, 0x2800, 0xe8c1, 0xe981,\r\n        0x2940, 0xeb01, 0x2bc0, 0x2a80, 0xea41, 0xee01, 0x2ec0, 0x2f80, 0xef41,\r\n        0x2d00, 0xedc1, 0xec81, 0x2c40, 0xe401, 0x24c0, 0x2580, 0xe541, 0x2700,\r\n        0xe7c1, 0xe681, 0x2640, 0x2200, 0xe2c1, 0xe381, 0x2340, 0xe101, 0x21c0,\r\n        0x2080, 0xe041, 0xa001, 0x60c0, 0x6180, 0xa141, 0x6300, 0xa3c1, 0xa281,\r\n        0x6240, 0x6600, 0xa6c1, 0xa781, 0x6740, 0xa501, 0x65c0, 0x6480, 0xa441,\r\n        0x6c00, 0xacc1, 0xad81, 0x6d40, 0xaf01, 0x6fc0, 0x6e80, 0xae41, 0xaa01,\r\n        0x6ac0, 0x6b80, 0xab41, 0x6900, 0xa9c1, 0xa881, 0x6840, 0x7800, 0xb8c1,\r\n        0xb981, 0x7940, 0xbb01, 0x7bc0, 0x7a80, 0xba41, 0xbe01, 0x7ec0, 0x7f80,\r\n        0xbf41, 0x7d00, 0xbdc1, 0xbc81, 0x7c40, 0xb401, 0x74c0, 0x7580, 0xb541,\r\n        0x7700, 0xb7c1, 0xb681, 0x7640, 0x7200, 0xb2c1, 0xb381, 0x7340, 0xb101,\r\n        0x71c0, 0x7080, 0xb041, 0x5000, 0x90c1, 0x9181, 0x5140, 0x9301, 0x53c0,\r\n        0x5280, 0x9241, 0x9601, 0x56c0, 0x5780, 0x9741, 0x5500, 0x95c1, 0x9481,\r\n        0x5440, 0x9c01, 0x5cc0, 0x5d80, 0x9d41, 0x5f00, 0x9fc1, 0x9e81, 0x5e40,\r\n        0x5a00, 0x9ac1, 0x9b81, 0x5b40, 0x9901, 0x59c0, 0x5880, 0x9841, 0x8801,\r\n        0x48c0, 0x4980, 0x8941, 0x4b00, 0x8bc1, 0x8a81, 0x4a40, 0x4e00, 0x8ec1,\r\n        0x8f81, 0x4f40, 0x8d01, 0x4dc0, 0x4c80, 0x8c41, 0x4400, 0x84c1, 0x8581,\r\n        0x4540, 0x8701, 0x47c0, 0x4680, 0x8641, 0x8201, 0x42c0, 0x4380, 0x8341,\r\n        0x4100, 0x81c1, 0x8081, 0x4040,\r\n      ], //crc校验表\r\n      vOpentions: [], //文件表\r\n      vOpentionsList: [], //文件表\r\n      selectedOption: \"\",\r\n      isOpention: false,\r\n      isProgramme: false, //进入编程模式\r\n      progData: [], //进入编程模式的数据集合\r\n      ArmInput: 0,\r\n      sendPosData: [[]], //发送数据集\r\n      sendPosDataNames: [], //发送数据的动作名称集\r\n      isSendPosData: false, //发送点数据\r\n      isSendPdFlag: 0, //发送数据的监听下标\r\n      isSendPdFlagEach: 0, //每次发送数据的下标\r\n    };\r\n  },\r\n  methods: {\r\n    async connectToDevice() {\r\n      try {\r\n        const options = {\r\n          //acceptAllDevices: true,\r\n          filters: [\r\n            {\r\n              namePrefix: \"DHF\",\r\n            },\r\n          ],\r\n          optionalServices: [0xffc0],\r\n          // optionalServices: [0xffe0], //这个是测别的不是大黄蜂\r\n        };\r\n        await navigator.bluetooth.requestDevice(options).then(async (dev) => {\r\n          this.device = dev;\r\n          console.log(this.device);\r\n          this.server = await this.device.gatt.connect();\r\n\r\n          await new Promise((resolve) => setTimeout(resolve, 1000));\r\n          const services = await this.server.getPrimaryServices(0xffc0);\r\n          this.characteristic = await services[0].getCharacteristic(0xffc1);\r\n          // const services = await this.server.getPrimaryServices(0xffe0);\r\n          // this.characteristic = await services[0].getCharacteristic(0xffe1);\r\n          this.characteristic.startNotifications();\r\n          this.characteristic.addEventListener(\r\n            \"characteristicvaluechanged\",\r\n            this.ReadDataMessage\r\n          );\r\n          this.isLink = true;\r\n        });\r\n      } catch (err) {\r\n        if (\r\n          err instanceof DOMException &&\r\n          err.code === DOMException.NOT_FOUND_ERR\r\n        ) {\r\n          this.isLink = false;\r\n          console.error(\"连接设备出错:\", err);\r\n        } else {\r\n          console.error(\"连接设备出错:\", err);\r\n          this.isLink = false;\r\n        }\r\n      }\r\n    },\r\n    //接收\r\n    async ReadDataMessage(data) {\r\n      //console.log(data.target.value);\r\n      const dataArr = new Uint8Array(data.target.value.buffer);\r\n      console.log(dataArr);\r\n      //得到数据后需要进行校验然crc后在统一的处理相对应的集合中\r\n      var len = dataArr.length;\r\n      for (let i = 0; i < len; i++) {\r\n        if (dataArr[i] == 0x55 && dataArr[i + 1] == 0xaa) {\r\n          //获取到了帧头，后获取数据总长度在计算\r\n          //计算长度和判断指令、CRC、已经总数校验\r\n          var high = dataArr[i + 2];\r\n          var low = dataArr[i + 3];\r\n          var getDataLen = (high << 8) | low; //数据长度\r\n          var main_Cmd = dataArr[i + 4];\r\n          var sub_Cmd = dataArr[i + 5];\r\n          if (main_Cmd == 0x13 && sub_Cmd == 0x10) {\r\n            //计算CRC校验\r\n\r\n            var crcHigh = dataArr[i + 3 + getDataLen - 2];\r\n            var crcLow = dataArr[i + 3 + getDataLen - 1];\r\n            var crcValue = (crcHigh << 8) | crcLow;\r\n            var crc = 0xffff;\r\n            for (let j = 0; j < getDataLen - 1; j++) {\r\n              crc =\r\n                (crc >> 8) ^\r\n                this.Crc16_Table[(crc ^ dataArr[i + 2 + j]) & 0xff];\r\n            }\r\n            //console.log(\"处理2:\" + crc);\r\n            if (crc == crcValue) {\r\n              //校验通过\r\n              //开始处理数据\r\n              var actionData = [];\r\n              for (let j = 0; j < getDataLen - 3 - 2; j++) {\r\n                actionData.push(dataArr[i + 6 + j]);\r\n              }\r\n              // this.vOpentions.push();\r\n              this.addVoptions(iconv.decode(actionData, \"GB18030\"));\r\n            } else {\r\n              //校验失败直接不处理或者按照类型进行区别处理\r\n            }\r\n          } else if (\r\n            main_Cmd == 0x13 &&\r\n            sub_Cmd == 0xfa &&\r\n            dataArr[i + 6] == 0xfa\r\n          ) {\r\n            if (this.isOpention) {\r\n              this.isOpention = false;\r\n              console.log(this.vOpentions);\r\n            }\r\n          } else if (main_Cmd == 0x13 && sub_Cmd == 0xe6) {\r\n            if (dataArr[i + 6] == 0xe6 && getDataLen == 6) {\r\n              this.isProgramme = true;\r\n              console.log(this.progData);\r\n            } else {\r\n              var crcHigh = dataArr[i + 3 + getDataLen - 2];\r\n              var crcLow = dataArr[i + 3 + getDataLen - 1];\r\n              var crcValue = (crcHigh << 8) | crcLow;\r\n              var crc = 0xffff;\r\n              for (let j = 0; j < getDataLen - 1; j++) {\r\n                crc =\r\n                  (crc >> 8) ^\r\n                  this.Crc16_Table[(crc ^ dataArr[i + 2 + j]) & 0xff];\r\n              }\r\n              if (crc == crcValue) {\r\n                var actionData = [];\r\n                for (let j = 0; j < getDataLen - 3 - 2; j++) {\r\n                  actionData.push(dataArr[i + 6 + j]);\r\n                }\r\n                this.progData.push(actionData);\r\n              } else {\r\n              }\r\n            }\r\n          } //进入编程模式结束\r\n          else if (\r\n            main_Cmd == 0x13 &&\r\n            sub_Cmd == 0xdc &&\r\n            dataArr[i + 6] == 0x4f &&\r\n            dataArr[i + 7] == 0x4b\r\n          ) {\r\n            var data = this.sendPosData[this.isSendPdFlag][0];\r\n            console.log(\r\n              \"第\" + this.isSendPdFlag + \"个动作文件创建成功，发送首帧\"\r\n            );\r\n            this.SendDataFormatMessage(data);\r\n          } //判断创建文件完成\r\n          else if (\r\n            main_Cmd == 0x13 &&\r\n            sub_Cmd == 0xe3 &&\r\n            dataArr[i + 6] == 0x4f &&\r\n            dataArr[i + 7] == 0x4b\r\n          ) {\r\n            var len = this.sendPosData[this.isSendPdFlag].length;\r\n            if (len - 1 == this.isSendPdFlagEach) {\r\n              this.isSendPdFlag = this.isSendPdFlag + 1;\r\n              if (this.sendPosDataNames.length == this.isSendPdFlag) {\r\n                console.log(\"动作文件发送完成\");\r\n                this.isSendPosData = false;\r\n              } else if (this.isSendPdFlag < this.sendPosDataNames.length) {\r\n                this.isSendPdFlagEach = 0;\r\n                var sendPosDataName = this.sendPosDataNames[this.isSendPdFlag];\r\n                var nameByte = this.nameDataDispose(sendPosDataName);\r\n                var sendData = [];\r\n                var sendData = [];\r\n                sendData.push(0x13);\r\n                sendData.push(0xdc);\r\n                for (let i = 0; i < nameByte.length; i++) {\r\n                  sendData.push(nameByte[i]);\r\n                }\r\n                console.log(\"发送第\" + this.isSendPdFlag + \"个动作文件\");\r\n                this.SendDataFormatMessage(sendData);\r\n              }\r\n            } else {\r\n              this.isSendPdFlagEach = this.isSendPdFlagEach + 1;\r\n              var data =\r\n                this.sendPosData[this.isSendPdFlag][this.isSendPdFlagEach];\r\n              console.log(\"发送第\" + this.isSendPdFlagEach + \"帧\");\r\n              this.SendDataFormatMessage(data);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }, //接收\r\n    async SendDataFormatMessage(data) {\r\n      var sendData = [];\r\n      var crc = 0xffff;\r\n      var crcData = [];\r\n      sendData.push(0x55);\r\n      sendData.push(0xaa);\r\n      var len = data.length + 3;\r\n      sendData.push((len >> 8) & 0xff);\r\n      crcData.push((len >> 8) & 0xff);\r\n      sendData.push(len & 0xff);\r\n      crcData.push(len & 0xff);\r\n      for (let i = 0; i < data.length; i++) {\r\n        sendData.push(data[i]);\r\n        crcData.push(data[i]);\r\n      }\r\n      for (let byte of crcData) {\r\n        crc = (crc >> 8) ^ this.Crc16_Table[(crc ^ byte) & 0xff];\r\n      }\r\n      sendData.push((crc >> 8) & 0xff); //高位\r\n      sendData.push(crc & 0xff); //低位\r\n      // console.log((crc >> 8) & 0xff);\r\n      // console.log(crc & 0xff);\r\n      var sum = 0;\r\n      for (let i = 0; i < sendData.length; i++) {\r\n        sum += sendData[i];\r\n      }\r\n      sendData.push(sum & 0xff);\r\n      // console.log(new Uint8Array(sendData));\r\n      await this.characteristic.writeValue(new Uint8Array(sendData));\r\n    }, //发送\r\n    async Advance() {\r\n      //前进\r\n      var data = [0x13, 0x01];\r\n      this.SendDataFormatMessage(data);\r\n    },\r\n    async UploadActionFileNames() {\r\n      //上传动作文件名\r\n      if (this.isLink) {\r\n        var data = [0x13, 0x10];\r\n        this.isOpention = true;\r\n        this.vOpentions = [];\r\n        this.vOpentionsList = [];\r\n        this.SendDataFormatMessage(data);\r\n      }\r\n    },\r\n    addVoptions(option) {\r\n      // this.vOpentionsList.push(option);\r\n      //this.vOpentions = this.vOpentionsList;\r\n      //Action\r\n      this.vOpentions.push(option);\r\n    },\r\n    async performDance() {\r\n      //执行舞蹈动作\r\n      if (this.isLink && this.selectedOption != \"\") {\r\n        var actionName = Array.from(\r\n          iconv.encode(\"Action/\" + this.selectedOption, \"GB18030\")\r\n        );\r\n        var data = [];\r\n        data.push(0x13);\r\n        data.push(0x17);\r\n        for (let i = 0; i < actionName.length; i++) {\r\n          data.push(actionName[i]);\r\n        }\r\n        this.SendDataFormatMessage(data);\r\n      }\r\n    },\r\n    async InProgrammingMode() {\r\n      //进入编程模式\r\n      console.log(11);\r\n      if (this.isLink) {\r\n        console.log(2);\r\n        var data = [];\r\n        data.push(0x13);\r\n        data.push(0xe6);\r\n        this.isProgramme = false;\r\n        this.SendDataFormatMessage(data);\r\n      }\r\n    },\r\n    async ControlJoints() {\r\n      //控制关节到指定位置\r\n      // if (this.isLink) {\r\n      //   var data = Array.from(this.progData[0]);\r\n      //   data[0] += parseInt(this.ArmInput);\r\n      //   var senData = [];\r\n      //   senData.push(0x13);\r\n      //   senData.push(0xe8);\r\n      //   for (let i = 0; i < data.length; i++) {\r\n      //     senData.push(data[i]);\r\n      //   }\r\n      //   senData.push(0x19);\r\n      //   this.SendDataFormatMessage(senData);\r\n      // }\r\n\r\n      var data = [\r\n        0x03, 0x13, 0xff, 0xff, 0x39, 0xf1, 0x16, 0x48, 0x09, 0x00, 0x00, 0x00,\r\n        0x14, 0x00, 0x00, 0x02, 0x0c, 0x23, 0x05, 0x00, 0x00, 0x04, 0x00, 0x2b,\r\n        0x04, 0x5b, 0x41, 0x00, 0x00, 0x00, 0x00, 0x00, 0x55, 0x00, 0x00, 0x05,\r\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\r\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\r\n        0x0a, 0x0e,\r\n      ];\r\n      this.SendDataFormatMessage(data);\r\n    },\r\n    async actionDownload(event) {\r\n      try {\r\n        const file = event.target.files[0];\r\n        const reader = new FileReader();\r\n        reader.readAsText(file, \"UTF-8\");\r\n        reader.onload = async (evt) => {\r\n          const fileString = evt.target.result;\r\n          const count = fileString.trim().split(\"\\n\").length;\r\n          this.dataArr = [];\r\n          for (let index = 0; index < count; index++) {\r\n            const fileline = fileString.split(\"\\r\\n\")[index].split(\",\")[0];\r\n            const filelineNumber = fileline\r\n              .split(/\\s+/)\r\n              .map((match) =>\r\n                isNaN(match) ? match : match == \"\" ? \" \" : Number(match)\r\n              );\r\n            this.dataArr.push(filelineNumber);\r\n          }\r\n          if (this.isLink == true && this.isSendPosData == false) {\r\n            this.isSendPosData = true;\r\n            this.sendPosData = [[]];\r\n            this.isSendPdFlag = 0;\r\n            this.isSendPdFlagEach = 0;\r\n            var nameArr = [];\r\n            var dataAction = [];\r\n            var dataArr = this.dataArr;\r\n            var len = dataArr.length;\r\n            for (let i = 0; i < len; i++) {\r\n              var _is_Action = false;\r\n              if (dataArr[i][0] == \" \") {\r\n                _is_Action = true;\r\n              }\r\n              if (\r\n                dataArr[i][0] == 253 &&\r\n                dataArr[i][1] == 253 &&\r\n                dataArr[i][2] == 254 &&\r\n                dataArr[i][3] != \" \"\r\n              ) {\r\n                nameArr.push(dataArr[i][3]);\r\n              }\r\n              if (_is_Action == true) {\r\n                dataAction.push(dataArr[i]);\r\n              }\r\n            }\r\n            var last_loop_byte = 0;\r\n            len = dataAction.length;\r\n            var posDataArr = [];\r\n            for (let i = 0; i < len; i++) {\r\n              var _n1 = dataAction[i][5];\r\n              var _n2 = dataAction[i][6];\r\n              var _n3 = dataAction[i][7];\r\n              var _n4 = dataAction[i][8];\r\n              var _n5 = dataAction[i][9];\r\n              var _n6 = dataAction[i][10];\r\n              for (let j = 0; j < 8; j++) {\r\n                let _Zero = _n1 & Math.pow(2, 7 - j);\r\n                if (_Zero != 0) {\r\n                  dataAction[i][j + 11] *= -1;\r\n                }\r\n              }\r\n              for (let j = 0; j < 8; j++) {\r\n                let _Zero = _n2 & Math.pow(2, 7 - j);\r\n                if (_Zero != 0) {\r\n                  dataAction[i][j + 19] *= -1;\r\n                }\r\n              }\r\n              for (let j = 0; j < 8; j++) {\r\n                let _Zero = _n3 & Math.pow(2, 7 - j);\r\n                if (_Zero != 0) {\r\n                  dataAction[i][j + 27] *= -1;\r\n                }\r\n              }\r\n              for (let j = 0; j < 8; j++) {\r\n                let _Zero = _n4 & Math.pow(2, 7 - j);\r\n                if (_Zero != 0) {\r\n                  dataAction[i][j + 35] *= -1;\r\n                }\r\n              }\r\n              for (let j = 0; j < 8; j++) {\r\n                let _Zero = _n5 & Math.pow(2, 7 - j);\r\n                if (_Zero != 0) {\r\n                  dataAction[i][j + 43] *= -1;\r\n                }\r\n              }\r\n              for (let j = 0; j < 8; j++) {\r\n                let _Zero = _n6 & Math.pow(2, 7 - j);\r\n                if (_Zero != 0) {\r\n                  dataAction[i][51] *= -1;\r\n                }\r\n              }\r\n              var Loop_Time = 0;\r\n              var Is_Loop_Start = false;\r\n              var Is_Loop_End = false;\r\n              if (dataAction[i][4] != 0 && dataAction[i][4] > 128) {\r\n                Loop_Time = dataAction[i][4] - 128;\r\n              } else if (dataAction[i][4] != 0 && dataAction[i][4] > 128) {\r\n                Loop_Time = dataAction[i][4];\r\n                Is_Loop_Start = false;\r\n                Is_Loop_End = true;\r\n              } else if (dataAction[i][4] == 0) {\r\n                Is_Loop_Start = false;\r\n                Is_Loop_End = false;\r\n              }\r\n              var Pos = [];\r\n              var number = dataAction[i][3];\r\n              for (let j = 0; j < 48; j++) {\r\n                Pos[j] = dataAction[i][j + 11];\r\n              }\r\n              var Speed = dataAction[i][59];\r\n              var Delay = dataAction[i][60];\r\n              var Music_State = 0;\r\n              var Music_Number = -1;\r\n              var Music_Chosen = -1;\r\n              if (\r\n                dataAction[i][61] != 251 &&\r\n                dataAction[i][62] != 251 &&\r\n                dataAction[i][61] != 252 &&\r\n                dataAction[i][62] != 252\r\n              ) {\r\n                Music_Chosen = dataAction[i][61] * 256 + dataAction[i][62];\r\n                Music_State = 2;\r\n              } else if (dataAction[i][61] == 251 && dataAction[i][62] == 251) {\r\n                Music_State = 4;\r\n              } else if (dataAction[i][61] == 252 && dataAction[i][62] == 252) {\r\n                Music_State = 3;\r\n              }\r\n              Music_Number = Music_Chosen;\r\n              if (dataAction[i][4] != 0) {\r\n                if (last_loop_byte == 0) {\r\n                  Is_Loop_Start = true;\r\n                } else {\r\n                  Is_Loop_Start = false;\r\n                }\r\n                if (dataAction[i][4] < 128) {\r\n                  Is_Loop_End = true;\r\n                  Loop_Time = dataAction[i][4];\r\n                } else {\r\n                  Is_Loop_End = false;\r\n                  Loop_Time = dataAction[i][4] - 128;\r\n                }\r\n              }\r\n              if (dataAction[i][4] > 128) {\r\n                last_loop_byte = dataAction[i][4];\r\n              } else {\r\n                last_loop_byte = 0;\r\n              }\r\n              var posData = {\r\n                number: number,\r\n                Name: 1,\r\n                Pos: Pos,\r\n                Speed: Speed,\r\n                Delay: Delay,\r\n                Loop_Time: Loop_Time,\r\n                Is_Loop_Start: Is_Loop_Start,\r\n                Is_Loop_End: Is_Loop_End,\r\n                Music_State: Music_State,\r\n                Music_Number: Music_Number,\r\n              };\r\n              posDataArr.push(CreatePosData(posData));\r\n            }\r\n            this.sendPosDataNames = nameArr;\r\n            len = posDataArr.length;\r\n            let currentnumber = 0;\r\n            var Loop_Time = -1;\r\n            var Is_In_Loop = false;\r\n            var currentData = [[]];\r\n            var flagNumber = posDataArr[0].number;\r\n            currentData[0] = [];\r\n            for (let i = 0; i < len; i++) {\r\n              if (flagNumber != posDataArr[i].number) {\r\n                flagNumber = posDataArr[i].number;\r\n                currentnumber++;\r\n                currentData[currentnumber] = [];\r\n              }\r\n              var currentPos = [];\r\n              currentPos.push(0x13);\r\n              currentPos.push(0xe3);\r\n              if (!Is_In_Loop) {\r\n                currentPos[2] = 0;\r\n              }\r\n              if (\r\n                Is_In_Loop &&\r\n                !posDataArr[i].Is_Loop_Start &&\r\n                !posDataArr[i].Is_Loop_End\r\n              ) {\r\n                currentPos[2] = Loop_Time + 128;\r\n              }\r\n              if (posDataArr[i].Is_Loop_End) {\r\n                Is_In_Loop = false;\r\n                currentPos[2] = Loop_Time;\r\n                Loop_Time = 0;\r\n              }\r\n              if (posDataArr[i].Is_Loop_Start) {\r\n                Is_In_Loop = true;\r\n                Loop_Time = posDataArr[i].Loop_Time;\r\n                currentPos[2] = Loop_Time + 128;\r\n              }\r\n              var _int_temp1 = 0;\r\n              var _int_temp2 = 0;\r\n              var _int_temp3 = 0;\r\n              var _int_temp4 = 0;\r\n              var _int_temp5 = 0;\r\n              var _int_temp6 = 0;\r\n\r\n              for (let k = 0; k < 48; k++) {\r\n                if (k < 8) {\r\n                  if (posDataArr[i].Pos[k] < 0) {\r\n                    _int_temp1 += parseInt(Math.pow(2, 7 - k));\r\n                    posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                  }\r\n                }\r\n                if (k >= 8 && k < 16) {\r\n                  if (posDataArr[i].Pos[k] < 0) {\r\n                    _int_temp2 += parseInt(Math.pow(2, 15 - k));\r\n                    posDataArr[i].Pos[k] = posDataArr[i].pos[k] * -1;\r\n                  }\r\n                }\r\n\r\n                if (k >= 16 && k < 24) {\r\n                  if (posDataArr[i].Pos[k] < 0) {\r\n                    _int_temp3 += parseInt(Math.pow(2, 23 - k));\r\n                    posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                  }\r\n                }\r\n                if (k >= 24 && k < 32) {\r\n                  if (posDataArr[i].Pos[k] < 0) {\r\n                    _int_temp4 += parseInt(Math.pow(2, 31 - k));\r\n                    posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                  }\r\n                }\r\n                if (k >= 32 && k < 40) {\r\n                  if (posDataArr[i].Pos[k] < 0) {\r\n                    _int_temp5 += parseInt(Math.pow(2, 39 - k));\r\n                    posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                  }\r\n                }\r\n                if (k >= 40 && k < 48) {\r\n                  if (posDataArr[i].Pos[k] < 0) {\r\n                    _int_temp6 += parseInt(Math.pow(2, 47 - k));\r\n                    posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                  }\r\n                }\r\n              }\r\n              currentPos[3] = _int_temp1;\r\n              currentPos[4] = _int_temp2;\r\n              currentPos[5] = _int_temp3;\r\n              currentPos[6] = _int_temp4;\r\n              currentPos[7] = _int_temp5;\r\n              currentPos[8] = _int_temp6;\r\n              for (let k = 0; k < 48; k++) {\r\n                currentPos[k + 9] = posDataArr[i].Pos[k];\r\n              }\r\n\r\n              currentPos[57] = posDataArr[i].Speed;\r\n              currentPos[58] = posDataArr[i].Delay;\r\n              switch (posDataArr[i].Music_State) {\r\n                case 1:\r\n                  currentPos[59] = parseInt(posDataArr[i].Music_Number / 256);\r\n                  currentPos[60] = parseInt(posDataArr[i].Music_Number % 256);\r\n                  break;\r\n                case 2:\r\n                  currentPos[59] = parseInt(posDataArr[i].Music_Number / 256);\r\n                  currentPos[60] = parseInt(posDataArr[i].Music_Number % 256);\r\n                  break;\r\n                case 3:\r\n                  currentPos[59] = 252;\r\n                  currentPos[60] = 252;\r\n                  break;\r\n                case 4:\r\n                  currentData[59] = 251;\r\n                  currentData[60] = 251;\r\n                  break;\r\n              }\r\n              currentData[currentnumber].push(currentPos);\r\n            }\r\n            console.log(currentData);\r\n            this.sendPosData = currentData;\r\n\r\n            var sendPosDataName = this.sendPosDataNames[0];\r\n            var nameByte = this.nameDataDispose(sendPosDataName);\r\n            var sendData = [];\r\n            sendData.push(0x13);\r\n            sendData.push(0xdc);\r\n            for (let i = 0; i < nameByte.length; i++) {\r\n              sendData.push(nameByte[i]);\r\n            }\r\n            console.log(\"创建首个动作文件\");\r\n            this.SendDataFormatMessage(sendData);\r\n          }\r\n        }; //只读的末尾\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }, //下载\r\n    nameDataDispose(nameData) {\r\n      var actionName = \"Action/\" + nameData + \".sh\";\r\n      var nameByte = Array.from(iconv.encode(actionName, \"GB18030\"));\r\n      return nameByte;\r\n    }, //名称处理\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./BluetoothBumblebee.vue?vue&type=template&id=1bdb2f26\"\nimport script from \"./BluetoothBumblebee.vue?vue&type=script&lang=js\"\nexport * from \"./BluetoothBumblebee.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <el-button @click=\"connectToDevice\">连接蓝牙设备(钢锁)</el-button>\r\n  <p></p>\r\n  <el-button @click=\"UploadFileName\">上传动作名称(龙型,人形两种)</el-button>\r\n  <el-select v-model=\"selectActionName\">\r\n    <el-option\r\n      v-for=\"actionName in actionNames\"\r\n      :key=\"actionName\"\r\n      :label=\"actionName\"\r\n      :value=\"actionName\"\r\n    >\r\n    </el-option>\r\n  </el-select>\r\n  <el-button @click=\"performDance\">播放动作</el-button>\r\n  <p></p>\r\n  <input type=\"file\" @change=\"actionDownload\" /> 下载\r\n  <p></p>\r\n  <el-button @click=\"GetMusic\">获取机器人音乐</el-button>\r\n</template>\r\n<script>\r\nimport { ref, reactive } from \"vue\";\r\nimport iconv from \"iconv-lite\";\r\nimport { CreatePosDataDh } from \"/src/PosDataGh.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      device: [],\r\n      server: [],\r\n      isLink: false,\r\n      characteristic: [],\r\n      readDataList: [], //接收区\r\n      actionNames: [], //动作名称\r\n      selectActionName: \"\",\r\n      isAction: false, //人型文件\r\n      isRobotAction: false, //龙型文件\r\n      actionExePorgress: 0, //动作执行进度\r\n      isActionExePorgress: false, //动作执行是否开始\r\n      sendPosDataNames: [], //发送数据的动作名称集\r\n      sendPosData: [[]], //发送数据集\r\n      isSendPosData: false, //发送点数据\r\n      isSendPdFlag: 0, //发送数据的监听下标\r\n      isSendPdFlagEach: 0, //每次发送数据的下标\r\n      musicFlag: 0, //音乐\r\n    };\r\n  },\r\n  methods: {\r\n    async connectToDevice() {\r\n      try {\r\n        const options = {\r\n          acceptAllDevices: true,\r\n          // filters: [\r\n          //   {\r\n          //     namePrefix: \"GSEG\",\r\n          //   },\r\n          // ],\r\n          optionalServices: [0xffe0],\r\n        };\r\n        await navigator.bluetooth.requestDevice(options).then(async (dev) => {\r\n          this.device = dev;\r\n          this.server = await this.device.gatt.connect();\r\n          //console.log(this.server);\r\n          await new Promise((resolve) => setTimeout(resolve, 1000));\r\n          if (this.server.connected) {\r\n            const services = await this.server.getPrimaryServices(0xffe0);\r\n            // console.log(services);\r\n            this.characteristic = await services[0].getCharacteristic(0xffe1);\r\n            this.characteristic.startNotifications();\r\n            this.characteristic.addEventListener(\r\n              \"characteristicvaluechanged\",\r\n              this.ReadDataMessage\r\n            );\r\n            this.isLink = true;\r\n\r\n            //向机器人发动上传配置参数指令\r\n            var data = [];\r\n            data.push(0x0f); //发送上传参数让机器人播报数据\r\n            this.SendDataFormatMessage(data);\r\n            console.log(\"连接成功\");\r\n          } else {\r\n            console.log(\"连接失败\");\r\n          }\r\n        });\r\n      } catch (err) {\r\n        if (\r\n          err instanceof DOMException &&\r\n          err.code === DOMException.NOT_FOUND_ERR\r\n        ) {\r\n          this.isLink = false;\r\n          console.log(\"连接设备出错:\", err);\r\n        } else {\r\n          console.error(\"连接设备出错:\", err);\r\n          this.isLink = false;\r\n        }\r\n      }\r\n    },\r\n    async ReadDataMessage(data) {\r\n      //接收池\r\n      const dataArr = new Uint8Array(data.target.value.buffer);\r\n      //console.log(dataArr);\r\n      var len = dataArr.length;\r\n      for (let i = 0; i < len; i++) {\r\n        this.readDataList.push(dataArr[i]);\r\n      }\r\n      len = this.readDataList.length;\r\n      // console.log(len);\r\n      var readData = [];\r\n      for (let i = 0; i < len; i++) {\r\n        if (this.readDataList[i] == 0xff && this.readDataList[i + 1] == 0xff) {\r\n          //获取长度如果长度存在\r\n          var readLen = this.readDataList[i + 2];\r\n          if (i + 3 + readLen <= len) {\r\n            //判断长度是否存在\r\n            //计算sum校验的值\r\n            var sum = readLen;\r\n            for (let j = 0; j < readLen - 1; j++) {\r\n              sum += this.readDataList[i + 3 + j];\r\n            }\r\n            sum = sum % 256; //表示校验成功\r\n            if (sum == this.readDataList[i + 2 + readLen]) {\r\n              //  var flag = i + 2 + readLen + 1;\r\n              var flag = 2 + readLen + 1;\r\n              var dataFlag = [];\r\n              for (let j = 0; j < flag; j++) {\r\n                dataFlag.push(this.readDataList[i + j]);\r\n              }\r\n              i = i + 2 + readLen;\r\n              readData.push(dataFlag);\r\n              //console.log(flag);\r\n              //console.log(dataFlag);\r\n            }\r\n          } else {\r\n            //大于则直接退出循环开始下一次处理\r\n            return;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (readData.length > 0) {\r\n        //移除\r\n        for (let i = 0; i < readData.length; i++) {\r\n          for (let j = 0; j < readData[i].length; j++) {\r\n            this.readDataList.shift();\r\n          }\r\n        }\r\n        //数据处理\r\n        for (let i = 0; i < readData.length; i++) {\r\n          // console.log(readData[i]);\r\n          if (\r\n            readData[i][0] == 0xff &&\r\n            readData[i][1] == 0xff &&\r\n            readData[i][3] == 0x0f\r\n          ) {\r\n          } //上传电量等配置参数(因为他是实时发的所以目前先不处理)\r\n          else if (\r\n            readData[i][0] == 0xff &&\r\n            readData[i][1] == 0xff &&\r\n            readData[i][3] == 0x10\r\n          ) {\r\n            //解析成汉字\r\n            var dataInfo = readData[i].slice(4, readData[i].length - 1);\r\n            console.log(\"2:\" + dataInfo);\r\n            this.actionNames.push(\"龙型:\" + iconv.decode(dataInfo, \"GB18030\"));\r\n          } //上传Action动作文件\r\n          else if (\r\n            readData[i][0] == 0xff &&\r\n            readData[i][1] == 0xff &&\r\n            readData[i][2] == 0x03 &&\r\n            readData[i][3] == 0xfa &&\r\n            readData[i][4] == 0xfa\r\n          ) {\r\n            //console.log(this.isRobotAction);\r\n            if (this.isAction) {\r\n              this.isAction = false;\r\n              var data = [];\r\n              data.push(0x16);\r\n              var dataName = Array.from(iconv.encode(\"RobotAction\", \"GB18030\"));\r\n              for (let i = 0; i < dataName.length; i++) {\r\n                data.push(dataName[i]);\r\n              }\r\n              this.isRobotAction = true;\r\n              this.SendDataFormatMessage(data);\r\n            }\r\n\r\n            console.log(\"双Fa判断结果:\" + this.musicFlag); //K1音乐返回\r\n          } //上传Action结束码\r\n          else if (\r\n            readData[i][0] == 0xff &&\r\n            readData[i][1] == 0xff &&\r\n            readData[i][2] == 0x03 &&\r\n            readData[i][3] == 0xfa &&\r\n            readData[i][4] == 0xfd\r\n          ) {\r\n            console.log(\"fa fd判断结果:\" + this.musicFlag); //K1音乐返回\r\n          } //其他音乐返回\r\n          else if (\r\n            readData[i][0] == 0xff &&\r\n            readData[i][1] == 0xff &&\r\n            readData[i][3] == 0x16\r\n          ) {\r\n            //解析成汉字\r\n            var dataInfo = readData[i].slice(4, readData[i].length - 1);\r\n            this.actionNames.push(\"人型:\" + iconv.decode(dataInfo, \"GB18030\"));\r\n          } //指定文件夹上传文件\r\n          else if (\r\n            readData[i][0] == 0xff &&\r\n            readData[i][1] == 0xff &&\r\n            readData[i][2] == 0x03 &&\r\n            readData[i][3] == 0xfa &&\r\n            readData[i][4] == 0xfc\r\n          ) {\r\n            if (this.isRobotAction) {\r\n              this.isRobotAction = false;\r\n              //console.log(this.actionNames);\r\n            }\r\n          } //上传指定文件的结束吗\r\n          else if (\r\n            readData[i][0] == 0xff &&\r\n            readData[i][1] == 0xff &&\r\n            readData[i][3] == 0x17\r\n          ) {\r\n            this.actionExePorgress = readData[i][4];\r\n            if (readData[i][4] == 100) {\r\n              this.isActionExePorgress = false;\r\n            }\r\n          } //判断是否结束\r\n          else if (\r\n            readData[i][0] == 0xff &&\r\n            readData[i][1] == 0xff &&\r\n            readData[i][3] == 0xdc &&\r\n            readData[i][4] == 0x4f &&\r\n            readData[i][5] == 0x4b\r\n          ) {\r\n            //发送数据的首帧\r\n            var data = this.sendPosData[this.isSendPdFlag][0];\r\n            console.log(\r\n              \"第\" + this.isSendPdFlag + \"个动作文件创建成功，发送首帧\"\r\n            );\r\n            this.SendDataFormatMessage(data);\r\n          } //判断是否创建文件结束\r\n          else if (\r\n            readData[i][0] == 0xff &&\r\n            readData[i][1] == 0xff &&\r\n            readData[i][3] == 0xe3 &&\r\n            readData[i][4] == 0x4f &&\r\n            readData[i][5] == 0x4b\r\n          ) {\r\n            //需要判断是发送下一帧还是创建新的文件\r\n            var len = this.sendPosData[this.isSendPdFlag].length;\r\n            if (len - 1 == this.isSendPdFlagEach) {\r\n              //说明该动作文件发送完成需要判断有没有下一个动作文件\r\n              this.isSendPdFlag = this.isSendPdFlag + 1;\r\n              if (this.sendPosDataNames.length == this.isSendPdFlag) {\r\n                console.log(\"动作文件发送完成\");\r\n                this.isSendPosData = false;\r\n              } else if (this.isSendPdFlag < this.sendPosDataNames.length) {\r\n                //发送创建文件\r\n                this.isSendPdFlagEach = 0;\r\n                //发送创建文件\r\n                var sendPosDataName = this.sendPosDataNames[this.isSendPdFlag];\r\n                var nameByte = this.nameDataDispose(sendPosDataName);\r\n                var sendData = [];\r\n                sendData.push(0xdc);\r\n                for (let i = 0; i < nameByte.length; i++) {\r\n                  sendData.push(nameByte[i]);\r\n                }\r\n                console.log(\"发送第\" + this.isSendPdFlag + \"个动作文件\");\r\n                this.SendDataFormatMessage(sendData);\r\n              }\r\n            } else {\r\n              this.isSendPdFlagEach = this.isSendPdFlagEach + 1;\r\n              var data =\r\n                this.sendPosData[this.isSendPdFlag][this.isSendPdFlagEach];\r\n              console.log(\"发送第\" + this.isSendPdFlagEach + \"帧\");\r\n              this.SendDataFormatMessage(data);\r\n            }\r\n          } //下载文件结束\r\n          else if (\r\n            readData[i][0] == 0xff &&\r\n            readData[i][1] == 0xff &&\r\n            readData[i][3] == 0x18\r\n          ) {\r\n            var dataInfo = readData[i].slice(4, readData[i].length - 1);\r\n            console.log(iconv.decode(dataInfo, \"GB18030\"));\r\n            this.musicFlag++;\r\n          } //读取\r\n        }\r\n      }\r\n    },\r\n    async SendDataFormatMessage(data) {\r\n      var sendData = [];\r\n      sendData.push(0xff);\r\n      sendData.push(0xff);\r\n      sendData.push(data.length + 1);\r\n      var sum = data.length + 1;\r\n      for (let i = 0; i < data.length; i++) {\r\n        sendData.push(data[i]);\r\n        sum += data[i];\r\n      }\r\n      sendData.push(sum % 256);\r\n      await this.characteristic.writeValue(new Uint8Array(sendData));\r\n    },\r\n    async UploadFileName() {\r\n      //上传动作文件名称先上传龙形在上传人形\r\n      if (\r\n        this.isLink &&\r\n        this.isAction == false &&\r\n        this.isRobotAction == false\r\n      ) {\r\n        this.actionNames = [];\r\n        var data = [];\r\n        data.push(0x10);\r\n        this.isAction = true;\r\n        this.SendDataFormatMessage(data);\r\n      }\r\n    },\r\n    async performDance() {\r\n      //播放动作\r\n      if (\r\n        this.isLink &&\r\n        this.selectActionName != \"\" &&\r\n        this.isActionExePorgress == false\r\n      ) {\r\n        this.isActionExePorgress = true;\r\n        this.actionExePorgress = 0;\r\n        var typeName = this.selectActionName.substring(0, 3);\r\n        var actionName = this.selectActionName.substring(3);\r\n        if (typeName == \"人型:\") {\r\n          typeName = \"RobotAction/\";\r\n        } else if (typeName == \"龙型:\") {\r\n          typeName = \"Action/\";\r\n        }\r\n        actionName = typeName + actionName;\r\n        var nameByte = Array.from(iconv.encode(actionName, \"GB18030\"));\r\n        var data = [];\r\n        data.push(0x17);\r\n        for (let i = 0; i < nameByte.length; i++) {\r\n          data.push(nameByte[i]);\r\n        }\r\n        // console.log(data);\r\n        this.SendDataFormatMessage(data);\r\n      }\r\n    },\r\n    async actionDownload(event) {\r\n      var file = event.target.files[0];\r\n      var reader = new FileReader();\r\n      reader.readAsText(file, \"UTF-8\");\r\n      reader.onload = async (evt) => {\r\n        const fileString = evt.target.result;\r\n        const count = fileString.trim().split(\"\\n\").length;\r\n        var dataArr = [];\r\n        for (let index = 0; index < count; index++) {\r\n          const fileline = fileString.split(\"\\r\\n\")[index].split(\",\")[0];\r\n          const filelineNumber = fileline\r\n            .split(/\\s+/)\r\n            .map((match) =>\r\n              isNaN(match) ? match : match == \"\" ? \" \" : Number(match)\r\n            );\r\n          dataArr.push(filelineNumber);\r\n        }\r\n\r\n        if (this.isLink == true && this.isSendPosData == false) {\r\n          this.isSendPosData = true;\r\n          this.sendPosData = [[]];\r\n          this.isSendPdFlag = 0;\r\n          this.isSendPdFlagEach = 0;\r\n          var nameArr = [];\r\n          var dataAction = [];\r\n          var len = dataArr.length;\r\n\r\n          for (let i = 0; i < len; i++) {\r\n            var _is_Action = false;\r\n            if (dataArr[i][0] == \" \") {\r\n              _is_Action = true;\r\n            }\r\n            if (\r\n              dataArr[i][0] == 253 &&\r\n              dataArr[i][1] == 253 &&\r\n              dataArr[i][2] == 254 &&\r\n              dataArr[i][3] != \" \"\r\n            ) {\r\n              nameArr.push(dataArr[i][3]);\r\n            }\r\n            if (_is_Action == true) {\r\n              dataAction.push(dataArr[i]);\r\n            }\r\n          }\r\n          var last_loop_byte = 0;\r\n          len = dataAction.length;\r\n          var posDataArr = [];\r\n          for (let i = 0; i < len; i++) {\r\n            var _n1 = dataAction[i][5];\r\n            var _n2 = dataAction[i][6];\r\n            var _n3 = dataAction[i][7];\r\n            var _n4 = dataAction[i][8];\r\n            var _n5 = dataAction[i][9];\r\n            var _n6 = dataAction[i][10];\r\n\r\n            for (let j = 0; j < 8; j++) {\r\n              let _Zero = _n1 & Math.pow(2, 7 - j);\r\n              if (_Zero != 0) {\r\n                dataAction[i][j + 11] *= -1;\r\n              }\r\n            }\r\n            for (let j = 0; j < 8; j++) {\r\n              let _Zero = _n2 & Math.pow(2, 7 - j);\r\n              if (_Zero != 0) {\r\n                dataAction[i][j + 19] *= -1;\r\n              }\r\n            }\r\n            for (let j = 0; j < 8; j++) {\r\n              let _Zero = _n3 & Math.pow(2, 7 - j);\r\n              if (_Zero != 0) {\r\n                dataAction[i][j + 27] *= -1;\r\n              }\r\n            }\r\n            for (let j = 0; j < 8; j++) {\r\n              let _Zero = _n4 & Math.pow(2, 7 - j);\r\n              if (_Zero != 0) {\r\n                dataAction[i][j + 35] *= -1;\r\n              }\r\n            }\r\n            for (let j = 0; j < 8; j++) {\r\n              let _Zero = _n5 & Math.pow(2, 7 - j);\r\n              if (_Zero != 0) {\r\n                dataAction[i][j + 43] *= -1;\r\n              }\r\n            }\r\n            for (let j = 0; j < 8; j++) {\r\n              let _Zero = _n6 & Math.pow(2, 7 - j);\r\n              if (_Zero != 0) {\r\n                dataAction[i][j + 51] *= -1;\r\n              }\r\n            }\r\n            var Loop_Time = 0;\r\n            var Is_Loop_Start = false;\r\n            var Is_Loop_End = false;\r\n            if (dataAction[i][4] != 0 && dataAction[i][4] > 128) {\r\n              Loop_Time = dataAction[i][4] - 128;\r\n            } else if (dataAction[i][4] != 0 && dataAction[i][4] < 128) {\r\n              Loop_Time = dataAction[i][4];\r\n              Is_Loop_Start = false;\r\n              Is_Loop_End = true;\r\n            } else if (dataAction[i][4] == 0) {\r\n              Is_Loop_Start = false;\r\n              Is_Loop_End = false;\r\n            }\r\n            var Pos = [];\r\n            var number = dataAction[i][3];\r\n            for (let j = 0; j < 48; j++) {\r\n              Pos[j] = dataAction[i][j + 11];\r\n            }\r\n            var Speed = dataAction[i][59]; //速度\r\n            var Delay = dataAction[i][60]; //延迟\r\n            var Music_State = 0;\r\n            var Music_Number = -1;\r\n            var Music_Chosen = -1;\r\n            var Is_Cur_Form = 0;\r\n            var dActionLen = dataAction[i].length - 2;\r\n            if (dActionLen == 63) {\r\n              if (\r\n                dataAction[i][61] != 251 &&\r\n                dataAction[i][62] != 251 &&\r\n                dataAction[i][61] != 252 &&\r\n                dataAction[i][62] != 252\r\n              ) {\r\n                Music_Chosen = dataAction[i][61] * 256 + dataAction[i][62];\r\n                Music_State = 2;\r\n              } else if (dataAction[i][61] == 251 && dataAction[i][62] == 251) {\r\n                Music_State = 4;\r\n              } else if (dataAction[i][61] == 252 && dataAction[i][62] == 252) {\r\n                Music_State = 3;\r\n              }\r\n              Music_Number = Music_Chosen;\r\n            } else if (dActionLen == 61) {\r\n              Music_Chosen = 0;\r\n              Music_State = 2;\r\n            }\r\n\r\n            Is_Cur_Form = dataAction[i][dataAction[i].length - 2];\r\n            Music_Number = Music_Chosen;\r\n            if (dataAction[i][4] != 0) {\r\n              if (last_loop_byte == 0) {\r\n                Is_Loop_Start = true;\r\n              } else {\r\n                Is_Loop_Start = false;\r\n              }\r\n              if (dataAction[i][4] < 128) {\r\n                Is_Loop_End = true;\r\n                Loop_Time = dataAction[i][4];\r\n              } else {\r\n                Is_Loop_End = false;\r\n                Loop_Time = dataAction[i][4] - 128;\r\n              }\r\n            }\r\n\r\n            if (dataAction[i][4] > 128) {\r\n              last_loop_byte = dataAction[i][4];\r\n            } else {\r\n              last_loop_byte = 0;\r\n            }\r\n\r\n            var posDataDhInit = {\r\n              number: number,\r\n              Name: 1,\r\n              Pos: Pos,\r\n              Speed: Speed,\r\n              Delay: Delay,\r\n              Loop_Time: Loop_Time,\r\n              Is_Loop_Start: Is_Loop_Start,\r\n              Is_Loop_End: Is_Loop_End,\r\n              Music_State: Music_State,\r\n              Music_Number: Music_Number,\r\n              Is_Cur_Form: Is_Cur_Form,\r\n            };\r\n            posDataArr.push(CreatePosDataDh(posDataDhInit));\r\n          }\r\n          this.sendPosDataNames = nameArr;\r\n\r\n          len = posDataArr.length;\r\n          let currentNumber = 0;\r\n          var Loop_Time = -1;\r\n          var Is_In_Loop = false;\r\n          var currentData = [[]];\r\n          var flagNumber = posDataArr[0].number;\r\n          currentData[0] = [];\r\n          for (let i = 0; i < len; i++) {\r\n            if (flagNumber != posDataArr[i].number) {\r\n              flagNumber = posDataArr[i].number;\r\n              currentNumber++;\r\n              currentData[currentNumber] = [];\r\n            }\r\n            var currentPos = [];\r\n            currentPos.push(0xe3);\r\n            if (!Is_In_Loop) {\r\n              currentPos[1] = 0;\r\n            }\r\n            if (\r\n              Is_In_Loop &&\r\n              !posDataArr[i].Is_Loop_Start &&\r\n              !posDataArr[i].Is_Loop_End\r\n            ) {\r\n              currentPos[1] = Loop_Time + 128;\r\n            }\r\n            if (posDataArr[i].Is_Loop_End) {\r\n              Is_In_Loop = false;\r\n              currentPos[1] = Loop_Time;\r\n              Loop_Time = 0;\r\n            }\r\n            if (posDataArr[i].Is_Loop_Start) {\r\n              Is_In_Loop = true;\r\n              Loop_Time = posDataArr[i].Loop_Time;\r\n              currentPos[1] = Loop_Time + 128;\r\n            }\r\n\r\n            var _int_temp1 = 0;\r\n            var _int_temp2 = 0;\r\n            var _int_temp3 = 0;\r\n            var _int_temp4 = 0;\r\n            var _int_temp5 = 0;\r\n            var _int_temp6 = 0;\r\n            for (let k = 0; k < 48; k++) {\r\n              if (k < 8) {\r\n                if (posDataArr[i].Pos[k] < 0) {\r\n                  _int_temp1 += parseInt(Math.pow(2, 7 - k));\r\n                  posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                }\r\n              }\r\n\r\n              if (k >= 8 && k < 16) {\r\n                if (posDataArr[i].Pos[k] < 0) {\r\n                  _int_temp2 += parseInt(Math.pow(2, 15 - k));\r\n                  posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                }\r\n              }\r\n\r\n              if (k >= 16 && k < 24) {\r\n                if (posDataArr[i].Pos[k] < 0) {\r\n                  _int_temp3 += parseInt(Math.pow(2, 23 - k));\r\n                  posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                }\r\n              }\r\n\r\n              if (k >= 24 && k < 32) {\r\n                if (posDataArr[i].Pos[k] < 0) {\r\n                  _int_temp4 += parseInt(Math.pow(2, 31 - k));\r\n                  posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                }\r\n              }\r\n              if (k >= 32 && k < 40) {\r\n                if (posDataArr[i].Pos[k] < 0) {\r\n                  _int_temp5 += parseInt(Math.pow(2, 39 - k));\r\n                  posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                }\r\n              }\r\n\r\n              if (k >= 40 && k < 48) {\r\n                if (posDataArr[i].Pos[k] < 0) {\r\n                  _int_temp6 += parseInt(Math.pow(2, 47 - k));\r\n                  posDataArr[i].Pos[k] = posDataArr[i].Pos[k] * -1;\r\n                }\r\n              }\r\n            }\r\n\r\n            currentPos[2] = _int_temp1;\r\n            currentPos[3] = _int_temp2;\r\n            currentPos[4] = _int_temp3;\r\n            currentPos[5] = _int_temp4;\r\n            currentPos[6] = _int_temp5;\r\n            currentPos[7] = _int_temp6;\r\n            for (let k = 0; k < 48; k++) {\r\n              currentPos[k + 8] = posDataArr[i].Pos[k];\r\n            }\r\n            currentPos[56] = posDataArr[i].Speed;\r\n            currentPos[57] = posDataArr[i].Delay;\r\n            switch (posDataArr[i].Music_State) {\r\n              case 1:\r\n                currentPos[58] = parseInt(posDataArr[i].Music_Number / 256);\r\n                currentPos[59] = parseInt(posDataArr[i].Music_Number % 256);\r\n                break;\r\n              case 2:\r\n                currentPos[58] = parseInt(posDataArr[i].Music_Number / 256);\r\n                currentPos[59] = parseInt(posDataArr[i].Music_Number % 256);\r\n                break;\r\n              case 3:\r\n                currentPos[58] = 252;\r\n                currentPos[59] = 252;\r\n                break;\r\n              case 4:\r\n                currentPos[58] = 251;\r\n                currentPos[59] = 251;\r\n                break;\r\n            }\r\n            currentPos[60] = posDataArr[i].Is_Cur_Form;\r\n            currentData[currentNumber].push(currentPos);\r\n          }\r\n          // console.log(currentData);\r\n          this.sendPosData = currentData;\r\n\r\n          //状态机模式发送数据\r\n          var sendPosDataName = this.sendPosDataNames[0];\r\n          var nameByte = this.nameDataDispose(sendPosDataName);\r\n          var sendData = [];\r\n          sendData.push(0xdc);\r\n          for (let i = 0; i < nameByte.length; i++) {\r\n            sendData.push(nameByte[i]);\r\n          }\r\n          console.log(\"创建首个动作文件\");\r\n          this.SendDataFormatMessage(sendData);\r\n        } //是否连接\r\n      };\r\n    },\r\n    nameDataDispose(nameData) {\r\n      // console.log(nameData);\r\n      var typeName = nameData.substring(0, 3);\r\n      var actionName = nameData.substring(3);\r\n      if (typeName == \"人型:\") {\r\n        typeName = \"RobotAction/\";\r\n      } else if (typeName == \"龙型:\") {\r\n        typeName = \"Action/\";\r\n      }\r\n      actionName = typeName + actionName + \".sh\";\r\n      var nameByte = Array.from(iconv.encode(actionName, \"GB18030\"));\r\n      return nameByte;\r\n    },\r\n    async GetMusic() {\r\n      try {\r\n        if (this.isLink) {\r\n          this.musicFlag = 0;\r\n          var data = [];\r\n          data.push(0x18);\r\n          var nameByte = Array.from(iconv.encode(\"21\", \"GB18030\"));\r\n          for (let i = 0; i < nameByte.length; i++) {\r\n            data.push(nameByte[i]);\r\n          }\r\n          this.SendDataFormatMessage(data);\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }, //获取音乐加中音乐的名称\r\n  }, //方法集合\r\n};\r\n</script>\r\n","import { render } from \"./BluetoothSteelCable.vue?vue&type=template&id=4ec05546\"\nimport script from \"./BluetoothSteelCable.vue?vue&type=script&lang=js\"\nexport * from \"./BluetoothSteelCable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <el-button @click=\"connectToDevice\">连接蓝牙设备</el-button>\r\n  <p></p>\r\n  <el-button @click=\"UploadActionFileNames\">上传动作文件名</el-button>\r\n</template>\r\n<script>\r\nimport { ref, reactive } from \"vue\";\r\nimport iconv from \"iconv-lite\";\r\nimport { CreatePosDataDh } from \"/src/PosDataGh.js\";\r\nimport { timePanelSharedProps } from \"element-plus/es/components/time-picker/src/props/shared\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLink: false,\r\n      device: [],\r\n      server: [],\r\n      characteristic: [],\r\n      Crc16_Table: [\r\n        0x0000, 0xc0c1, 0xc181, 0x0140, 0xc301, 0x03c0, 0x0280, 0xc241, 0xc601,\r\n        0x06c0, 0x0780, 0xc741, 0x0500, 0xc5c1, 0xc481, 0x0440, 0xcc01, 0x0cc0,\r\n        0x0d80, 0xcd41, 0x0f00, 0xcfc1, 0xce81, 0x0e40, 0x0a00, 0xcac1, 0xcb81,\r\n        0x0b40, 0xc901, 0x09c0, 0x0880, 0xc841, 0xd801, 0x18c0, 0x1980, 0xd941,\r\n        0x1b00, 0xdbc1, 0xda81, 0x1a40, 0x1e00, 0xdec1, 0xdf81, 0x1f40, 0xdd01,\r\n        0x1dc0, 0x1c80, 0xdc41, 0x1400, 0xd4c1, 0xd581, 0x1540, 0xd701, 0x17c0,\r\n        0x1680, 0xd641, 0xd201, 0x12c0, 0x1380, 0xd341, 0x1100, 0xd1c1, 0xd081,\r\n        0x1040, 0xf001, 0x30c0, 0x3180, 0xf141, 0x3300, 0xf3c1, 0xf281, 0x3240,\r\n        0x3600, 0xf6c1, 0xf781, 0x3740, 0xf501, 0x35c0, 0x3480, 0xf441, 0x3c00,\r\n        0xfcc1, 0xfd81, 0x3d40, 0xff01, 0x3fc0, 0x3e80, 0xfe41, 0xfa01, 0x3ac0,\r\n        0x3b80, 0xfb41, 0x3900, 0xf9c1, 0xf881, 0x3840, 0x2800, 0xe8c1, 0xe981,\r\n        0x2940, 0xeb01, 0x2bc0, 0x2a80, 0xea41, 0xee01, 0x2ec0, 0x2f80, 0xef41,\r\n        0x2d00, 0xedc1, 0xec81, 0x2c40, 0xe401, 0x24c0, 0x2580, 0xe541, 0x2700,\r\n        0xe7c1, 0xe681, 0x2640, 0x2200, 0xe2c1, 0xe381, 0x2340, 0xe101, 0x21c0,\r\n        0x2080, 0xe041, 0xa001, 0x60c0, 0x6180, 0xa141, 0x6300, 0xa3c1, 0xa281,\r\n        0x6240, 0x6600, 0xa6c1, 0xa781, 0x6740, 0xa501, 0x65c0, 0x6480, 0xa441,\r\n        0x6c00, 0xacc1, 0xad81, 0x6d40, 0xaf01, 0x6fc0, 0x6e80, 0xae41, 0xaa01,\r\n        0x6ac0, 0x6b80, 0xab41, 0x6900, 0xa9c1, 0xa881, 0x6840, 0x7800, 0xb8c1,\r\n        0xb981, 0x7940, 0xbb01, 0x7bc0, 0x7a80, 0xba41, 0xbe01, 0x7ec0, 0x7f80,\r\n        0xbf41, 0x7d00, 0xbdc1, 0xbc81, 0x7c40, 0xb401, 0x74c0, 0x7580, 0xb541,\r\n        0x7700, 0xb7c1, 0xb681, 0x7640, 0x7200, 0xb2c1, 0xb381, 0x7340, 0xb101,\r\n        0x71c0, 0x7080, 0xb041, 0x5000, 0x90c1, 0x9181, 0x5140, 0x9301, 0x53c0,\r\n        0x5280, 0x9241, 0x9601, 0x56c0, 0x5780, 0x9741, 0x5500, 0x95c1, 0x9481,\r\n        0x5440, 0x9c01, 0x5cc0, 0x5d80, 0x9d41, 0x5f00, 0x9fc1, 0x9e81, 0x5e40,\r\n        0x5a00, 0x9ac1, 0x9b81, 0x5b40, 0x9901, 0x59c0, 0x5880, 0x9841, 0x8801,\r\n        0x48c0, 0x4980, 0x8941, 0x4b00, 0x8bc1, 0x8a81, 0x4a40, 0x4e00, 0x8ec1,\r\n        0x8f81, 0x4f40, 0x8d01, 0x4dc0, 0x4c80, 0x8c41, 0x4400, 0x84c1, 0x8581,\r\n        0x4540, 0x8701, 0x47c0, 0x4680, 0x8641, 0x8201, 0x42c0, 0x4380, 0x8341,\r\n        0x4100, 0x81c1, 0x8081, 0x4040,\r\n      ], //crc校验表\r\n      vOpentions: [], //文件表\r\n      vOpentionsList: [], //文件表\r\n      selectedOption: \"\",\r\n      isUpFileName: false, //上传文件名\r\n      upFileNameFlag: 0, //上传文件监听法\r\n      fileNameList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    async connectToDevice() {\r\n      try {\r\n        const options = {\r\n          //acceptAllDevices: true,\r\n          filters: [\r\n            {\r\n              namePrefix: \"BUZZ\",\r\n            },\r\n          ],\r\n          optionalServices: [0xffc0],\r\n        };\r\n        await navigator.bluetooth.requestDevice(options).then(async (dev) => {\r\n          this.device = dev;\r\n          this.server = await this.device.gatt.connect();\r\n          await new Promise((resolve) => setTimeout(resolve, 1000));\r\n          if (this.server.connected) {\r\n            console.log(1);\r\n            const services = await this.server.getPrimaryServices(0xffc0);\r\n            this.characteristic = await services[0].getCharacteristic(0xffc1);\r\n            this.characteristic.startNotifications();\r\n            this.characteristic.addEventListener(\r\n              \"characteristicvaluechanged\",\r\n              this.ReadDataMessage\r\n            );\r\n            this.isLink = true;\r\n          }\r\n        });\r\n      } catch (err) {\r\n        if (\r\n          err instanceof DOMException &&\r\n          err.code === DOMException.NOT_FOUND_ERR\r\n        ) {\r\n          this.isLink = false;\r\n          console.log(\"连接设备出错:\", err);\r\n        } else {\r\n          this.isLink = false;\r\n          console.error(err);\r\n        }\r\n      }\r\n    }, //连接\r\n\r\n    async ReadDataMessage(data) {\r\n      const dataArr = new Uint8Array(data.target.value.buffer);\r\n      console.log(dataArr);\r\n      var len = dataArr.length;\r\n      for (let i = 0; i < len; i++) {\r\n        if (dataArr[i] == 0x55 && dataArr[i + 1] == 0xaa) {\r\n          var high = dataArr[i + 2];\r\n          var low = dataArr[i + 3];\r\n          var getDatalen = (high << 8) | low;\r\n          var main_Cmd = dataArr[i + 4];\r\n          var sub_Cmd = dataArr[i + 5];\r\n          if (main_Cmd == 0x13 && sub_Cmd == 0x16) {\r\n            var crcHigh = dataArr[i + 3 + getDatalen - 2];\r\n            var crcLow = dataArr[i + 3 + getDatalen - 1];\r\n            var crcValue = (crcHigh << 8) | crcLow;\r\n            var crc = 0xffff;\r\n            for (let j = 0; j < getDatalen - 1; j++) {\r\n              crc =\r\n                (crc >> 8) ^\r\n                this.Crc16_Table[(crc ^ dataArr[i + 2 + j]) & 0xff];\r\n            }\r\n            if (crc == crcValue) {\r\n              if (this.upFileNameFlag == 0) {\r\n              }\r\n            } else {\r\n              console.log(\"验证失败\");\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }, //接收处理池,\r\n\r\n    async SendDataFormatMessage(data) {\r\n      var sendData = [];\r\n      var crc = 0xffff;\r\n      var crcData = [];\r\n      sendData.push(0x55);\r\n      sendData.push(0xaa);\r\n      var len = data.length + 3;\r\n      sendData.push((len >> 8) & 0xff);\r\n      crcData.push((len >> 8) & 0xff);\r\n      sendData.push(len & 0xff);\r\n      crcData.push(len & 0xff);\r\n      for (let i = 0; i < data.length; i++) {\r\n        sendData.push(data[i]);\r\n        crcData.push(data[i]);\r\n      }\r\n      for (let byte of crcData) {\r\n        crc = (crc >> 8) ^ this.Crc16_Table[(crc ^ byte) & 0xff];\r\n      }\r\n      sendData.push((crc >> 8) & 0xff); //高位\r\n      sendData.push(crc & 0xff); //低位\r\n      var sum = 0;\r\n      for (let i = 0; i < sendData.length; i++) {\r\n        sum += sendData[i];\r\n      }\r\n      sendData.push(sum & 0xff);\r\n      console.log(sendData);\r\n      await this.characteristic.writeValue(new Uint8Array(sendData));\r\n    }, //发送处理方法\r\n\r\n    async UploadActionFileNames() {\r\n      if (this.isLink && this.isUpFileName == false) {\r\n        this.isUpFileName = true;\r\n        this.upFileNameFlag = 0;\r\n        //有两个文件凌空地面\r\n        var data = [];\r\n        data.push(0x13);\r\n        data.push(0x16);\r\n        var actionName = Array.from(iconv.encode(\"Action/rack\", \"GB18030\")); //地面\r\n        for (let i = 0; i < actionName.length; i++) {\r\n          data.push(actionName[i]);\r\n        }\r\n        console.log(data);\r\n        this.SendDataFormatMessage(data);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./BluetoothBazz.vue?vue&type=template&id=766095d1\"\nimport script from \"./BluetoothBazz.vue?vue&type=script&lang=js\"\nexport * from \"./BluetoothBazz.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <h1>测试抽象工厂</h1>\r\n  <button @click=\"connectToDevice\">连接</button>\r\n  <button @click=\"disconnectBT\">断开</button>\r\n  <br />\r\n  <button @click=\"InitBTProgram\">进入蓝牙编程模式</button>\r\n  <button @click=\"OffBTProgram\">退出蓝牙编程模式</button>\r\n  <br />\r\n  <button @click=\"SetUpServoLock\">上锁</button>\r\n  <button @click=\"SetDomnBTProgram\">解锁</button>\r\n  <br />\r\n  <label>舵机号</label>\r\n  <el-input style=\"width: 50px\" v-model=\"axisNumber\" />\r\n  <br />\r\n  <label>运动量</label>\r\n  <el-input style=\"width: 50px\" v-model=\"axisValue\" />\r\n  <br />\r\n  <button @click=\"Achsebewegung\">单轴运动</button>\r\n  <br />\r\n  <button @click=\"GetFileNames\">获取文件名</button>\r\n  <el-select v-model=\"selectActionName\">\r\n    <el-option\r\n      v-for=\"actionName in actionNames\"\r\n      :key=\"actionName\"\r\n      :label=\"actionName\"\r\n      :value=\"actionName\"\r\n    >\r\n    </el-option>\r\n  </el-select>\r\n  <br />\r\n  <button @click=\"ExistsFileName\">判断文件名是否存在</button>\r\n  <br />\r\n  <button @click=\"ExecuteAction\">绝对路径执行动作文件</button>\r\n  <br />\r\n  <button @click=\"GetRobotAxisLocation\">获取机器人当前位置</button>\r\n  <br />\r\n  <button @click=\"UploadActionInRobot\">绝对的路径将动作上传到机器人当中</button>\r\n</template>\r\n<script>\r\nimport SelectRobotElect from \"/src/factory/SelectRobotElect.js\";\r\nimport { InfoEnum } from \"/src/factory/InfoEnum.js\";\r\nimport { CreateOP_ActionFrame } from \"/src/factory/OP_ActionFrame.js\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      robotTest: [],\r\n      axisNumber: 0, //轴编号\r\n      axisValue: 0, //轴值\r\n      robotFormParameter: [], //机器人初始动作\r\n      actionNames: [], //动作名称\r\n      selectActionName: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async connectToDevice() {\r\n      //连接蓝牙\r\n      this.robotTest = new SelectRobotElect();\r\n      const res = await this.robotTest.BlueToothDispose();\r\n      console.log(res);\r\n      if (res.BlueLink == InfoEnum.succeed) {\r\n        this.robotTest = res.instance;\r\n      } else {\r\n        console.log(\"没链接\");\r\n      }\r\n    },\r\n    async disconnectBT() {\r\n      //断开蓝牙\r\n      this.robotTest.RobotBlueToothBreak();\r\n    },\r\n    async InitBTProgram() {\r\n      //进入蓝牙编程模式\r\n      var ret = await this.robotTest.IntoBlueToothProgram();\r\n      console.log(ret);\r\n      if (ret.BlueLink == InfoEnum.succeed) {\r\n        this.robotFormParameter = ret.value;\r\n      }\r\n    },\r\n    async OffBTProgram() {\r\n      //退出蓝牙编程模式\r\n      var ret = await this.robotTest.OffBlueToothProgram();\r\n      console.log(ret);\r\n    },\r\n    async SetUpServoLock() {\r\n      //上锁\r\n      var lockList = [];\r\n      for (let i = 0; i < 48; i++) {\r\n        lockList.push(1);\r\n      }\r\n      var ret = await this.robotTest.SetServoLock(lockList);\r\n      console.log(ret);\r\n    },\r\n    async SetDomnBTProgram() {\r\n      //解锁\r\n      var lockList = [];\r\n      for (let i = 0; i < 48; i++) {\r\n        lockList.push(0);\r\n      }\r\n      var ret = await this.robotTest.SetServoLock(lockList);\r\n      console.log(ret);\r\n    },\r\n    async Achsebewegung() {\r\n      //设置轴的实时运动\r\n\r\n      if (this.robotFormParameter.length > 0) {\r\n        var data = [];\r\n        for (let i = 0; i < this.robotFormParameter[0].length; i++) {\r\n          var Value = 0;\r\n          if (i == this.axisNumber) {\r\n            Value = this.robotFormParameter[0][i] + parseInt(this.axisValue);\r\n          } else {\r\n            Value = this.robotFormParameter[0][i];\r\n          }\r\n          data.push(Value);\r\n        }\r\n        data.push(0x23);\r\n        //console.log(data);\r\n        await this.robotTest.Achsebewegung(data);\r\n      }\r\n    },\r\n\r\n    async GetFileNames() {\r\n      //获取文件名\r\n      var ret = await this.robotTest.GetFileNames();\r\n      console.log(ret);\r\n      this.selectActionName = \"\";\r\n      if (ret.BlueLink == InfoEnum.succeed) {\r\n        this.actionNames = ret.value;\r\n      }\r\n    },\r\n    async ExistsFileName() {\r\n      //判断文件名是否存在\r\n      var ret = await this.robotTest.ExistsFileName(\"窜\");\r\n      console.log(ret);\r\n    },\r\n    async ExecuteAction() {\r\n      //执行文件\r\n      var ret = await this.robotTest.ExecuteAction(this.selectActionName);\r\n      console.log(ret);\r\n    },\r\n    async GetRobotAxisLocation() {\r\n      //获取机器人当前位置\r\n      var ret = await this.robotTest.GetRobotAxisLocation();\r\n      console.log(ret);\r\n    },\r\n    async UploadActionInRobot() {\r\n      var actionName = \"测试的动作123\";\r\n      var actions = [];\r\n      var pos = []; //动作值\r\n      for (let i = 0; i < 48; i++) {\r\n        pos.push(0);\r\n      }\r\n      var a1 = {\r\n        Pos: pos,\r\n        Speed: 30,\r\n        Delay: 0,\r\n        Loop_Time: 0,\r\n        Is_Loop_Start: false,\r\n        Is_Loop_End: false,\r\n        Music_State: 2,\r\n        Music_Number: 0 * 256 + 0, //0 * 256表示文件夹 0表示文件\r\n      };\r\n      actions.push(CreateOP_ActionFrame(a1));\r\n\r\n      var a2 = {\r\n        Pos: pos,\r\n        Speed: 30,\r\n        Delay: 0,\r\n        Loop_Time: 2,\r\n        Is_Loop_Start: true,\r\n        Is_Loop_End: false,\r\n        Music_State: 3,\r\n        Music_Number: 0,\r\n      }; //这里循环开始，注意是循环的参数\r\n      actions.push(CreateOP_ActionFrame(a2));\r\n\r\n      var a3 = {\r\n        Pos: pos,\r\n        Speed: 30,\r\n        Delay: 0,\r\n        Loop_Time: 2,\r\n        Is_Loop_Start: false,\r\n        Is_Loop_End: false,\r\n        Music_State: 3,\r\n        Music_Number: 0,\r\n      }; //这里是循环的中间值，注意是循环的参数\r\n      actions.push(CreateOP_ActionFrame(a3));\r\n\r\n      var a4 = {\r\n        Pos: pos,\r\n        Speed: 30,\r\n        Delay: 0,\r\n        Loop_Time: 2,\r\n        Is_Loop_Start: false,\r\n        Is_Loop_End: true,\r\n        Music_State: 3,\r\n        Music_Number: 0,\r\n      }; //这里是循环的中间值，注意是循环的参数\r\n      actions.push(CreateOP_ActionFrame(a4));\r\n\r\n      var a5 = {\r\n        Pos: pos,\r\n        Speed: 30,\r\n        Delay: 0,\r\n        Loop_Time: 0,\r\n        Is_Loop_Start: false,\r\n        Is_Loop_End: false,\r\n        Music_State: 3,\r\n        Music_Number: 0,\r\n      }; //这里是循环的中间值，注意是循环的参数\r\n      actions.push(CreateOP_ActionFrame(a5));\r\n\r\n      var res = await this.robotTest.UploadActionInRobot(actionName, actions);\r\n      console.log(res);\r\n    },\r\n  },\r\n  mounted() {},\r\n};\r\n</script>\r\n","//机器人选择工厂\r\nexport default class SelectRobotFactory {\r\n  GetFactory(number) {}\r\n}\r\n","//机器人通讯抽象工厂\r\nexport default class RobotAbsFactory {\r\n  //蓝牙连接\r\n  async RobotBlueToothConntect(device) {}\r\n\r\n  //蓝牙断开\r\n  async RobotBlueToothBreak() {}\r\n\r\n  //进入蓝牙编程\r\n  async IntoBlueToothProgram() {}\r\n\r\n  //退出蓝牙编程\r\n  async OffBlueToothProgram() {}\r\n\r\n  //设置舵机锁\r\n  async SetServoLock(lockList) {}\r\n\r\n  //轴时时运动\r\n  async Achsebewegung(axisData) {}\r\n\r\n  //获取文件名\r\n  async GetFileNames() {}\r\n\r\n  //判断文件名是否存在\r\n  async ExistsFileName(actionName) {}\r\n\r\n  //执行动作\r\n  async ExecuteAction(actionName) {}\r\n\r\n  //获取进度\r\n  async GetProgressValue() {}\r\n\r\n  //获取机器人当前位置\r\n  async GetRobotAxisLocation() {}\r\n\r\n  //上传动作到机器人\r\n  async UploadActionInRobot(actionName, actionFrames) {}\r\n}\r\n","export class InfoEnum {\r\n  static succeed = \"1000\"; //成功\r\n  static fail = \"1001\"; //失败\r\n  static timeout = \"1002\"; //超时\r\n  static ununited = \"1003\"; //未连接\r\n  static isErr = \"1004\"; //错误\r\n  static callOff = \"1005\"; //手动取消\r\n  static stateless = \"1006\"; //进入发送队无返回值\r\n}\r\n","//30擎天柱工厂\r\nimport RobotAbsFactory from \"/src/factory/RobotAbsFactory.js\";\r\nimport { InfoEnum } from \"/src/factory/InfoEnum.js\";\r\nimport iconv from \"iconv-lite\";\r\n\r\nvar serverBT = null;\r\nvar characteristic = null;\r\nvar isBlueLink = false; //是否连接\r\nvar isBT_ProgeamFlag = false; //是否进入蓝牙编译模式\r\nvar isOffBT_ProgeamFlag = false; //是否退出蓝牙编译模式\r\nvar isArtcularLockFlag = false; //是否是关节锁\r\nvar isGetFileNamesFlag = false; //是否读取文件\r\nvar isGetRobotAxisLocationFlag = false; //是否获取当前位置\r\nvar isUploadToRobotDataFlag = false; //是否向机器人上传数据\r\nvar isExistsFileNameFlag = -1;\r\nvar readDataList = []; //接收池\r\nvar sendDataList = []; //发送池\r\nvar isReadTimer = null; //发送数据的计时器\r\nvar isBTlinkTimer = null; //蓝牙断开处理计时器\r\nvar robotFormParameter = []; //机器人初始形态参数\r\nvar actionNames = []; //动作文件名库\r\nvar progressValue = 0; //进度值\r\nvar GetRobotAxisLocationValues = []; //机器人当前位置\r\nvar OP_SendPosData = [];\r\n\r\nexport default class OptimusPrime40Robot extends RobotAbsFactory {\r\n  async RobotBlueToothConntect(device) {\r\n    try {\r\n      serverBT = null;\r\n      serverBT = await device.gatt.connect();\r\n      await new Promise((resolve) => setTimeout(resolve, 1000));\r\n      characteristic = null;\r\n      isBlueLink = false;\r\n      sendDataList = [];\r\n      readDataList = [];\r\n      isReadTimer = null;\r\n      isBTlinkTimer = null;\r\n      robotFormParameter = [];\r\n      if (serverBT.connected) {\r\n        const services = await serverBT.getPrimaryServices(0xffe0);\r\n        characteristic = await services[0].getCharacteristic(0xffe1);\r\n        characteristic.startNotifications();\r\n        characteristic.addEventListener(\r\n          \"characteristicvaluechanged\",\r\n          this.ReadDataMessage\r\n        ); //蓝牙的接听事件,并且注册接收池\r\n        //蓝牙被动断开的事件处理\r\n        isBlueLink = true;\r\n        isReadTimer = setInterval(() => {\r\n          this.SendDataMessage();\r\n        }, 80); //发送计时器\r\n        isBTlinkTimer = setInterval(() => {\r\n          if (!device.gatt.connected) {\r\n            clearInterval(isBTlinkTimer);\r\n            // 蓝牙设备连接已断开，进行相应处理\r\n            this.onDisconnected();\r\n          }\r\n        }, 1000);\r\n\r\n        return {\r\n          BlueLink: InfoEnum.succeed,\r\n          Meg: \"连接成功！\",\r\n          instance: this,\r\n          modelNumber: \"CTGEN\", //30擎天柱\r\n        };\r\n      } else {\r\n        return {\r\n          BlueLink: InfoEnum.fail,\r\n          Meg: \"链接失败\",\r\n        };\r\n      }\r\n    } catch (err) {\r\n      isBlueLink = false;\r\n      return { BlueLink: InfoEnum.isErr, Meg: err };\r\n    }\r\n  } //连接蓝牙\r\n\r\n  async ReadDataMessage(data) {\r\n    const dataArr = new Uint8Array(data.target.value.buffer);\r\n    var len = dataArr.length;\r\n    for (let i = 0; i < len; i++) {\r\n      readDataList.push(dataArr[i]);\r\n    }\r\n    len = readDataList.length;\r\n    var readData = [];\r\n    for (let i = 0; i < len; i++) {\r\n      if (readDataList[i] == 0xff && readDataList[i + 1] == 0xff) {\r\n        var readLen = readDataList[i + 2];\r\n        if (i + 3 + readLen <= len) {\r\n          var sum = readLen;\r\n          for (let j = 0; j < readLen - 1; j++) {\r\n            sum += readDataList[i + 3 + j];\r\n          }\r\n          sum = sum % 256;\r\n          if (sum == readDataList[i + 2 + readLen]) {\r\n            var flag = 2 + readLen + 1;\r\n            var dataFlag = [];\r\n            for (let j = 0; j < flag; j++) {\r\n              dataFlag.push(readDataList[i + j]);\r\n            }\r\n            i = i + 2 + readLen;\r\n            readData.push(dataFlag);\r\n          }\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    if (readData.length > 0) {\r\n      //移除\r\n      for (let i = 0; i < readData.length; i++) {\r\n        for (let j = 0; j < readData[i].length; j++) {\r\n          readDataList.shift();\r\n        }\r\n      }\r\n      //数据处理\r\n      for (let i = 0; i < readData.length; i++) {\r\n        console.log(readData[i]);\r\n        if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xe6\r\n        ) {\r\n          //进入蓝牙编程模式\r\n          if (\r\n            readData[i][2] == 0x03 &&\r\n            readData[i][4] == 0xe6 &&\r\n            readData[i][5] == 0xcf\r\n          ) {\r\n            //表示结束\r\n            isBT_ProgeamFlag = true;\r\n          } else {\r\n            if (readData[i][2] >= 48) {\r\n              var dataAction = [];\r\n              for (let j = 0; j < 48; j++) {\r\n                dataAction.push(readData[i][4 + j]);\r\n              }\r\n              robotFormParameter.push(dataAction);\r\n            }\r\n          }\r\n        } //进入蓝牙编程模式\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xe7\r\n        ) {\r\n          if (\r\n            readData[i][2] == 0x03 &&\r\n            readData[i][4] == 0xe7 &&\r\n            readData[i][5] == 0xd1\r\n          ) {\r\n            isOffBT_ProgeamFlag = true;\r\n          }\r\n        } //退出蓝牙编程模式\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xed\r\n        ) {\r\n          if (\r\n            readData[i][2] == 0x03 &&\r\n            readData[i][4] == 0xed &&\r\n            readData[i][5] == 0xdd\r\n          ) {\r\n            isArtcularLockFlag = true;\r\n          }\r\n        } else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0x16\r\n        ) {\r\n          var dataInfo = readData[i].slice(4, readData[i].length - 1);\r\n          actionNames.push(iconv.decode(dataInfo, \"GB18030\"));\r\n        } //获取文件名\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][2] == 0x03 &&\r\n          readData[i][3] == 0xfa &&\r\n          readData[i][4] == 0xfc\r\n        ) {\r\n          isGetFileNamesFlag = true;\r\n        } //获取文件名结束\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xe1\r\n        ) {\r\n          if (readData[i][4] == 0x4f && readData[i][5] == 0x4b) {\r\n            isExistsFileNameFlag = 1; //存在\r\n          } else if (readData[i][4] == 0x4e && readData[i][5] == 0x4e) {\r\n            isExistsFileNameFlag = 0; //不存在\r\n          } else if (readData[i][4] == 0x45 && readData[i][5] == 0x45) {\r\n            isExistsFileNameFlag = 2; //错误\r\n          }\r\n        } //判断文件名是否存在\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0x17\r\n        ) {\r\n          progressValue = readData[i][4];\r\n        } //获取执行动作文件的进度\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xe9\r\n        ) {\r\n          var axisLen = readData[i][2] - 2;\r\n\r\n          for (let j = 0; j < axisLen; j++) {\r\n            GetRobotAxisLocationValues.push(readData[i][4 + j]);\r\n            isGetRobotAxisLocationFlag = true;\r\n          }\r\n        } //获取当前机器人舵机的位置\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xdc &&\r\n          readData[i][4] == 0x4f &&\r\n          readData[i][5] == 0x4b\r\n        ) {\r\n          var data = OP_SendPosData.shift();\r\n          this.SendDataFormat(data);\r\n        } //是否创建完成\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xe3 &&\r\n          readData[i][4] == 0x4f &&\r\n          readData[i][5] == 0x4b\r\n        ) {\r\n          if (OP_SendPosData.length > 0) {\r\n            var data = OP_SendPosData.shift();\r\n            this.SendDataFormat(data);\r\n          } else {\r\n            isUploadToRobotDataFlag = true;\r\n          }\r\n        } //下载到机器人\r\n      }\r\n    }\r\n  } //接收池\r\n  async SendDataMessage() {\r\n    //try {\r\n    if (isBlueLink == true) {\r\n      var dataLen = sendDataList.length;\r\n      for (let i = 0; i < dataLen; i++) {\r\n        let promise = new Promise((resolve, reject) => {\r\n          setTimeout(() => resolve(), 50);\r\n        });\r\n        await promise;\r\n        var data = sendDataList.shift();\r\n        await characteristic.writeValue(new Uint8Array(data));\r\n      }\r\n    }\r\n    //} catch (err) {\r\n    //  console.error(err);\r\n    // }\r\n  } //发送数据池\r\n\r\n  SendDataFormat(data) {\r\n    var sendData = [];\r\n    sendData.push(0xff);\r\n    sendData.push(0xff);\r\n    sendData.push(data.length + 1);\r\n    var sum = data.length + 1;\r\n    for (let i = 0; i < data.length; i++) {\r\n      sendData.push(data[i]);\r\n      sum += data[i];\r\n    }\r\n    sendData.push(sum % 256);\r\n    sendDataList.push(sendData);\r\n  } //发送数据处理\r\n\r\n  onDisconnected() {\r\n    //触发蓝牙主动断开\r\n    clearInterval(isReadTimer);\r\n    // serverBT.removeEventListener(\"gattserverdisconnected\", this.onDisconnected);\r\n    characteristic.removeEventListener(\r\n      \"characteristicvaluechanged\",\r\n      this.ReadDataMessage\r\n    );\r\n    sendDataList = [];\r\n    readDataList = [];\r\n    isBlueLink = null;\r\n    characteristic = null;\r\n    serverBT = null;\r\n    robotFormParameter = [];\r\n    console.log(\"机器人已经断开\");\r\n  } //蓝牙断开时的处理\r\n\r\n  async RobotBlueToothBreak() {\r\n    try {\r\n      const isBluetoothAvailable = await navigator.bluetooth.getAvailability();\r\n      if (isBluetoothAvailable) {\r\n        serverBT.disconnect();\r\n        clearInterval(isBTlinkTimer);\r\n        this.onDisconnected();\r\n        return {\r\n          BlueLink: InfoEnum.succeed,\r\n          Meg: \"断开成功！\",\r\n        };\r\n      }\r\n    } catch (err) {\r\n      return {\r\n        BlueLink: InfoEnum.isErr,\r\n        Meg: err,\r\n      };\r\n    }\r\n  } //蓝牙断开\r\n\r\n  async IntoBlueToothProgram() {\r\n    try {\r\n      if (isBlueLink) {\r\n        isBT_ProgeamFlag = false;\r\n        var timeoutId;\r\n        //发送指令\r\n        var data = [];\r\n        data.push(0xe6);\r\n        this.SendDataFormat(data);\r\n        const result = await Promise.race([\r\n          new Promise((resolve, reject) => {\r\n            const intervalid = setInterval(() => {\r\n              if (isBT_ProgeamFlag) {\r\n                clearInterval(intervalid);\r\n                clearTimeout(timeoutId);\r\n                resolve();\r\n              }\r\n            }, 100);\r\n            timeoutId = setTimeout(() => {\r\n              clearInterval(intervalid);\r\n              resolve();\r\n              // 设置超时时间为10秒\r\n            }, 10000);\r\n          }).then(() => {\r\n            if (isBT_ProgeamFlag) {\r\n              return {\r\n                BlueLink: InfoEnum.succeed,\r\n                Meg: \"请求成功\",\r\n                value: robotFormParameter,\r\n              };\r\n            } else {\r\n              return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n            }\r\n          }),\r\n        ]);\r\n        return result;\r\n      } else {\r\n        return { BlueLink: InfoEnum.ununited, Meg: \"蓝牙没有连接\" };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //进入蓝牙编程模式\r\n\r\n  async OffBlueToothProgram() {\r\n    try {\r\n      if (isBlueLink) {\r\n        isOffBT_ProgeamFlag = false;\r\n        var timeoutId;\r\n        var data = [];\r\n        data.push(0xe7);\r\n        this.SendDataFormat(data);\r\n        const result = await new Promise((resolve, reject) => {\r\n          const intervalid = setInterval(() => {\r\n            if (isOffBT_ProgeamFlag) {\r\n              clearInterval(intervalid);\r\n              clearTimeout(timeoutId);\r\n              resolve();\r\n            }\r\n          }, 100);\r\n          timeoutId = setTimeout(() => {\r\n            clearInterval(intervalid);\r\n            resolve();\r\n          }, 10000);\r\n        }).then(() => {\r\n          if (isOffBT_ProgeamFlag) {\r\n            return { BlueLink: InfoEnum.succeed, Meg: \"请求成功\" };\r\n          } else {\r\n            return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n          }\r\n        });\r\n        return result;\r\n      } else {\r\n        return { BlueLink: InfoEnum.ununited, Meg: \"蓝牙没有连接\" };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //退出蓝牙编程\r\n\r\n  async SetServoLock(lockList) {\r\n    try {\r\n      if (isBlueLink) {\r\n        isArtcularLockFlag = false;\r\n        var timeoutId;\r\n        var data = [];\r\n        data.push(0xed);\r\n        var len = lockList.length;\r\n        for (let i = 0; i < len; i++) {\r\n          data.push(lockList[i]);\r\n        }\r\n        this.SendDataFormat(data);\r\n        const result = await new Promise((resolve, reject) => {\r\n          const intervalid = setInterval(() => {\r\n            if (isArtcularLockFlag) {\r\n              clearInterval(intervalid);\r\n              clearTimeout(timeoutId);\r\n              resolve();\r\n            }\r\n          }, 100);\r\n          timeoutId = setTimeout(() => {\r\n            clearInterval(intervalid);\r\n            resolve();\r\n          }, 10000);\r\n        }).then(() => {\r\n          if (isArtcularLockFlag) {\r\n            return { BlueLink: InfoEnum.succeed, Meg: \"请求成功\" };\r\n          } else {\r\n            return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n          }\r\n        });\r\n        return result;\r\n      } else {\r\n        return { BlueLink: InfoEnum.ununited, Meg: \"蓝牙没有连接\" };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //设置舵机锁\r\n  async Achsebewegung(axisData) {\r\n    try {\r\n      if (isBlueLink) {\r\n        var data = [];\r\n        data.push(0xe8);\r\n        var len = axisData.length;\r\n        for (let i = 0; i < len; i++) {\r\n          data.push(axisData[i]);\r\n        }\r\n        this.SendDataFormat(data);\r\n      } else {\r\n        return { BlueLink: InfoEnum.ununited, Meg: \"蓝牙没有连接\" };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //设置轴时时运动\r\n\r\n  async GetFileNames() {\r\n    try {\r\n      if (isBlueLink) {\r\n        isGetFileNamesFlag = false;\r\n        actionNames = [];\r\n        var timeoutId;\r\n        var data = [];\r\n        data.push(0x16);\r\n        var dataName = Array.from(iconv.encode(\"Action\", \"GB18030\"));\r\n\r\n        for (let i = 0; i < dataName.length; i++) {\r\n          data.push(dataName[i]);\r\n        }\r\n        this.SendDataFormat(data);\r\n        const result = await new Promise((resolve, reject) => {\r\n          const intervalid = setInterval(() => {\r\n            if (isGetFileNamesFlag) {\r\n              clearInterval(intervalid);\r\n              clearTimeout(timeoutId);\r\n              resolve();\r\n            }\r\n          }, 100);\r\n          timeoutId = setTimeout(() => {\r\n            clearInterval(intervalid);\r\n            resolve();\r\n          }, 15000);\r\n        }).then(() => {\r\n          if (isGetFileNamesFlag) {\r\n            return {\r\n              BlueLink: InfoEnum.succeed,\r\n              Meg: \"请求成功\",\r\n              value: actionNames,\r\n            };\r\n          } else {\r\n            return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n          }\r\n        });\r\n        return result;\r\n      } else {\r\n        return { BlueLink: InfoEnum.ununited, Meg: \"蓝牙没有连接\" };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //获取文件名\r\n\r\n  async ExistsFileName(actionName) {\r\n    try {\r\n      if (isBlueLink) {\r\n        isExistsFileNameFlag = -1;\r\n        var timeoutId;\r\n        var data = [];\r\n        data.push(0xe1);\r\n        var nameByte = Array.from(\r\n          iconv.encode(\"Action/\" + actionName + \".sh\", \"GB18030\")\r\n        );\r\n        for (let i = 0; i < nameByte.length; i++) {\r\n          data.push(nameByte[i]);\r\n        }\r\n\r\n        this.SendDataFormat(data);\r\n        const result = await new Promise((resolve, reject) => {\r\n          const intervalid = setInterval(() => {\r\n            if (isExistsFileNameFlag > -1) {\r\n              clearInterval(intervalid);\r\n              clearTimeout(timeoutId);\r\n              resolve();\r\n            }\r\n          }, 100);\r\n          timeoutId = setTimeout(() => {\r\n            clearInterval(intervalid);\r\n            resolve();\r\n          }, 10000);\r\n        }).then(() => {\r\n          if (isExistsFileNameFlag > -1) {\r\n            return {\r\n              BlueLink: InfoEnum.succeed,\r\n              Meg: \"请求成功\",\r\n              value: isExistsFileNameFlag,\r\n            };\r\n          } else {\r\n            return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n          }\r\n        });\r\n        return result;\r\n      } else {\r\n        return {\r\n          BlueLink: InfoEnum.ununited,\r\n          Meg: \"未连接\",\r\n        };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //判断文件名是否存在\r\n\r\n  async ExecuteAction(actionName) {\r\n    try {\r\n      if (isBlueLink) {\r\n        progressValue = 0;\r\n        var nameByte = Array.from(\r\n          iconv.encode(\"Action/\" + actionName, \"GB18030\")\r\n        );\r\n        var data = [];\r\n        data.push(0x17);\r\n        for (let i = 0; i < nameByte.length; i++) {\r\n          data.push(nameByte[i]);\r\n        }\r\n        this.SendDataFormat(data);\r\n        return { BlueLink: InfoEnum.stateless, Meg: \"进入发送队列，无返回值\" };\r\n      } else {\r\n        return { BlueLink: InfoEnum.fail, Meg: err };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //执行动作\r\n\r\n  async GetProgressValue() {\r\n    if (isBlueLink) {\r\n      return {\r\n        BlueLink: InfoEnum.succeed,\r\n        Meg: \"请求成功\",\r\n        value: progressValue,\r\n      };\r\n    } else {\r\n      return {\r\n        BlueLink: InfoEnum.ununited,\r\n        Meg: \"未连接\",\r\n      };\r\n    }\r\n  } //获取进度状态\r\n\r\n  async GetRobotAxisLocation() {\r\n    try {\r\n      if (isBlueLink) {\r\n        isGetRobotAxisLocationFlag = false;\r\n        GetRobotAxisLocationValues = [];\r\n        var timeoutId;\r\n        var data = [];\r\n        data.push(0xe9);\r\n        this.SendDataFormat(data);\r\n        const result = await new Promise((resolve, reject) => {\r\n          const intervalid = setInterval(() => {\r\n            if (isGetRobotAxisLocationFlag) {\r\n              clearInterval(intervalid);\r\n              clearTimeout(timeoutId);\r\n              resolve();\r\n            }\r\n          }, 100);\r\n          timeoutId = setTimeout(() => {\r\n            clearInterval(intervalid);\r\n            resolve();\r\n          }, 10000);\r\n        }).then(() => {\r\n          if (isGetRobotAxisLocationFlag) {\r\n            return {\r\n              BlueLink: InfoEnum.succeed,\r\n              Meg: \"请求成功\",\r\n              value: GetRobotAxisLocationValues,\r\n            };\r\n          } else {\r\n            return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n          }\r\n        });\r\n        return result;\r\n      } else {\r\n        return {\r\n          BlueLink: InfoEnum.ununited,\r\n          Meg: \"未连接\",\r\n        };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //获取机器人当前位置\r\n\r\n  async UploadActionInRobot(actionName, actionFrames) {\r\n    try {\r\n      if (isBlueLink) {\r\n        //动作帧转数据\r\n        var len = actionFrames.length;\r\n        var Is_In_Loop = false;\r\n        var currentData = [];\r\n        OP_SendPosData = [];\r\n        isUploadToRobotDataFlag = false;\r\n        for (let i = 0; i < len; i++) {\r\n          var currentPos = [];\r\n          currentPos.push(0xe3);\r\n          if (!Is_In_Loop) {\r\n            currentPos[1] = 0;\r\n          }\r\n          if (\r\n            Is_In_Loop &&\r\n            !actionFrames[i].Is_Loop_Start &&\r\n            !actionFrames[i].Is_Loop_End\r\n          ) {\r\n            currentPos[1] = Loop_Time + 128;\r\n          }\r\n          if (actionFrames[i].Is_Loop_End) {\r\n            Is_In_Loop = false;\r\n            currentPos[1] = Loop_Time;\r\n            Loop_Time = 0;\r\n          }\r\n          if (actionFrames[i].Is_Loop_Start) {\r\n            Is_In_Loop = true;\r\n            Loop_Time = actionFrames[i].Loop_Time;\r\n            currentPos[1] = Loop_Time + 128;\r\n          }\r\n\r\n          var _int_temp1 = 0;\r\n          var _int_temp2 = 0;\r\n          var _int_temp3 = 0;\r\n          var _int_temp4 = 0;\r\n          var _int_temp5 = 0;\r\n          var _int_temp6 = 0;\r\n\r\n          for (let k = 0; k < 48; k++) {\r\n            if (k < 8) {\r\n              if (actionFrames[i].Pos[k] < 0) {\r\n                _int_temp1 += parseInt(Math.pow(2, 7 - k));\r\n                actionFrames[i].Pos[k] = actionFrames[i].Pos[k] * -1;\r\n              }\r\n            }\r\n\r\n            if (k >= 8 && k < 16) {\r\n              if (actionFrames[i].Pos[k] < 0) {\r\n                _int_temp2 += parseInt(Math.pow(2, 15 - k));\r\n                actionFrames[i].Pos[k] = actionFrames[i].Pos[k] * -1;\r\n              }\r\n            }\r\n\r\n            if (k >= 16 && k < 24) {\r\n              if (actionFrames[i].Pos[k] < 0) {\r\n                _int_temp3 += parseInt(Math.pow(2, 23 - k));\r\n                actionFrames[i].Pos[k] = actionFrames[i].Pos[k] * -1;\r\n              }\r\n            }\r\n\r\n            if (k >= 24 && k < 32) {\r\n              if (actionFrames[i].Pos[k] < 0) {\r\n                _int_temp4 += parseInt(Math.pow(2, 31 - k));\r\n                actionFrames[i].Pos[k] = actionFrames[i].Pos[k] * -1;\r\n              }\r\n            }\r\n\r\n            if (k >= 32 && k < 40) {\r\n              if (actionFrames[i].Pos[k] < 0) {\r\n                _int_temp5 += parseInt(Math.pow(2, 39 - k));\r\n                actionFrames[i].Pos[k] = actionFrames[i].Pos[k] * -1;\r\n              }\r\n            }\r\n\r\n            if (k >= 40 && k < 48) {\r\n              if (actionFrames[i].Pos[k] < 0) {\r\n                _int_temp5 += parseInt(Math.pow(2, 47 - k));\r\n                actionFrames[i].Pos[k] = actionFrames[i].Pos[k] * -1;\r\n              }\r\n            }\r\n          }\r\n\r\n          currentPos[2] = _int_temp1;\r\n          currentPos[3] = _int_temp2;\r\n          currentPos[4] = _int_temp3;\r\n          currentPos[5] = _int_temp4;\r\n          currentPos[6] = _int_temp5;\r\n          currentPos[7] = _int_temp6;\r\n          for (let k = 0; k < 48; k++) {\r\n            currentPos[k + 8] = actionFrames[i].Pos[k];\r\n          }\r\n          currentPos[56] = actionFrames[i].Speed;\r\n          currentPos[57] = actionFrames[i].Delay;\r\n\r\n          switch (actionFrames[i].Music_State) {\r\n            case 1:\r\n            case 2:\r\n              currentPos[58] = parseInt(actionFrames[i].Music_Number / 256);\r\n              currentPos[59] = parseInt(actionFrames[i].Music_Number % 256);\r\n              break;\r\n            case 3:\r\n              currentPos[58] = 252;\r\n              currentPos[59] = 252;\r\n              break;\r\n            case 4:\r\n              currentPos[58] = 251;\r\n              currentPos[59] = 251;\r\n              break;\r\n            case 5:\r\n              currentPos[58] = 250;\r\n              currentPos[59] = 250;\r\n              break;\r\n          }\r\n          currentData.push(currentPos);\r\n        }\r\n        OP_SendPosData = currentData;\r\n        var sendData = [];\r\n        sendData.push(0xdc);\r\n        actionName = \"Action/\" + actionName + \".sh\";\r\n        var nameByte = Array.from(iconv.encode(actionName, \"GB18030\"));\r\n        for (let i = 0; i < nameByte.length; i++) {\r\n          sendData.push(nameByte[i]);\r\n        }\r\n        this.SendDataFormat(sendData);\r\n        const result = await new Promise((resolve, reject) => {\r\n          const intervalid = setInterval(() => {\r\n            if (isUploadToRobotDataFlag) {\r\n              clearInterval(intervalid);\r\n              clearTimeout(timeoutId);\r\n              resolve();\r\n            }\r\n          }, 100);\r\n          timeoutId = setTimeout(() => {\r\n            clearInterval(intervalid);\r\n            resolve();\r\n          }, 30000);\r\n        }).then(() => {\r\n          if (isUploadToRobotDataFlag) {\r\n            return {\r\n              BlueLink: InfoEnum.succeed,\r\n              Meg: \"请求成功\",\r\n            };\r\n          } else {\r\n            return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n          }\r\n        });\r\n        return result;\r\n      } else {\r\n        return {\r\n          BlueLink: InfoEnum.ununited,\r\n          Meg: \"未连接\",\r\n        };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //上传动作到机器人\r\n}\r\n","//40擎天柱工厂\r\nimport RobotAbsFactory from \"/src/factory/RobotAbsFactory.js\";\r\nimport { InfoEnum } from \"/src/factory/InfoEnum.js\";\r\nimport iconv from \"iconv-lite\";\r\n\r\nvar serverBT = null;\r\nvar characteristic = null;\r\nvar isBlueLink = false; //是否连接\r\nvar isBT_ProgeamFlag = false; //是否进入蓝牙编译模式\r\nvar isOffBT_ProgeamFlag = false; //是否退出蓝牙编译模式\r\nvar isArtcularLockFlag = false; //是否是关节锁\r\nvar isGetFileNamesFlag = false; //是否读取文件\r\nvar isGetRobotAxisLocationFlag = false; //是否获取当前位置\r\nvar isUploadToRobotDataFlag = false; //是否向机器人上传数据\r\nvar isExistsFileNameFlag = -1;\r\nvar readDataList = []; //接收池\r\nvar sendDataList = []; //发送池\r\nvar isReadTimer = null; //发送数据的计时器\r\nvar isBTlinkTimer = null; //蓝牙断开处理计时器\r\nvar robotFormParameter = []; //机器人初始形态参数\r\nvar actionNames = []; //动作文件名库\r\nvar progressValue = 0; //进度值\r\nvar GetRobotAxisLocationValues = []; //机器人当前位置\r\nvar OP_SendPosData = [];\r\n\r\nexport default class OptimusPrime40Robot extends RobotAbsFactory {\r\n  async RobotBlueToothConntect(device) {\r\n    try {\r\n      serverBT = null;\r\n      serverBT = await device.gatt.connect();\r\n      await new Promise((resolve) => setTimeout(resolve, 1000));\r\n      characteristic = null;\r\n      isBlueLink = false;\r\n      sendDataList = [];\r\n      readDataList = [];\r\n      isReadTimer = null;\r\n      isBTlinkTimer = null;\r\n      robotFormParameter = [];\r\n      if (serverBT.connected) {\r\n        const services = await serverBT.getPrimaryServices(0xffe0);\r\n        characteristic = await services[0].getCharacteristic(0xffe1);\r\n        characteristic.startNotifications();\r\n        characteristic.addEventListener(\r\n          \"characteristicvaluechanged\",\r\n          this.ReadDataMessage\r\n        ); //蓝牙的接听事件,并且注册接收池\r\n        //蓝牙被动断开的事件处理\r\n        isBlueLink = true;\r\n        isReadTimer = setInterval(() => {\r\n          this.SendDataMessage();\r\n        }, 80); //发送计时器\r\n        isBTlinkTimer = setInterval(() => {\r\n          if (!device.gatt.connected) {\r\n            clearInterval(isBTlinkTimer);\r\n            // 蓝牙设备连接已断开，进行相应处理\r\n            this.onDisconnected();\r\n          }\r\n        }, 1000);\r\n\r\n        return {\r\n          BlueLink: InfoEnum.succeed,\r\n          Meg: \"连接成功！\",\r\n          instance: this,\r\n          modelNumber: \"OP\", //40擎天柱\r\n        };\r\n      } else {\r\n        return {\r\n          BlueLink: InfoEnum.fail,\r\n          Meg: \"链接失败\",\r\n        };\r\n      }\r\n    } catch (err) {\r\n      isBlueLink = false;\r\n      return { BlueLink: InfoEnum.isErr, Meg: err };\r\n    }\r\n  } //连接蓝牙\r\n\r\n  async ReadDataMessage(data) {\r\n    const dataArr = new Uint8Array(data.target.value.buffer);\r\n    var len = dataArr.length;\r\n    for (let i = 0; i < len; i++) {\r\n      readDataList.push(dataArr[i]);\r\n    }\r\n    len = readDataList.length;\r\n    var readData = [];\r\n    for (let i = 0; i < len; i++) {\r\n      if (readDataList[i] == 0xff && readDataList[i + 1] == 0xff) {\r\n        var readLen = readDataList[i + 2];\r\n        if (i + 3 + readLen <= len) {\r\n          var sum = readLen;\r\n          for (let j = 0; j < readLen - 1; j++) {\r\n            sum += readDataList[i + 3 + j];\r\n          }\r\n          sum = sum % 256;\r\n          if (sum == readDataList[i + 2 + readLen]) {\r\n            var flag = 2 + readLen + 1;\r\n            var dataFlag = [];\r\n            for (let j = 0; j < flag; j++) {\r\n              dataFlag.push(readDataList[i + j]);\r\n            }\r\n            i = i + 2 + readLen;\r\n            readData.push(dataFlag);\r\n          }\r\n        } else {\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    if (readData.length > 0) {\r\n      //移除\r\n      for (let i = 0; i < readData.length; i++) {\r\n        for (let j = 0; j < readData[i].length; j++) {\r\n          readDataList.shift();\r\n        }\r\n      }\r\n      //数据处理\r\n      for (let i = 0; i < readData.length; i++) {\r\n        console.log(readData[i]);\r\n        if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xe6\r\n        ) {\r\n          //进入蓝牙编程模式\r\n          if (\r\n            readData[i][2] == 0x03 &&\r\n            readData[i][4] == 0xe6 &&\r\n            readData[i][5] == 0xcf\r\n          ) {\r\n            //表示结束\r\n            isBT_ProgeamFlag = true;\r\n          } else {\r\n            if (readData[i][2] >= 48) {\r\n              var dataAction = [];\r\n              for (let j = 0; j < 48; j++) {\r\n                dataAction.push(readData[i][4 + j]);\r\n              }\r\n              robotFormParameter.push(dataAction);\r\n            }\r\n          }\r\n        } //进入蓝牙编程模式\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xe7\r\n        ) {\r\n          if (\r\n            readData[i][2] == 0x03 &&\r\n            readData[i][4] == 0xe7 &&\r\n            readData[i][5] == 0xd1\r\n          ) {\r\n            isOffBT_ProgeamFlag = true;\r\n          }\r\n        } //退出蓝牙编程模式\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xed\r\n        ) {\r\n          if (\r\n            readData[i][2] == 0x03 &&\r\n            readData[i][4] == 0xed &&\r\n            readData[i][5] == 0xdd\r\n          ) {\r\n            isArtcularLockFlag = true;\r\n          }\r\n        } else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0x16\r\n        ) {\r\n          var dataInfo = readData[i].slice(4, readData[i].length - 1);\r\n          actionNames.push(iconv.decode(dataInfo, \"GB18030\"));\r\n        } //获取文件名\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][2] == 0x03 &&\r\n          readData[i][3] == 0xfa &&\r\n          readData[i][4] == 0xfc\r\n        ) {\r\n          isGetFileNamesFlag = true;\r\n        } //获取文件名结束\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xe1\r\n        ) {\r\n          if (readData[i][4] == 0x4f && readData[i][5] == 0x4b) {\r\n            isExistsFileNameFlag = 1; //存在\r\n          } else if (readData[i][4] == 0x4e && readData[i][5] == 0x4e) {\r\n            isExistsFileNameFlag = 0; //不存在\r\n          } else if (readData[i][4] == 0x45 && readData[i][5] == 0x45) {\r\n            isExistsFileNameFlag = 2; //错误\r\n          }\r\n        } //判断文件名是否存在\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0x17\r\n        ) {\r\n          progressValue = readData[i][4];\r\n        } //获取执行动作文件的进度\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xe9\r\n        ) {\r\n          var axisLen = readData[i][2] - 2;\r\n\r\n          for (let j = 0; j < axisLen; j++) {\r\n            GetRobotAxisLocationValues.push(readData[i][4 + j]);\r\n            isGetRobotAxisLocationFlag = true;\r\n          }\r\n        } //获取当前机器人舵机的位置\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xdc &&\r\n          readData[i][4] == 0x4f &&\r\n          readData[i][5] == 0x4b\r\n        ) {\r\n          var data = OP_SendPosData.shift();\r\n\r\n          //this.SendDataFormat(data);\r\n          var sendData = [];\r\n          sendData.push(0xff);\r\n          sendData.push(0xff);\r\n          sendData.push(data.length + 1);\r\n          var sum = data.length + 1;\r\n          for (let i = 0; i < data.length; i++) {\r\n            sendData.push(data[i]);\r\n            sum += data[i];\r\n          }\r\n          sendData.push(sum % 256);\r\n          sendDataList.push(sendData);\r\n        } //是否创建完成\r\n        else if (\r\n          readData[i][0] == 0xff &&\r\n          readData[i][1] == 0xff &&\r\n          readData[i][3] == 0xe3 &&\r\n          readData[i][4] == 0x4f &&\r\n          readData[i][5] == 0x4b\r\n        ) {\r\n          if (OP_SendPosData.length > 0) {\r\n            var data = OP_SendPosData.shift();\r\n            //this.SendDataFormat(data);\r\n            var sendData = [];\r\n            sendData.push(0xff);\r\n            sendData.push(0xff);\r\n            sendData.push(data.length + 1);\r\n            var sum = data.length + 1;\r\n            for (let i = 0; i < data.length; i++) {\r\n              sendData.push(data[i]);\r\n              sum += data[i];\r\n            }\r\n            sendData.push(sum % 256);\r\n            sendDataList.push(sendData);\r\n          } else {\r\n            isUploadToRobotDataFlag = true;\r\n          }\r\n        } //下载到机器人\r\n      }\r\n    }\r\n  } //接收池\r\n  async SendDataMessage() {\r\n    //try {\r\n    if (isBlueLink == true) {\r\n      var dataLen = sendDataList.length;\r\n      for (let i = 0; i < dataLen; i++) {\r\n        let promise = new Promise((resolve, reject) => {\r\n          setTimeout(() => resolve(), 50);\r\n        });\r\n        await promise;\r\n        var data = sendDataList.shift();\r\n        await characteristic.writeValue(new Uint8Array(data));\r\n      }\r\n    }\r\n    //} catch (err) {\r\n    //  console.error(err);\r\n    // }\r\n  } //发送数据池\r\n\r\n  async SendDataFormat(data) {\r\n    var sendData = [];\r\n    sendData.push(0xff);\r\n    sendData.push(0xff);\r\n    sendData.push(data.length + 1);\r\n    var sum = data.length + 1;\r\n    for (let i = 0; i < data.length; i++) {\r\n      sendData.push(data[i]);\r\n      sum += data[i];\r\n    }\r\n    sendData.push(sum % 256);\r\n    sendDataList.push(sendData);\r\n  } //发送数据处理\r\n\r\n  onDisconnected() {\r\n    //触发蓝牙主动断开\r\n    clearInterval(isReadTimer);\r\n    // serverBT.removeEventListener(\"gattserverdisconnected\", this.onDisconnected);\r\n    characteristic.removeEventListener(\r\n      \"characteristicvaluechanged\",\r\n      this.ReadDataMessage\r\n    );\r\n    sendDataList = [];\r\n    readDataList = [];\r\n    isBlueLink = null;\r\n    characteristic = null;\r\n    serverBT = null;\r\n    robotFormParameter = [];\r\n    console.log(\"机器人已经断开\");\r\n  } //蓝牙断开时的处理\r\n\r\n  async RobotBlueToothBreak() {\r\n    try {\r\n      const isBluetoothAvailable = await navigator.bluetooth.getAvailability();\r\n      if (isBluetoothAvailable) {\r\n        serverBT.disconnect();\r\n        clearInterval(isBTlinkTimer);\r\n        this.onDisconnected();\r\n        return {\r\n          BlueLink: InfoEnum.succeed,\r\n          Meg: \"断开成功！\",\r\n        };\r\n      }\r\n    } catch (err) {\r\n      return {\r\n        BlueLink: InfoEnum.isErr,\r\n        Meg: err,\r\n      };\r\n    }\r\n  } //蓝牙断开\r\n\r\n  async IntoBlueToothProgram() {\r\n    try {\r\n      if (isBlueLink) {\r\n        isBT_ProgeamFlag = false;\r\n        var timeoutId;\r\n        //发送指令\r\n        var data = [];\r\n        data.push(0xe6);\r\n        this.SendDataFormat(data);\r\n        const result = await Promise.race([\r\n          new Promise((resolve, reject) => {\r\n            const intervalid = setInterval(() => {\r\n              if (isBT_ProgeamFlag) {\r\n                clearInterval(intervalid);\r\n                clearTimeout(timeoutId);\r\n                resolve();\r\n              }\r\n            }, 100);\r\n            timeoutId = setTimeout(() => {\r\n              clearInterval(intervalid);\r\n              resolve();\r\n              // 设置超时时间为10秒\r\n            }, 10000);\r\n          }).then(() => {\r\n            if (isBT_ProgeamFlag) {\r\n              return {\r\n                BlueLink: InfoEnum.succeed,\r\n                Meg: \"请求成功\",\r\n                value: robotFormParameter,\r\n              };\r\n            } else {\r\n              return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n            }\r\n          }),\r\n        ]);\r\n        return result;\r\n      } else {\r\n        return { BlueLink: InfoEnum.ununited, Meg: \"蓝牙没有连接\" };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //进入蓝牙编程模式\r\n\r\n  async OffBlueToothProgram() {\r\n    try {\r\n      if (isBlueLink) {\r\n        isOffBT_ProgeamFlag = false;\r\n        var timeoutId;\r\n        var data = [];\r\n        data.push(0xe7);\r\n        this.SendDataFormat(data);\r\n        const result = await new Promise((resolve, reject) => {\r\n          const intervalid = setInterval(() => {\r\n            if (isOffBT_ProgeamFlag) {\r\n              clearInterval(intervalid);\r\n              clearTimeout(timeoutId);\r\n              resolve();\r\n            }\r\n          }, 100);\r\n          timeoutId = setTimeout(() => {\r\n            clearInterval(intervalid);\r\n            resolve();\r\n          }, 10000);\r\n        }).then(() => {\r\n          if (isOffBT_ProgeamFlag) {\r\n            return { BlueLink: InfoEnum.succeed, Meg: \"请求成功\" };\r\n          } else {\r\n            return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n          }\r\n        });\r\n        return result;\r\n      } else {\r\n        return { BlueLink: InfoEnum.ununited, Meg: \"蓝牙没有连接\" };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //退出蓝牙编程\r\n\r\n  async SetServoLock(lockList) {\r\n    try {\r\n      if (isBlueLink) {\r\n        isArtcularLockFlag = false;\r\n        var timeoutId;\r\n        var data = [];\r\n        data.push(0xed);\r\n        var len = lockList.length;\r\n        for (let i = 0; i < len; i++) {\r\n          data.push(lockList[i]);\r\n        }\r\n        this.SendDataFormat(data);\r\n        const result = await new Promise((resolve, reject) => {\r\n          const intervalid = setInterval(() => {\r\n            if (isArtcularLockFlag) {\r\n              clearInterval(intervalid);\r\n              clearTimeout(timeoutId);\r\n              resolve();\r\n            }\r\n          }, 100);\r\n          timeoutId = setTimeout(() => {\r\n            clearInterval(intervalid);\r\n            resolve();\r\n          }, 10000);\r\n        }).then(() => {\r\n          if (isArtcularLockFlag) {\r\n            return { BlueLink: InfoEnum.succeed, Meg: \"请求成功\" };\r\n          } else {\r\n            return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n          }\r\n        });\r\n        return result;\r\n      } else {\r\n        return { BlueLink: InfoEnum.ununited, Meg: \"蓝牙没有连接\" };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //设置舵机锁\r\n  async Achsebewegung(axisData) {\r\n    try {\r\n      if (isBlueLink) {\r\n        var data = [];\r\n        data.push(0xe8);\r\n        var len = axisData.length;\r\n        for (let i = 0; i < len; i++) {\r\n          data.push(axisData[i]);\r\n        }\r\n        this.SendDataFormat(data);\r\n      } else {\r\n        return { BlueLink: InfoEnum.ununited, Meg: \"蓝牙没有连接\" };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //设置轴时时运动\r\n\r\n  async GetFileNames() {\r\n    try {\r\n      if (isBlueLink) {\r\n        isGetFileNamesFlag = false;\r\n        actionNames = [];\r\n        var timeoutId;\r\n        var data = [];\r\n        data.push(0x16);\r\n        var dataName = Array.from(iconv.encode(\"Action\", \"GB18030\"));\r\n\r\n        for (let i = 0; i < dataName.length; i++) {\r\n          data.push(dataName[i]);\r\n        }\r\n        this.SendDataFormat(data);\r\n        const result = await new Promise((resolve, reject) => {\r\n          const intervalid = setInterval(() => {\r\n            if (isGetFileNamesFlag) {\r\n              clearInterval(intervalid);\r\n              clearTimeout(timeoutId);\r\n              resolve();\r\n            }\r\n          }, 100);\r\n          timeoutId = setTimeout(() => {\r\n            clearInterval(intervalid);\r\n            resolve();\r\n          }, 15000);\r\n        }).then(() => {\r\n          if (isGetFileNamesFlag) {\r\n            return {\r\n              BlueLink: InfoEnum.succeed,\r\n              Meg: \"请求成功\",\r\n              value: actionNames,\r\n            };\r\n          } else {\r\n            return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n          }\r\n        });\r\n        return result;\r\n      } else {\r\n        return { BlueLink: InfoEnum.ununited, Meg: \"蓝牙没有连接\" };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //获取文件名\r\n\r\n  async ExistsFileName(actionName) {\r\n    try {\r\n      if (isBlueLink) {\r\n        isExistsFileNameFlag = -1;\r\n        var timeoutId;\r\n        var data = [];\r\n        data.push(0xe1);\r\n        var nameByte = Array.from(\r\n          iconv.encode(\"Action/\" + actionName + \".sh\", \"GB18030\")\r\n        );\r\n        for (let i = 0; i < nameByte.length; i++) {\r\n          data.push(nameByte[i]);\r\n        }\r\n\r\n        this.SendDataFormat(data);\r\n        const result = await new Promise((resolve, reject) => {\r\n          const intervalid = setInterval(() => {\r\n            if (isExistsFileNameFlag > -1) {\r\n              clearInterval(intervalid);\r\n              clearTimeout(timeoutId);\r\n              resolve();\r\n            }\r\n          }, 100);\r\n          timeoutId = setTimeout(() => {\r\n            clearInterval(intervalid);\r\n            resolve();\r\n          }, 10000);\r\n        }).then(() => {\r\n          if (isExistsFileNameFlag > -1) {\r\n            return {\r\n              BlueLink: InfoEnum.succeed,\r\n              Meg: \"请求成功\",\r\n              value: isExistsFileNameFlag,\r\n            };\r\n          } else {\r\n            return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n          }\r\n        });\r\n        return result;\r\n      } else {\r\n        return {\r\n          BlueLink: InfoEnum.ununited,\r\n          Meg: \"未连接\",\r\n        };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //判断文件名是否存在\r\n\r\n  async ExecuteAction(actionName) {\r\n    try {\r\n      if (isBlueLink) {\r\n        progressValue = 0;\r\n        var nameByte = Array.from(\r\n          iconv.encode(\"Action/\" + actionName, \"GB18030\")\r\n        );\r\n        var data = [];\r\n        data.push(0x17);\r\n        for (let i = 0; i < nameByte.length; i++) {\r\n          data.push(nameByte[i]);\r\n        }\r\n        this.SendDataFormat(data);\r\n        return { BlueLink: InfoEnum.stateless, Meg: \"进入发送队列，无返回值\" };\r\n      } else {\r\n        return { BlueLink: InfoEnum.fail, Meg: err };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //执行动作\r\n\r\n  async GetProgressValue() {\r\n    if (isBlueLink) {\r\n      return {\r\n        BlueLink: InfoEnum.succeed,\r\n        Meg: \"请求成功\",\r\n        value: progressValue,\r\n      };\r\n    } else {\r\n      return {\r\n        BlueLink: InfoEnum.ununited,\r\n        Meg: \"未连接\",\r\n      };\r\n    }\r\n  } //获取进度状态\r\n\r\n  async GetRobotAxisLocation() {\r\n    try {\r\n      if (isBlueLink) {\r\n        isGetRobotAxisLocationFlag = false;\r\n        GetRobotAxisLocationValues = [];\r\n        var timeoutId;\r\n        var data = [];\r\n        data.push(0xe9);\r\n        this.SendDataFormat(data);\r\n        const result = await new Promise((resolve, reject) => {\r\n          const intervalid = setInterval(() => {\r\n            if (isGetRobotAxisLocationFlag) {\r\n              clearInterval(intervalid);\r\n              clearTimeout(timeoutId);\r\n              resolve();\r\n            }\r\n          }, 100);\r\n          timeoutId = setTimeout(() => {\r\n            clearInterval(intervalid);\r\n            resolve();\r\n          }, 10000);\r\n        }).then(() => {\r\n          if (isGetRobotAxisLocationFlag) {\r\n            return {\r\n              BlueLink: InfoEnum.succeed,\r\n              Meg: \"请求成功\",\r\n              value: GetRobotAxisLocationValues,\r\n            };\r\n          } else {\r\n            return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n          }\r\n        });\r\n        return result;\r\n      } else {\r\n        return {\r\n          BlueLink: InfoEnum.ununited,\r\n          Meg: \"未连接\",\r\n        };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //获取机器人当前位置\r\n\r\n  async UploadActionInRobot(actionName, actionFrames) {\r\n    try {\r\n      if (isBlueLink) {\r\n        var timeoutId;\r\n        //动作帧转数据\r\n        var len = actionFrames.length;\r\n        var Loop_Time = -1;\r\n        var Is_In_Loop = false;\r\n        var currentData = [];\r\n        OP_SendPosData = [];\r\n        isUploadToRobotDataFlag = false;\r\n        for (let i = 0; i < len; i++) {\r\n          var currentPos = [];\r\n          currentPos.push(0xe3);\r\n          if (!Is_In_Loop) {\r\n            currentPos[1] = 0;\r\n          }\r\n          if (\r\n            Is_In_Loop &&\r\n            !actionFrames[i].Is_Loop_Start &&\r\n            !actionFrames[i].Is_Loop_End\r\n          ) {\r\n            currentPos[1] = Loop_Time + 128;\r\n          }\r\n          if (actionFrames[i].Is_Loop_End) {\r\n            Is_In_Loop = false;\r\n            currentPos[1] = Loop_Time;\r\n            Loop_Time = 0;\r\n          }\r\n          if (actionFrames[i].Is_Loop_Start) {\r\n            Is_In_Loop = true;\r\n            Loop_Time = actionFrames[i].Loop_Time;\r\n            currentPos[1] = Loop_Time + 128;\r\n          }\r\n\r\n          var _int_temp1 = 0;\r\n          var _int_temp2 = 0;\r\n          var _int_temp3 = 0;\r\n          var _int_temp4 = 0;\r\n          var _int_temp5 = 0;\r\n          var _int_temp6 = 0;\r\n\r\n          for (let k = 0; k < 48; k++) {\r\n            if (k < 8) {\r\n              if (actionFrames[i].Pos[k] < 0) {\r\n                _int_temp1 += parseInt(Math.pow(2, 7 - k));\r\n                actionFrames[i].Pos[k] = actionFrames[i].Pos[k] * -1;\r\n              }\r\n            }\r\n\r\n            if (k >= 8 && k < 16) {\r\n              if (actionFrames[i].Pos[k] < 0) {\r\n                _int_temp2 += parseInt(Math.pow(2, 15 - k));\r\n                actionFrames[i].Pos[k] = actionFrames[i].Pos[k] * -1;\r\n              }\r\n            }\r\n\r\n            if (k >= 16 && k < 24) {\r\n              if (actionFrames[i].Pos[k] < 0) {\r\n                _int_temp3 += parseInt(Math.pow(2, 23 - k));\r\n                actionFrames[i].Pos[k] = actionFrames[i].Pos[k] * -1;\r\n              }\r\n            }\r\n\r\n            if (k >= 24 && k < 32) {\r\n              if (actionFrames[i].Pos[k] < 0) {\r\n                _int_temp4 += parseInt(Math.pow(2, 31 - k));\r\n                actionFrames[i].Pos[k] = actionFrames[i].Pos[k] * -1;\r\n              }\r\n            }\r\n\r\n            if (k >= 32 && k < 40) {\r\n              if (actionFrames[i].Pos[k] < 0) {\r\n                _int_temp5 += parseInt(Math.pow(2, 39 - k));\r\n                actionFrames[i].Pos[k] = actionFrames[i].Pos[k] * -1;\r\n              }\r\n            }\r\n\r\n            if (k >= 40 && k < 48) {\r\n              if (actionFrames[i].Pos[k] < 0) {\r\n                _int_temp5 += parseInt(Math.pow(2, 47 - k));\r\n                actionFrames[i].Pos[k] = actionFrames[i].Pos[k] * -1;\r\n              }\r\n            }\r\n          }\r\n\r\n          currentPos[2] = _int_temp1;\r\n          currentPos[3] = _int_temp2;\r\n          currentPos[4] = _int_temp3;\r\n          currentPos[5] = _int_temp4;\r\n          currentPos[6] = _int_temp5;\r\n          currentPos[7] = _int_temp6;\r\n          for (let k = 0; k < 48; k++) {\r\n            currentPos[k + 8] = actionFrames[i].Pos[k];\r\n          }\r\n          currentPos[56] = actionFrames[i].Speed;\r\n          currentPos[57] = actionFrames[i].Delay;\r\n\r\n          switch (actionFrames[i].Music_State) {\r\n            case 1:\r\n            case 2:\r\n              currentPos[58] = parseInt(actionFrames[i].Music_Number / 256);\r\n              currentPos[59] = parseInt(actionFrames[i].Music_Number % 256);\r\n              break;\r\n            case 3:\r\n              currentPos[58] = 252;\r\n              currentPos[59] = 252;\r\n              break;\r\n            case 4:\r\n              currentPos[58] = 251;\r\n              currentPos[59] = 251;\r\n              break;\r\n            case 5:\r\n              currentPos[58] = 250;\r\n              currentPos[59] = 250;\r\n              break;\r\n          }\r\n          currentData.push(currentPos);\r\n        }\r\n        OP_SendPosData = currentData;\r\n        var sendData = [];\r\n        sendData.push(0xdc);\r\n        actionName = \"Action/\" + actionName + \".sh\";\r\n        var nameByte = Array.from(iconv.encode(actionName, \"GB18030\"));\r\n        for (let i = 0; i < nameByte.length; i++) {\r\n          sendData.push(nameByte[i]);\r\n        }\r\n        this.SendDataFormat(sendData);\r\n        const result = await new Promise((resolve, reject) => {\r\n          const intervalid = setInterval(() => {\r\n            if (isUploadToRobotDataFlag) {\r\n              clearInterval(intervalid);\r\n              clearTimeout(timeoutId);\r\n              resolve();\r\n            }\r\n          }, 100);\r\n          timeoutId = setTimeout(() => {\r\n            clearInterval(intervalid);\r\n            resolve();\r\n          }, 30000);\r\n        }).then(() => {\r\n          if (isUploadToRobotDataFlag) {\r\n            return {\r\n              BlueLink: InfoEnum.succeed,\r\n              Meg: \"请求成功\",\r\n            };\r\n          } else {\r\n            return { BlueLink: InfoEnum.timeout, Meg: \"请求超时\" };\r\n          }\r\n        });\r\n        return result;\r\n      } else {\r\n        return {\r\n          BlueLink: InfoEnum.ununited,\r\n          Meg: \"未连接\",\r\n        };\r\n      }\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.fail, Meg: err };\r\n    }\r\n  } //上传动作到机器人\r\n}\r\n","//机器人选择实现层\r\nimport SelectRobotFactory from \"/src/factory/SelectRobotFactory.js\";\r\nimport OptimusPrime30Robot from \"/src/factory/OptimusPrime30Robot.js\";\r\nimport OptimusPrime40Robot from \"/src/factory/OptimusPrime40Robot.js\";\r\nimport { InfoEnum } from \"/src/factory/InfoEnum.js\";\r\n\r\nvar curverRobot = null;\r\nexport default class SelectRobotElect extends SelectRobotFactory {\r\n  async BlueToothDispose() {\r\n    try {\r\n      const options = {\r\n        // acceptAllDevices: true,\r\n        filters: [\r\n          {\r\n            namePrefix: \"K1\", //k1机器人\r\n          },\r\n          {\r\n            namePrefix: \"OP\", //40擎天柱\r\n          },\r\n          {\r\n            namePrefix: \"GSEG\", //刚锁\r\n          },\r\n          {\r\n            namePrefix: \"CTGEN\", //30擎天柱\r\n          },\r\n        ],\r\n        optionalServices: [0xffe0],\r\n      };\r\n      var ret = null;\r\n      await navigator.bluetooth.requestDevice(options).then(async (dev) => {\r\n        // server = await this.device.gatt.connect();\r\n        // await new Promise((resolve) => setTimeout(resolve, 1000));\r\n\r\n        if (dev.name.startsWith(\"OP\")) {\r\n          //40擎天柱\r\n\r\n          curverRobot = this.GetFactory(0);\r\n        } else if (dev.name.startsWith(\"CTGEN\")) {\r\n          //30擎天柱\r\n          curverRobot = this.GetFactory(1);\r\n        } else {\r\n          curverRobot = null;\r\n        }\r\n        if (curverRobot != null) {\r\n          ret = await curverRobot.RobotBlueToothConntect(dev);\r\n          //console.log(ret);\r\n        } else {\r\n          ret = { BlueLink: InfoEnum.fail, Meg: \"无该型号机器人\" }; //先测试，这里需要一个返回枚举集合吧表\r\n        }\r\n      });\r\n      return ret;\r\n    } catch (err) {\r\n      return { BlueLink: InfoEnum.isErr, Meg: err };\r\n    }\r\n  } //蓝牙处理\r\n\r\n  GetFactory(number) {\r\n    var functionObj = null;\r\n    switch (number) {\r\n      case 0: //40擎天柱\r\n        functionObj = new OptimusPrime40Robot();\r\n        break;\r\n      case 1: //30擎天柱\r\n        functionObj = new OptimusPrime30Robot();\r\n        break;\r\n      default:\r\n        functionObj = null;\r\n        break;\r\n    }\r\n    return functionObj;\r\n  } //用于实现具体工厂\r\n}\r\n","export default class OP_ActionFrame {\r\n  constructor({\r\n    Pos, //动作数据集\r\n    Speed, //速度\r\n    Delay, //延迟\r\n    Loop_Time, //循环次数\r\n    Is_Loop_Start, //是否是循环的开始\r\n    Is_Loop_End, //是否是循环的结束\r\n    Music_State, //1代表指导音乐，2代表自定义音乐，3代表继续，4代表停止，5循环播放\r\n    //1和2是播放音乐走的同一个指令\r\n    Music_Number, //音乐的文件夹以及选择的那个音乐 那个文件夹是这个数/256 那个文件是这个数%256\r\n  }) {\r\n    (this.Pos = Pos),\r\n      (this.Speed = Speed),\r\n      (this.Delay = Delay),\r\n      (this.Loop_Time = Loop_Time),\r\n      (this.Is_Loop_Start = Is_Loop_Start),\r\n      (this.Is_Loop_End = Is_Loop_End),\r\n      (this.Music_State = Music_State),\r\n      (this.Music_Number = Music_Number);\r\n  }\r\n}\r\n\r\nexport function CreateOP_ActionFrame(posDataInit) {\r\n  return new OP_ActionFrame({\r\n    Pos: posDataInit.Pos,\r\n    Speed: posDataInit.Speed,\r\n    Delay: posDataInit.Delay,\r\n    Loop_Time: posDataInit.Loop_Time,\r\n    Is_Loop_Start: posDataInit.Is_Loop_Start,\r\n    Is_Loop_End: posDataInit.Is_Loop_End,\r\n    Music_State: posDataInit.Music_State,\r\n    Music_Number: posDataInit.Music_Number,\r\n  });\r\n}\r\n","import { render } from \"./TestFactory.vue?vue&type=template&id=35130615\"\nimport script from \"./TestFactory.vue?vue&type=script&lang=js\"\nexport * from \"./TestFactory.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import Vue from \"vue\";\r\nimport { createRouter, createWebHashHistory } from \"vue-router\";\r\n\r\nimport HomePage from \"@/components/Home.vue\";\r\nimport Convoy_Seven from \"@/components/Convoy_Seven.vue\";\r\nimport Bumblebee from \"@/components/Bumblebee.vue\";\r\nimport SteelCable from \"@/components/SteelCable.vue\";\r\nimport Bluetooth from \"@/components/Bluetooth.vue\";\r\nimport BluetoothBumblebee from \"@/components/BluetoothBumblebee.vue\";\r\nimport BluetoothSteelCable from \"@/components/BluetoothSteelCable.vue\";\r\nimport BluetoothBazz from \"@/components/BluetoothBazz.vue\";\r\nimport TestFactory from \"@/components/TestFactory.vue\";\r\nconst router = createRouter({\r\n  mode: \"hash\",\r\n  history: createWebHashHistory(),\r\n  routes: [\r\n    {\r\n      path: \"/\",\r\n      name: \"HomePage\",\r\n      component: HomePage,\r\n    },\r\n    {\r\n      path: \"/Convoy_Seven\",\r\n      name: \"Convoy_Seven\",\r\n      component: Convoy_Seven,\r\n    },\r\n    {\r\n      path: \"/Bumblebee\",\r\n      name: \"Bumblebee\",\r\n      component: Bumblebee,\r\n    },\r\n    {\r\n      path: \"/SteelCable\",\r\n      name: \"SteelCable\",\r\n      component: SteelCable,\r\n    },\r\n    {\r\n      path: \"/Bluetooth\",\r\n      name: \"Bluetooth\",\r\n      component: Bluetooth,\r\n    },\r\n    {\r\n      path: \"/BluetoothBumblebee\",\r\n      name: \"BluetoothBumblebee\",\r\n      component: BluetoothBumblebee,\r\n    },\r\n    {\r\n      path: \"/BluetoothSteelCable\",\r\n      name: \"BluetoothSteelCable\",\r\n      component: BluetoothSteelCable,\r\n    },\r\n    {\r\n      path: \"/BluetoothBazz\",\r\n      name: \"BluetoothBazz\",\r\n      component: BluetoothBazz,\r\n    },\r\n    {\r\n      path: \"/TestFactory\",\r\n      name: \"TestFactory\",\r\n      component: TestFactory,\r\n    },\r\n  ],\r\n});\r\n\r\nexport default router;\r\n","<template>\n     <!-- <h3>机器人通讯方式以及数据结构</h3>\n  <button style=\"margin-left:30px\">变七</button>  \n  <button style=\"margin-left:30px\" v-on:click=\"GO_Convoy_Seven()\"> 大黄蜂</button>\n  <router-link to=\"/Convoy_Seven\">Go to About</router-link>\n  <div style=\"background-color: aqua;width: 100px; height: 100px;\" id=\"app\">\n    <router-view style=\"width 100px; height: 100px;\"/>\n  </div> -->\n  \n   <div id=\"app\">\n    <router-view/>\n  </div>\n \n</template>\n<!-- <script>\n  export default{\n    data(){\n\n      return{\n        msg:\"aaa\",\n         ports:[]\n      }\n    },\n    methods:{\n      async requestSerialPort(){\n        try{\n          //\n            const port = await navigator.serial.requestPort();\n            console.log(port);\n    \n        }\n        catch(err)\n        {\n           console.error(err);\n        }\n  \n      },\n      async getSerialPorts(){\n        try{\n  \n          this.ports = await navigator.serial.getPorts();\n          console.log(this.ports);\n       \n        }\n        catch(err){console.error(err);}\n      },\n      GO_Convoy_Seven(){\n         console.log(1);\n        this.$router.replace('/Convoy_Seven');\n      }\n    },\n    mounted(){\n      //this.requestSerialPort();\n      //this.getSerialPorts();\n    }\n    \n  }\n  </script> --> -->","import { render } from \"./App.vue?vue&type=template&id=799f8ffc\"\nconst script = {}\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport router from './router.js'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\n//  import{open,getPorts} from \"serialport\";\nimport App from './App.vue'\n\nconst app =  createApp(App)\napp.use(router)\napp.use(ElementPlus)\napp.mount('#app')\n\n\n\n\n//需要Web Serial API  调用串口\n\n// // 使用 open 函数打开串口连接\n// open({ path: \"COM1\", baudRate: 9600 })\n//   .then((port) => {\n//     console.log(\"串口连接已打开\");\n//     // 在这里进行串口通信操作\n//   })\n//   .catch((error) => {\n//     console.error(\"无法打开串口连接:\", error);\n//   });\n\n// // 使用 getPorts 函数获取串口设备列表\n// getPorts()\n//   .then((ports) => {\n//     console.log(\"串口设备列表:\", ports);\n//     // 在这里处理获取到的串口设备列表\n//   })\n//   .catch((error) => {\n//     console.error(\"无法获取串口设备列表:\", error);\n//   });","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkrobot_comm_model\"] = self[\"webpackChunkrobot_comm_model\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(3209); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_el_button","type","onClick","_cache","$event","$options","GO_Convoy_Seven","GO_Bumblebee","GO_SteelCable","_hoisted_3","GO_Bluetooth","GO_BluetoothBumblebee","GO_BluetoothSteelCable","Go_BluetoothBazz","_hoisted_4","Go_facTest","data","msg","ports","abc","methods","async","port","navigator","serial","requestPort","console","log","err","error","this","getPorts","$router","replace","mounted","f","__exports__","render","_hoisted_5","_hoisted_6","requestSerialPort","_hoisted_7","_hoisted_8","closePose","_hoisted_9","_hoisted_10","timeSendingPosition","_hoisted_11","_component_el_input","$data","ArmInput","style","_hoisted_12","_hoisted_13","humanoidInitial","_hoisted_14","_hoisted_15","squatStart","_hoisted_16","_hoisted_17","onChange","args","actionDownload","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","getActionName","_component_el_select","selectedOption","_Fragment","_renderList","vOpentions","option","_createBlock","_component_el_option","key","label","value","_hoisted_26","_hoisted_27","getAction","_hoisted_28","PosData","constructor","number","Name","Pos","Speed","Delay","Loop_Time","Is_Loop_Start","Is_Loop_End","Music_State","Music_Number","CreatePosData","posDataInit","isLink","initData","dataArr","open","baudRate","parity","dataBits","stopBits","bufferSize","Uint8Array","writer","writable","getWriter","write","releaseLock","reader","readable","getReader","dataValue","done","read","i","length","len","order","flag","dataArray","j","parseInt","sendData","sum","dataUt","event","file","target","files","FileReader","readAsText","onload","fileString","evt","result","count","trim","split","index","fileline","filelineNumber","map","match","isNaN","Number","push","nameArr","dataAction","_is_Action","last_loop_byte","posDataArr","_n1","_n2","_n3","_n4","_n5","_n6","_Zero","Math","pow","Music_Chosen","posData","currentNumber","Is_In_Loop","currentData","flagNumber","currentPos","_int_temp1","_int_temp2","_int_temp3","_int_temp4","_int_temp5","_int_temp6","k","promise","Promise","resolve","reject","setTimeout","selectedName","typeName","substring","actionName","nameByte","Array","from","iconv","senLength","createCMD","redResult","promise1","promise2","promise3","promises","dataSen","sendLength","sendByte","slice","dataList","dataCount","dataInfo","strData","currentnumber","pos","dataut","closeMessage","PosDataGh","Is_Cur_Form","CreatePosDataDh","posDataDhInit","isInitData","endpointNumber","hidDevice","isRedActionLoong","isRedActionRobot","actionList","hid","requestDevice","filters","vendorId","productId","then","device","addEventListener","receivingProcess","sendReport","catch","dActionLen","currentLen","senlength","dataU8","buffer","dataLen","close","dataSum","nameContent","conv","encode","server","characteristic","Crc16_Table","connectToDevice","options","namePrefix","optionalServices","bluetooth","gatt","connect","services","getPrimaryServices","getCharacteristic","startNotifications","ReadDataMessage","SendDataFormatMessage","crc","crcData","byte","writeValue","Advance","UploadActionFileNames","performDance","InProgrammingMode","ControlJoints","vOpentionsList","isOpention","isProgramme","progData","sendPosData","sendPosDataNames","isSendPosData","isSendPdFlag","isSendPdFlagEach","dev","DOMException","code","NOT_FOUND_ERR","high","low","getDataLen","main_Cmd","sub_Cmd","crcHigh","crcLow","crcValue","actionData","addVoptions","sendPosDataName","nameDataDispose","nameData","UploadFileName","selectActionName","actionNames","GetMusic","readDataList","isAction","isRobotAction","actionExePorgress","isActionExePorgress","musicFlag","acceptAllDevices","connected","readData","readLen","dataFlag","shift","dataName","isUpFileName","upFileNameFlag","fileNameList","getDatalen","disconnectBT","InitBTProgram","OffBTProgram","SetUpServoLock","SetDomnBTProgram","axisNumber","axisValue","Achsebewegung","GetFileNames","ExistsFileName","ExecuteAction","GetRobotAxisLocation","UploadActionInRobot","SelectRobotFactory","GetFactory","RobotAbsFactory","lockList","axisData","actionFrames","InfoEnum","_defineProperty","serverBT","isBlueLink","isBT_ProgeamFlag","isOffBT_ProgeamFlag","isArtcularLockFlag","isGetFileNamesFlag","isGetRobotAxisLocationFlag","isUploadToRobotDataFlag","isExistsFileNameFlag","sendDataList","isReadTimer","isBTlinkTimer","robotFormParameter","progressValue","GetRobotAxisLocationValues","OP_SendPosData","OptimusPrime40Robot","setInterval","SendDataMessage","clearInterval","onDisconnected","BlueLink","succeed","Meg","instance","modelNumber","fail","isErr","axisLen","SendDataFormat","removeEventListener","isBluetoothAvailable","getAvailability","disconnect","timeoutId","race","intervalid","clearTimeout","timeout","ununited","stateless","curverRobot","SelectRobotElect","ret","name","startsWith","RobotBlueToothConntect","functionObj","OptimusPrime30Robot","OP_ActionFrame","CreateOP_ActionFrame","robotTest","res","BlueToothDispose","RobotBlueToothBreak","IntoBlueToothProgram","OffBlueToothProgram","SetServoLock","Value","actions","a1","a2","a3","a4","a5","router","createRouter","mode","history","createWebHashHistory","routes","path","component","HomePage","Convoy_Seven","Bumblebee","SteelCable","Bluetooth","BluetoothBumblebee","BluetoothSteelCable","BluetoothBazz","TestFactory","id","_component_router_view","script","app","createApp","App","use","ElementPlus","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}